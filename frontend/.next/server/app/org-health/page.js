(()=>{var e={};e.id=3848,e.ids=[3848],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8167:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=t(5853),n=t(60554),r=t(30708),i=t.n(r),l=t(8067),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d={children:["",{children:["org-health",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79960)),"/home/user/studio/frontend/src/app/org-health/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,25347)),"/home/user/studio/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/frontend/src/app/org-health/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/org-health/page",pathname:"/org-health",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15748:(e,s,t)=>{"use strict";t.d(s,{Ci:()=>c,Fw:()=>u,JY:()=>o,Ql:()=>m,UD:()=>x,Ut:()=>d,gJ:()=>l,mt:()=>h});var a=t(21386);t(72557);let n="org_health_surveys_v1",r=e=>[],i=(e,s)=>{};async function l(e){let s=r(n),t={id:(0,a.A)(),objective:e.objective,questions:e.questions,deployedAt:new Date().toISOString(),status:"active",submissionCount:0,optOutCount:0};return s.unshift(t),i(n,s),t}async function o(){return r(n).sort((e,s)=>new Date(s.deployedAt).getTime()-new Date(e.deployedAt).getTime())}async function d(){return(await o()).find(e=>"active"===e.status)||null}async function c(e){let s=r(n),t=s.findIndex(s=>s.id===e);-1!==t&&(s[t].submissionCount++,i(n,s))}async function m(e){let s=r(n),t=s.findIndex(s=>s.id===e);-1!==t&&(s[t].optOutCount||(s[t].optOutCount=0),s[t].optOutCount++,i(n,s))}async function u(e){let s=r(n),t=s.findIndex(s=>s.id===e);-1!==t&&"active"===s[t].status&&(s[t].status="closed",i(n,s))}async function h(e,s){let t=r(n),a=t.findIndex(s=>s.id===e);-1!==a&&(t[a].summary=s,i(n,t))}async function x(e,s,t){let a=r(n),l=a.findIndex(s=>s.id===e);-1!==l&&(a[l].coachingRecommendations=s,a[l].summary=t,i(n,a))}},18892:(e,s,t)=>{Promise.resolve().then(t.bind(t,34138))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22779:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>l});var a=t(28625),n=t(64996),r=t(37384),i=t(37284);let l=r.bL,o=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));o.displayName=r.B8.displayName;let d=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=r.l9.displayName;let c=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));c.displayName=r.UC.displayName},25108:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32044:(e,s,t)=>{Promise.resolve().then(t.bind(t,79960))},33873:e=>{"use strict";e.exports=require("path")},34138:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ew});var a=t(28625),n=t(64996),r=t(35094),i=t(78908),l=t(3062),o=t(10565),d=t(27031),c=t(29492);let m=(0,c.A)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),u=(0,c.A)("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);var h=t(30832),x=t(48382),p=t(45950),f=t(70938),j=t(87778),y=t(9156),g=t(91802),v=t(96673),b=t(65983),N=t(51976),w=t(53469),k=t(49710),A=t(51898),C=t(29170),q=t(96692),S=t(87735),R=t(25108),T=t(45552),M=t(4715),P=t(13457),L=t(81045),E=t(60051),H=t(29291),I=t(85091),O=t(15748),z=t(21386),F=t(38807),$=t(96737),D=t(7909),G=t(3338),Z=t(40731),J=t(20951),_=t(22779),U=t(29548);let B={participationRate:78,submissionCount:156,optOutRate:5};function W(){return(0,a.jsxs)(o.Zp,{className:"h-full",children:[(0,a.jsx)(o.aR,{className:"p-2 pt-2",children:(0,a.jsxs)(o.ZB,{className:"text-base font-medium flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"text-primary"}),"Survey Engagement"]})}),(0,a.jsxs)(o.Wu,{className:"space-y-4 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Participation Rate"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Percentage of users who responded."})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-primary",children:[B.participationRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Submissions"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"The total number of survey responses."})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:B.submissionCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Opt-Out Rate"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Users who chose not to participate."})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[B.optOutRate,"%"]})]})]})]})}var Q=t(38411),X=t(37284);let K=[{department:"Engineering",sentimentScore:68,risk:"Medium",reason:"Sentiment is slightly down due to recent project deadline pressures, but overall engagement remains stable."},{department:"Sales",sentimentScore:55,risk:"High",reason:"High attrition chatter and negative feedback regarding the new commission structure are driving a high-risk score."},{department:"Marketing",sentimentScore:82,risk:"Low",reason:"Positive feedback on creative freedom and successful campaigns contributes to a high morale score."},{department:"Support",sentimentScore:75,risk:"Low",reason:"Consistently high scores in team collaboration and management support keep this team in a healthy state."},{department:"Product",sentimentScore:62,risk:"Medium",reason:"Some concerns about cross-functional communication clarity are pulling the score down, but team cohesion is strong."},{department:"HR",sentimentScore:88,risk:"Low",reason:"Excellent internal feedback and high trust in leadership position the HR team as a low-risk group."}],V=e=>{switch(e){case"High":return"bg-red-500/80 hover:bg-red-500";case"Medium":return"bg-yellow-500/80 hover:bg-yellow-500";case"Low":return"bg-green-500/80 hover:bg-green-500";default:return"bg-gray-400"}};function Y(){let[e,s]=(0,n.useState)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{className:"p-2 pt-2",children:(0,a.jsxs)(o.ZB,{className:"text-base font-medium flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"text-destructive"}),"Department Risk Heatmap"]})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:K.map(e=>(0,a.jsxs)("button",{onClick:()=>s(e),className:(0,X.cn)("p-2 rounded-md text-center text-white transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",V(e.risk)),children:[(0,a.jsx)("p",{className:"font-bold text-sm truncate",children:e.department}),(0,a.jsx)("p",{className:"text-xs opacity-90",children:e.risk})]},e.department))})})]}),(0,a.jsx)(J.lG,{open:!!e,onOpenChange:e=>!e&&s(null),children:(0,a.jsxs)(J.Cf,{children:[(0,a.jsxs)(J.c7,{children:[(0,a.jsxs)(J.L3,{children:["Risk Analysis: ",e?.department]}),(0,a.jsx)(J.rr,{children:"A detailed look at the factors contributing to this department's risk score."})]}),e&&(0,a.jsxs)("div",{className:"py-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Risk Level"}),(0,a.jsx)(G.E,{variant:"High"===e.risk?"destructive":"Medium"===e.risk?"secondary":"success",className:"text-lg",children:e.risk})]}),(0,a.jsxs)("div",{className:"text-right space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Sentiment Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.sentimentScore,(0,a.jsx)("span",{className:"text-base text-muted-foreground",children:"/100"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-foreground",children:"AI-Generated Rationale"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 italic",children:['"',e.reason,'"']})]})]})]})})]})}var ee=t(47599),es=t(11567),et=t(15914),ea=t(62801),en=t(75446),er=t(67592);let ei=[{month:"Jan",score:72},{month:"Feb",score:75},{month:"Mar",score:70},{month:"Apr",score:68},{month:"May",score:78},{month:"Jun",score:82}],el={score:{label:"Morale Score",color:"hsl(var(--primary))"}};function eo(){return(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{className:"p-2 pt-2",children:(0,a.jsxs)(o.ZB,{className:"text-base font-medium flex items-start gap-2",children:[(0,a.jsx)(T.A,{className:"text-primary mt-0.5"}),"Historical Morale Trends"]})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(ee.at,{config:el,className:"h-[250px] w-full",children:(0,a.jsxs)(es.b,{accessibilityLayer:!0,data:ei,margin:{left:-10,right:12},children:[(0,a.jsx)(et.d,{vertical:!1}),(0,a.jsx)(ea.W,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8}),(0,a.jsx)(en.h,{tickLine:!1,axisLine:!1,tickMargin:8,domain:[60,90],textAnchor:"start"}),(0,a.jsx)(ee.II,{cursor:!1,content:(0,a.jsx)(ee.Nt,{})}),(0,a.jsx)(er.N,{dataKey:"score",type:"monotone",stroke:"var(--color-score)",strokeWidth:2,dot:!1})]})})})]})}var ed=t(16133);let ec=[{theme:"Work-Life Balance",mentions:45,sentiment:"Negative"},{theme:"Communication Clarity",mentions:32,sentiment:"Negative"},{theme:"Career Growth Opportunities",mentions:28,sentiment:"Mixed"},{theme:"Recognition",mentions:15,sentiment:"Positive"}];function em(){return(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{className:"p-2 pt-2",children:(0,a.jsxs)(o.ZB,{className:"text-base font-medium flex items-center gap-2",children:[(0,a.jsx)(ed.A,{className:"text-primary"}),"Top Themes & Concerns"]})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:ec.map(e=>(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("p",{className:"text-sm font-medium mr-4",children:e.theme}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)("span",{className:"text-sm font-semibold w-8 text-center",children:e.mentions}),(0,a.jsx)(G.E,{variant:"Negative"===e.sentiment?"destructive":"Positive"===e.sentiment?"success":"secondary",children:e.sentiment})]})]},e.theme))})})]})}function eu(){return(0,a.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(eo,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(W,{})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(Y,{}),(0,a.jsx)(em,{})]})]})}var eh=t(56492);let ex=[{title:"General Morale Check",objective:"Assess overall employee morale and identify key areas of satisfaction and concern."},{title:"Work-Life Balance Pulse",objective:"Gauge team sentiment regarding work-life balance and identify potential burnout risks."},{title:"Post-Reorganization Feedback",objective:"Gather feedback on the recent organizational changes to understand their impact on teams."}];function ep({onSurveyDeployed:e}){let[s,t]=(0,n.useState)(""),[r,i]=(0,n.useState)([]),[c,g]=(0,n.useState)({}),[v,b]=(0,n.useState)(""),[N,w]=(0,n.useTransition)(),{toast:k}=(0,I.dj)(),[A,C]=(0,n.useState)("selection"),q=e=>{if(!e.trim())return void k({variant:"destructive",title:"Objective is required",description:"Please describe the goal of your survey."});t(e),w(async()=>{if("Assess overall employee morale and identify key areas of satisfaction and concern."===e){let e=[{id:(0,z.A)(),questionText:"On a scale of 1-10, how would you rate your overall morale at work recently?",reasoning:"Provides a quantifiable baseline for overall employee sentiment."},{id:(0,z.A)(),questionText:"What is one thing that has energized you at work in the last month?",reasoning:"Identifies positive drivers of engagement and morale."},{id:(0,z.A)(),questionText:"What is one thing that has drained your energy or been a source of frustration?",reasoning:"Pinpoints specific pain points and areas for improvement."},{id:(0,z.A)(),questionText:"How well do you feel your work is recognized and valued by your manager and peers?",reasoning:"Measures the effectiveness of recognition practices, a key driver of morale."},{id:(0,z.A)(),questionText:"Do you feel you have the resources and support needed to succeed in your role?",reasoning:"Assesses potential blockers related to tools, training, or support systems."},{id:(0,z.A)(),questionText:"Is there anything else you would like to share about your experience at work?",reasoning:"An open-ended question to capture any issues not covered by the other questions."}];i(e),g(e.reduce((e,s)=>(s.id&&(e[s.id]=!0),e),{})),C("template");return}try{let s=await fetch("/api/ai/generate-survey-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({objective:e})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to generate survey questions.")}let t=(await s.json()).questions.map(e=>({...e,id:(0,z.A)()}));i(t);let a=t.reduce((e,s)=>(s.id&&(e[s.id]=!0),e),{});g(a)}catch(e){console.error("Failed to generate questions",e),k({variant:"destructive",title:"Generation Failed",description:"Could not get AI suggestions at this time."})}})},S=async()=>{let a=r.filter(e=>c[e.id]);if(0===a.length)return void k({variant:"destructive",title:"No questions selected",description:"Please select at least one question for the survey."});await (0,O.gJ)({objective:s,questions:a}),k({variant:"success",title:"Survey Deployed!",description:"Your anonymous survey is now active."}),t(""),i([]),g({}),C("selection"),e()},R=r.length>0&&r.every(e=>c[e.id]),T=e=>{q(e),C("template")};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(o.Zp,{className:"shadow-lg",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(o.ZB,{className:"text-xl font-semibold flex items-center gap-2",children:"Create New Anonymous Survey"}),"selection"!==A&&(0,a.jsx)(M.$,{variant:"ghost",size:"icon",onClick:()=>{C("selection"),i([])},children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(o.Wu,{className:"space-y-6",children:["selection"===A&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>C("template"),className:"p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors flex flex-col items-center justify-center text-center",children:[(0,a.jsx)(m,{className:"h-8 w-8 text-primary mb-2"}),(0,a.jsx)("p",{className:"font-semibold",children:"Start from a Template"})]}),(0,a.jsxs)("button",{onClick:()=>C("custom"),className:"p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors flex flex-col items-center justify-center text-center",children:[(0,a.jsx)(u,{className:"h-8 w-8 text-primary mb-2"}),(0,a.jsx)("p",{className:"font-semibold",children:"Start with an Objective"})]})]}),"template"===A&&(0,a.jsx)("div",{className:"space-y-3",children:ex.map((e,s)=>(0,a.jsxs)("button",{onClick:()=>T(e.objective),className:"w-full text-left p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.objective})]}),(0,a.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"})]},s))}),"custom"===A&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)($.nD,{type:"single",collapsible:!0,defaultValue:"custom-objective",children:(0,a.jsxs)($.As,{value:"custom-objective",className:"border-0",children:[(0,a.jsx)($.$m,{className:"font-semibold py-2",children:"Define a Custom Objective"}),(0,a.jsxs)($.ub,{className:"space-y-4 px-0 pb-0",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(P.T,{id:"survey-objective",value:s,onChange:e=>t(e.target.value),rows:3})}),(0,a.jsxs)(M.$,{onClick:()=>q(s),disabled:N||!s.trim(),children:[N?(0,a.jsx)(x.A,{className:"mr-2 animate-spin"}):(0,a.jsx)(p.A,{className:"mr-2"}),"Generate Suggestions"]})]})]})})}),(N||r.length>0)&&(0,a.jsxs)("div",{className:"space-y-4 pt-6 border-t",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:"2. Curate and Add Questions"}),N?(0,a.jsx)(l.E,{className:"h-40 w-full"}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(E.S,{id:"select-all",checked:R,onCheckedChange:()=>{let e={};r.forEach(s=>{e[s.id]=!R}),g(e)}}),(0,a.jsx)(L.J,{htmlFor:"select-all",className:"font-semibold",children:"Select All"})]}),r.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-3 border rounded-lg bg-muted/50",children:[(0,a.jsx)(E.S,{id:e.id,checked:!!c[e.id],onCheckedChange:s=>{g(t=>({...t,[e.id]:!!s}))},className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(L.J,{htmlFor:e.id,className:"font-medium",children:e.questionText}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-start gap-1.5 mt-1",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{children:e.reasoning})]})]})]},e.id))]}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,a.jsx)(L.J,{htmlFor:"custom-question",children:"Add a Custom Question"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(H.p,{id:"custom-question",placeholder:"Type your own question here",value:v,onChange:e=>b(e.target.value)}),(0,a.jsxs)(M.$,{variant:"outline",onClick:()=>{if(!v.trim())return;let e={id:(0,z.A)(),questionText:v,reasoning:"Custom question added by HR Head.",isCustom:!0};i(s=>[...s,e]),g(s=>({...s,[e.id]:!0})),b("")},disabled:!v.trim(),children:[(0,a.jsx)(j.A,{className:"mr-2"})," Add"]})]})]})]})]}),(N||r.length>0)&&(0,a.jsx)(o.wL,{children:(0,a.jsxs)(M.$,{size:"lg",onClick:S,disabled:0===r.filter(e=>c[e.id]).length,children:[(0,a.jsx)(y.A,{className:"mr-2"})," Deploy Survey"]})})]})})}let ef=[{q1:"I feel like my work isn't valued.",q2:"Rarely, maybe once a month.",q3:"More transparency about company direction."},{q1:"The work is interesting, but the deadlines are stressful.",q2:"My manager gives good feedback weekly.",q3:"Better work-life balance would be great."},{q1:"I enjoy my team, but the overall company morale seems low.",q2:"Almost never. I usually hear about my performance during the quarterly review.",q3:"Clearer communication from leadership."},{q1:"It feels like we're always in a state of chaos after the re-org.",q2:"I get regular feedback, which I appreciate.",q3:"I just want to know if my job is secure."}],ej={"Team Lead":["My team seems okay, but I've heard some chatter about workloads.","I try to give recognition, but I'm often too busy with my own deliverables."],AM:["The Team Leads seem stretched thin, which might be impacting how they manage their teams.","We need a clearer process for project planning to avoid last-minute crunches."],Manager:["Cross-department dependencies are causing a lot of friction and rework.","I'm concerned about the lack of visibility into project pipelines."]};function ey({open:e,onOpenChange:s,summary:t,surveyObjective:r,onPulseSent:i}){let[l,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),[m,u]=(0,n.useState)(null),[h,y]=(0,n.useState)({}),[w,k]=(0,n.useState)(!1),[A,C]=(0,n.useState)(""),{toast:q}=(0,I.dj)(),S=e=>{let s=h[e];if(!s||!m)return;let t={id:(0,z.A)(),questionText:s,reasoning:"Custom question added by HR Head.",type:"free-text"};u(s=>s?{...s,[e]:[...s[e],t]}:null),y(s=>({...s,[e]:""}))},R=async e=>{if(!A)return void q({variant:"destructive",title:"Input required",description:"Please provide a metric or insight to generate a question."});k(!0);try{let s=await fetch("/api/ai/generate-survey-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({objective:A})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to generate survey questions.")}let t=await s.json();if(t.questions.length>0){let s={...t.questions[0],id:(0,z.A)(),type:"free-text"};u(t=>t?{...t,[e]:[...t[e],s]}:null),C(""),q({title:"Question Generated",description:"A new targeted question has been added to the list."})}else throw Error("AI did not return a question.")}catch(e){console.error("Failed to generate targeted question",e),q({variant:"destructive",title:"Generation Failed"})}finally{k(!1)}},T=async()=>{if(m){o(!0);try{let e=await fetch("/api/ai/generate-leadership-pulse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({objective:`Follow-up on: ${r}`,questions:{"Team Lead":m.teamLeadQuestions,AM:m.amQuestions,Manager:m.managerQuestions,Employee:[],"HR Head":[],Anonymous:[]}})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to generate leadership pulse.")}q({title:"Leadership Pulse Sent",description:"Leaders have been notified in their Messages."}),i(),s(!1)}catch(e){q({variant:"destructive",title:"Failed to send",description:e.message||"Could not send the leadership pulse."})}finally{o(!1)}}},E=(e,s)=>(0,a.jsxs)("div",{className:"py-4 max-h-[50vh] overflow-y-auto pr-4 space-y-4",children:[e.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(L.J,{className:"flex items-center gap-2",children:["Custom question added by HR Head."===e.reasoning?(0,a.jsx)(g.A,{className:"h-4 w-4 text-primary"}):(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),"Question ",s+1]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.T,{defaultValue:e.questionText}),(0,a.jsx)(M.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),"Custom question added by HR Head."!==e.reasoning&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-start gap-1.5 mt-1",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("span",{children:["AI Rationale: ",e.reasoning]})]})]},e.id)),(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(L.J,{htmlFor:`targeted-q-${s}`,className:"font-semibold",children:"Generate a question from a specific insight"}),(0,a.jsx)(P.T,{id:`targeted-q-${s}`,placeholder:"e.g., 'Low sentiment around work-life balance' or 'Scores for leadership clarity are down 15%'",value:A,onChange:e=>C(e.target.value),rows:2}),(0,a.jsxs)(M.$,{variant:"secondary",size:"sm",onClick:()=>R(s),disabled:w,children:[w?(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Generate"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(L.J,{htmlFor:`custom-q-${s}`,children:"Or add a custom question"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.T,{id:`custom-q-${s}`,placeholder:"Type your question here...",value:h[s]||"",onChange:e=>y(t=>({...t,[s]:e.target.value})),rows:2}),(0,a.jsx)(M.$,{variant:"outline",size:"icon",onClick:()=>S(s),disabled:!h[s],children:(0,a.jsx)(j.A,{})})]})]})]})]});return(0,a.jsx)(J.lG,{open:e,onOpenChange:s,children:(0,a.jsxs)(J.Cf,{className:"max-w-3xl",children:[(0,a.jsxs)(J.c7,{children:[(0,a.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"text-primary"})," Generate Leadership Pulse Survey"]}),(0,a.jsx)(J.rr,{children:"AI has generated role-specific questions for leadership based on the anonymous feedback. Review, edit, and send."})]}),l&&(0,a.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,a.jsx)(x.A,{className:"animate-spin"})}),d&&(0,a.jsxs)(D.Fc,{variant:"destructive",children:[(0,a.jsx)(D.XL,{children:"Error"}),(0,a.jsx)(D.TN,{children:d})]}),m&&(0,a.jsxs)(_.tU,{defaultValue:"team-lead",className:"w-full",children:[(0,a.jsxs)(_.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(_.Xi,{value:"team-lead",children:"Team Lead"}),(0,a.jsx)(_.Xi,{value:"am",children:"AM"}),(0,a.jsx)(_.Xi,{value:"manager",children:"Manager"})]}),(0,a.jsx)(_.av,{value:"team-lead",children:E(m.teamLeadQuestions,"teamLeadQuestions")}),(0,a.jsx)(_.av,{value:"am",children:E(m.amQuestions,"amQuestions")}),(0,a.jsx)(_.av,{value:"manager",children:E(m.managerQuestions,"managerQuestions")})]}),(0,a.jsxs)(J.Es,{children:[(0,a.jsx)(M.$,{variant:"ghost",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsxs)(M.$,{onClick:T,disabled:l||!m,children:[l&&(0,a.jsx)(x.A,{className:"mr-2 animate-spin"}),"Send to Leaders"]})]})]})})}function eg({survey:e,onPulseSent:s,onSurveyUpdated:t}){let[i,l]=(0,n.useState)(e.summary||null),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),[y,g]=(0,n.useState)(e.coachingRecommendations||null),{toast:b}=(0,I.dj)(),{role:C}=(0,r.It)(),q=async()=>{c(!0),u(null);try{let s=await fetch("/api/ai/summarize-survey-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({objective:e.objective,questions:e.questions.map(e=>e.questionText),responses:ef.map(e=>Object.values(e))})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to summarize survey results.")}let a=await s.json();l(a),await (0,O.mt)(e.id,a),t()}catch(e){console.error("Failed to analyze survey:",e),u(e.message||"Failed to analyze survey results.")}finally{c(!1)}},S=async()=>{if(i){j(!0);try{let s=await fetch("/api/ai/summarize-leadership-pulse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveySummary:i,leadershipResponses:ej})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to summarize leadership pulse.")}let a=await s.json();g(a.coachingRecommendations),await (0,O.UD)(e.id,a.coachingRecommendations,i),b({title:"Analysis Complete",description:"Coaching recommendations have been generated."}),t()}catch(e){console.error("Failed to analyze leadership responses:",e),u(e.message||"Failed to analyze leadership responses.")}finally{j(!1)}}},R=async e=>{if(C)try{await (0,U.eJ)(e,C),b({title:"Tasks Assigned",description:"Coaching tasks have been created from the recommendations."})}catch(e){b({variant:"destructive",title:"Assignment Failed"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(ey,{open:h,onOpenChange:p,summary:i,surveyObjective:e.objective,onPulseSent:s}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground italic",children:['"',e.objective,'"']}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 text-primary"}),"Raw Responses (",ef.length," total)"]}),(0,a.jsxs)(M.$,{variant:"outline",size:"sm",onClick:()=>{if(!e||!e.questions||0===e.questions.length)return void b({variant:"destructive",title:"No questions to download."});let s=new Blob([[e.questions.map(e=>`"${e.questionText.replace(/"/g,'""')}"`).join(","),...ef.map(s=>e.questions.map((e,t)=>{let a=s[`q${t+1}`]||"No answer";return`"${a.replace(/"/g,'""')}"`}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(void 0!==t.download){let a=URL.createObjectURL(s);t.setAttribute("href",a),t.setAttribute("download",`survey_results_${e.id}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"})," Download CSV"]})]}),(0,a.jsx)("div",{className:"border rounded-lg overflow-x-auto",children:(0,a.jsxs)(Z.XI,{children:[(0,a.jsx)(Z.A0,{children:(0,a.jsx)(Z.Hj,{children:e.questions.map(e=>(0,a.jsx)(Z.nd,{className:"min-w-[200px]",children:e.questionText},e.id))})}),(0,a.jsx)(Z.BF,{children:ef.map((s,t)=>(0,a.jsx)(Z.Hj,{children:e.questions.map((e,t)=>{let n=`q${t+1}`;return(0,a.jsx)(Z.nA,{className:"text-sm py-2",children:s[n]||"No answer"},e.id)})},t))})]})})]}),"closed"===e.status&&(0,a.jsxs)("div",{children:[!i&&(0,a.jsxs)(M.$,{onClick:q,disabled:d,children:[d?(0,a.jsx)(x.A,{className:"mr-2 animate-spin"}):(0,a.jsx)(v.A,{className:"mr-2"}),"Analyze Anonymous Responses"]}),m&&(0,a.jsxs)(D.Fc,{variant:"destructive",className:"mt-4",children:[(0,a.jsx)(D.XL,{children:"Error"}),(0,a.jsx)(D.TN,{children:m})]}),i&&(0,a.jsxs)(o.Zp,{className:"mt-4",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"text-primary"})," AI Summary & Actions"]}),e.leadershipPulseSent?!y&&(0,a.jsxs)(M.$,{onClick:S,disabled:f,children:[f?(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Analyze Leadership Responses"]}):(0,a.jsxs)(M.$,{onClick:()=>p(!0),children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Generate Leadership Pulse"]})]})}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-foreground",children:"Overall Sentiment"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:i.overallSentiment})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-foreground",children:"Key Themes"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:i.keyThemes.map((e,s)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:e.theme}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.summary})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-foreground",children:"Actionable Recommendations"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:i.recommendations.map((e,s)=>(0,a.jsx)("li",{className:"text-sm text-muted-foreground",children:e},s))})]})]})]}),y&&(0,a.jsxs)(o.Zp,{className:"mt-4 border-purple-500/50",children:[(0,a.jsx)(o.aR,{className:"bg-purple-500/10",children:(0,a.jsxs)(o.ZB,{className:"text-purple-700 dark:text-purple-400 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{})," Final Coaching Recommendations"]}),(0,a.jsx)(M.$,{size:"sm",onClick:()=>R(y),children:"Assign All as Tasks"})]})}),(0,a.jsx)(o.Wu,{className:"pt-6 space-y-3",children:y.map((e,s)=>(0,a.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.theme}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.recommendation}),(0,a.jsx)(G.E,{variant:"secondary",className:"mt-2",children:e.targetAudience})]},s))})]})]})]})}function ev({onUpdate:e}){let[s,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0),{toast:d}=(0,I.dj)();(0,n.useCallback)(async()=>{i(!0),t((await (0,O.JY)()).filter(e=>"active"===e.status)),i(!1)},[]);let c=async s=>{await (0,O.Fw)(s),d({title:"Survey Closed",description:"The survey is no longer accepting new responses."}),e()};return r?(0,a.jsx)(l.E,{className:"h-32 w-full"}):0===s.length?null:(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{})," Active Surveys"]})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)($.nD,{type:"single",collapsible:!0,className:"w-full space-y-3",children:s.map(s=>(0,a.jsxs)($.As,{value:s.id,className:"border rounded-lg bg-card-foreground/5",children:[(0,a.jsxs)("div",{className:"p-4 flex flex-1 items-center justify-between",children:[(0,a.jsx)($.$m,{className:"p-0 hover:no-underline flex-1",children:(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-semibold text-lg text-foreground",children:"Survey Details"}),(0,a.jsxs)("p",{className:"text-sm font-normal text-muted-foreground",children:["Deployed ",(0,F.m)(new Date(s.deployedAt),{addSuffix:!0})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pl-4 ml-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,a.jsx)(N.A,{}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:s.submissionCount})," Submissions"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,a.jsx)(q.A,{}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:s.optOutCount||0})," Opt-outs"]}),(0,a.jsx)(G.E,{variant:"active"===s.status?"success":"secondary",children:"active"===s.status?"Active":"Closed"})]})]})}),"active"===s.status&&(0,a.jsxs)(M.$,{variant:"destructive",size:"sm",className:"ml-4",onClick:e=>{e.stopPropagation(),c(s.id)},children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Close Survey"]})]}),(0,a.jsx)($.ub,{className:"p-4 pt-2 border-t",children:(0,a.jsx)(eg,{survey:s,onPulseSent:e,onSurveyUpdated:e})})]},s.id))})})]})}function eb({onUpdate:e}){let[s,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0);return((0,n.useCallback)(async()=>{i(!0),t((await (0,O.JY)()).filter(e=>"closed"===e.status)),i(!1)},[]),r)?(0,a.jsx)(l.E,{className:"h-24 w-full"}):0===s.length?null:(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2 text-xl font-semibold",children:[(0,a.jsx)(R.A,{})," Survey History"]}),(0,a.jsx)(o.BT,{children:"A log of all completed organizational health surveys."})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)($.nD,{type:"single",collapsible:!0,className:"w-full space-y-3",children:s.map(s=>(0,a.jsxs)($.As,{value:s.id,className:"border rounded-lg bg-card-foreground/5",children:[(0,a.jsx)($.$m,{className:"p-4 hover:no-underline flex-1",children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium text-foreground truncate max-w-md",children:s.objective}),(0,a.jsxs)("p",{className:"text-sm font-normal text-muted-foreground",children:["Closed ",(0,F.m)(new Date(s.deployedAt),{addSuffix:!0})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(G.E,{variant:s.coachingRecommendations?"success":s.summary?"secondary":"outline",children:s.coachingRecommendations?"Completed":s.summary?"Analyzed":"Closed"})})]})}),(0,a.jsx)($.ub,{className:"border-t",children:(0,a.jsx)(eh.F,{className:"h-[70vh] w-full",children:(0,a.jsx)("div",{className:"p-4 pt-2",children:(0,a.jsx)(eg,{survey:s,onPulseSent:e,onSurveyUpdated:e})})})})]},s.id))})})]})}function eN(){let[e,s]=(0,n.useState)(0),t=()=>{s(e=>e+1)};return(0,a.jsxs)("div",{className:"p-4 md:p-8 space-y-8",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold font-headline flex items-center gap-3",children:[(0,a.jsx)(T.A,{className:"h-8 w-8 text-pink-500"}),"Org Health"]}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground mt-2",children:"Deploy anonymous surveys, analyze feedback with AI, and drive targeted L&D actions."})]})}),(0,a.jsx)(eu,{}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,a.jsx)(ep,{onSurveyDeployed:t})}),(0,a.jsx)(ev,{onUpdate:t},`deployed-${e}`),(0,a.jsx)(eb,{onUpdate:t},`history-${e}`)]})}function ew(){let{role:e,setRole:s,isLoading:t}=(0,r.It)();return t||!e?(0,a.jsx)(i.A,{role:"HR Head",onSwitchRole:()=>{},children:(0,a.jsx)(l.E,{className:"w-full h-screen"})}):"HR Head"!==e?(0,a.jsx)(i.A,{role:e,onSwitchRole:s,children:(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"This page is only available for the HR Head role."})]})}):(0,a.jsx)(i.A,{role:e,onSwitchRole:s,children:(0,a.jsx)(eN,{})})}},45950:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},49710:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},60051:(e,s,t)=>{"use strict";t.d(s,{S:()=>C});var a=t(28625),n=t(64996),r=t(72497),i=t(68415),l=t(17979),o=t(6309),d=t(37163),c=t(26351),m=t(35521),u=t(55498),h="Checkbox",[x,p]=(0,i.A)(h),[f,j]=x(h),y=n.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:i,checked:d,defaultChecked:c,required:m,disabled:h,value:x="on",onCheckedChange:p,form:j,...y}=e,[g,v]=n.useState(null),k=(0,r.s)(s,e=>v(e)),A=n.useRef(!1),C=!g||j||!!g.closest("form"),[q=!1,S]=(0,o.i)({prop:d,defaultProp:c,onChange:p}),R=n.useRef(q);return n.useEffect(()=>{let e=g?.form;if(e){let s=()=>S(R.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[g,S]),(0,a.jsxs)(f,{scope:t,state:q,disabled:h,children:[(0,a.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":N(q)?"mixed":q,"aria-required":m,"data-state":w(q),"data-disabled":h?"":void 0,disabled:h,value:x,...y,ref:k,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(e.onClick,e=>{S(e=>!!N(e)||!e),C&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())})}),C&&(0,a.jsx)(b,{control:g,bubbles:!A.current,name:i,value:x,checked:q,required:m,disabled:h,form:j,style:{transform:"translateX(-100%)"},defaultChecked:!N(c)&&c})]})});y.displayName=h;var g="CheckboxIndicator",v=n.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:n,...r}=e,i=j(g,t);return(0,a.jsx)(m.C,{present:n||N(i.state)||!0===i.state,children:(0,a.jsx)(u.sG.span,{"data-state":w(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});v.displayName=g;var b=e=>{let{control:s,checked:t,bubbles:r=!0,defaultChecked:i,...l}=e,o=n.useRef(null),m=(0,d.Z)(t),u=(0,c.X)(s);n.useEffect(()=>{let e=o.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==t&&s){let a=new Event("click",{bubbles:r});e.indeterminate=N(t),s.call(e,!N(t)&&t),e.dispatchEvent(a)}},[m,t,r]);let h=n.useRef(!N(t)&&t);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...l,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return"indeterminate"===e}function w(e){return N(e)?"indeterminate":e?"checked":"unchecked"}var k=t(72372),A=t(37284);let C=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(y,{ref:t,className:(0,A.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,a.jsx)(v,{className:(0,A.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})}));C.displayName=y.displayName},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},70938:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},79960:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/frontend/src/app/org-health/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/frontend/src/app/org-health/page.tsx","default")},87735:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},91802:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},96692:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},96737:(e,s,t)=>{"use strict";t.d(s,{$m:()=>c,As:()=>d,nD:()=>o,ub:()=>m});var a=t(28625),n=t(64996),r=t(24876),i=t(15992),l=t(37284);let o=r.bL,d=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.q7,{ref:t,className:(0,l.cn)("border-b",e),...s}));d.displayName="AccordionItem";let c=n.forwardRef(({className:e,children:s,...t},n)=>(0,a.jsx)(r.Y9,{className:"flex",children:(0,a.jsxs)(r.l9,{ref:n,className:(0,l.cn)("flex flex-1 items-center py-4 font-medium transition-all [&[data-state=open]>svg]:rotate-180",e),...t,children:[s,(0,a.jsx)(i.A,{className:"ml-auto h-4 w-4 shrink-0 transition-transform duration-200"})]})}));c.displayName=r.l9.displayName;let m=n.forwardRef(({className:e,children:s,...t},n)=>(0,a.jsx)(r.UC,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:(0,a.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",e),children:s})}));m.displayName=r.UC.displayName}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9683,4967,1808,2047,9401,2692,1933,8908],()=>t(8167));module.exports=a})();