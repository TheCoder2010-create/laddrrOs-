(()=>{var e={};e.id=7447,e.ids=[7447],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7615:(e,s,t)=>{Promise.resolve().then(t.bind(t,84451))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23015:(e,s,t)=>{"use strict";t.d(s,{A:()=>g});var a=t(28625),r=t(64996),i=t(10565),n=t(4715),l=t(13457),o=t(27031),c=t(96673),d=t(89453),u=t(48382),m=t(49671),h=t(9156),p=t(37284),x=t(56492);!function(){var e=Error("Cannot find module '../../backend/src/ai/flows/nets-flow'");throw e.code="MODULE_NOT_FOUND",e}();var f=t(85091);!function(){var e=Error("Cannot find module '../../backend/src/ai/flows/generate-nets-nudge-flow'");throw e.code="MODULE_NOT_FOUND",e}();let j=({icon:e})=>(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e});function g({initialConfig:e,onExit:s,arenaTitle:t="Practice Arena"}){let[g,y]=(0,r.useTransition)(),[v,N]=(0,r.useTransition)(),[w,b]=(0,r.useState)([]),[A,k]=(0,r.useState)(""),{toast:C}=(0,f.dj)(),S=(0,r.useRef)(null),P=()=>{if(!A.trim())return;let s=[...w,{role:"user",content:A}];b(s),k(""),y(async()=>{try{let t={...e,history:s.filter(e=>"system"!==e.role)},a=await Object(function(){var e=Error("Cannot find module '../../backend/src/ai/flows/nets-flow'");throw e.code="MODULE_NOT_FOUND",e}())(t);b(e=>[...e,a])}catch(e){console.error("AI simulation failed",e),C({variant:"destructive",title:"Simulation Error",description:"The AI could not respond. Please try again."}),b(e=>e.slice(0,-1))}})};return(0,a.jsxs)(i.Zp,{className:"w-full max-w-4xl mx-auto shadow-2xl shadow-primary/10",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(i.ZB,{className:"flex items-center gap-2 text-2xl",children:t}),(0,a.jsxs)(n.$,{variant:"ghost",onClick:()=>{s(w.filter(e=>"system"!==e.role))},children:[(0,a.jsx)(o.A,{className:"mr-2"})," End Session"]})]}),(0,a.jsxs)(i.BT,{children:["You are in a simulation with a ",(0,a.jsx)("span",{className:"font-semibold text-primary",children:e.persona}),". The scenario is: ",(0,a.jsx)("span",{className:"font-semibold text-primary",children:e.scenario}),"."]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)(x.F,{className:"h-[50vh] w-full border rounded-lg p-4 space-y-4",ref:S,children:[w.map((e,s)=>(0,a.jsxs)("div",{className:(0,p.cn)("flex items-start gap-3","user"===e.role?"justify-end":"justify-start"),children:["model"===e.role&&(0,a.jsx)(j,{icon:(0,a.jsx)(c.A,{className:"text-primary"})}),"system"===e.role?(0,a.jsx)("div",{className:"text-center text-xs text-muted-foreground italic w-full py-4",children:e.content}):(0,a.jsx)("div",{className:(0,p.cn)("max-w-[75%] rounded-lg px-4 py-2","user"===e.role?"bg-primary text-primary-foreground":"bg-muted"),children:(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),"user"===e.role&&(0,a.jsx)(j,{icon:(0,a.jsx)(d.A,{})})]},s)),g&&w.length>0&&(0,a.jsxs)("div",{className:"flex items-start gap-3 justify-start",children:[(0,a.jsx)(j,{icon:(0,a.jsx)(c.A,{className:"text-primary"})}),(0,a.jsx)("div",{className:"bg-muted rounded-lg px-4 py-3",children:(0,a.jsx)(u.A,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]})]})}),(0,a.jsx)(i.wL,{children:(0,a.jsxs)("div",{className:"flex w-full items-center gap-2 relative",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{N(async()=>{try{let s={...e,history:w.filter(e=>"system"!==e.role)},t=await Object(function(){var e=Error("Cannot find module '../../backend/src/ai/flows/generate-nets-nudge-flow'");throw e.code="MODULE_NOT_FOUND",e}())(s);C({title:"Coach's Nudge",description:t.nudge,duration:8e3})}catch(e){console.error("Failed to get nudge",e),C({variant:"destructive",title:"Nudge Failed",description:"Could not get a hint at this time."})}})},disabled:v||g,className:"absolute left-2 top-1/2 -translate-y-1/2",children:v?(0,a.jsx)(u.A,{className:"animate-spin text-yellow-400"}):(0,a.jsx)(m.A,{className:"text-yellow-400"})}),(0,a.jsx)(l.T,{value:A,onChange:e=>k(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),g||P())},placeholder:"Type your response here...",className:"pl-14 pr-12",rows:1,disabled:g}),(0,a.jsx)(n.$,{size:"icon",onClick:P,disabled:g||!A.trim(),className:"absolute right-2",children:(0,a.jsx)(h.A,{})})]})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33679:(e,s,t)=>{"use strict";t.d(s,{bq:()=>m,eb:()=>f,gC:()=>x,l6:()=>d,yv:()=>u});var a=t(28625),r=t(64996),i=t(79829),n=t(15992),l=t(53917),o=t(72372),c=t(37284);let d=i.bL;i.YJ;let u=i.WT,m=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.l9.displayName;let h=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}));h.displayName=i.PP.displayName;let p=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=i.wn.displayName;let x=r.forwardRef(({className:e,children:s,position:t="popper",...r},n)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[(0,a.jsx)(h,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(p,{})]})}));x.displayName=i.UC.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.JU.displayName;let f=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:s})]}));f.displayName=i.q7.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.wv.displayName},33873:e=>{"use strict";e.exports=require("path")},44567:(e,s,t)=>{Promise.resolve().then(t.bind(t,97058))},51006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(5853),r=t(60554),i=t(30708),n=t.n(i),l=t(8067),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c={children:["",{children:["nets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,84451)),"/home/user/studio/frontend/src/app/nets/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,25347)),"/home/user/studio/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/user/studio/frontend/src/app/nets/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/nets/page",pathname:"/nets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},53347:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},84451:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/frontend/src/app/nets/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/frontend/src/app/nets/page.tsx","default")},86444:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(29492).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},97058:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(28625),r=t(64996),i=t(35094),n=t(78908),l=t(3062),o=t(10565),c=t(4715),d=t(81045),u=t(33679),m=t(13457),h=t(51976),p=t(53347),x=t(53824),f=t(35886),j=t(86444),g=t(89453),y=t(65983),v=t(29492);let N=(0,v.A)("ClipboardPen",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);var w=t(47580),b=t(48382),A=t(9156);let k=(0,v.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var C=t(27031),S=t(49671),P=t(20361),_=t(37284),T=t(85091),F=t(17014),E=t(93948),q=t.n(E),M=t(11107),O=t(72557),R=t(91963),z=t(20951),L=t(96420),U=t(85085),D=t(23015);let $=[{value:"friendly",label:"Friendly"},{value:"neutral",label:"Neutral"},{value:"strict",label:"Strict / Defensive"},{value:"aggressive",label:"Aggressive"}],G={"Team Lead":h.A,AM:p.A,Manager:x.A,"HR Head":f.A,Employee:j.A,Candidate:g.A};function I({onAssign:e}){let{role:s}=(0,i.It)(),{toast:t}=(0,T.dj)(),[n,l]=(0,r.useState)(null),[o,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(null),[f,j]=(0,r.useState)(),[g,v]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[S,P]=(0,r.useState)(!1),E=Object.keys(F._w).filter(e=>["Team Lead","Employee"].includes(e)),q=async()=>{if(!s||!n||!o||!p||!f)return void t({variant:"destructive",title:"Missing Information",description:"Please fill out all fields."});v(!0);try{await (0,O.dF)(s,n,o,p,f),t({title:"Practice Scenario Assigned!",description:`${F._w[n].name} has been assigned a new practice scenario.`}),l(null),h(""),x(null),j(void 0),C(!1),e()}catch(e){console.error("Failed to assign practice scenario",e),t({variant:"destructive",title:"Assignment Failed"})}finally{v(!1)}};return(0,a.jsxs)(z.lG,{open:k,onOpenChange:C,children:[(0,a.jsx)(z.zM,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Assign"]})}),(0,a.jsxs)(z.Cf,{children:[(0,a.jsxs)(z.c7,{children:[(0,a.jsxs)(z.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(N,{className:"text-primary"}),"Assign Practice Scenario"]}),(0,a.jsx)(z.rr,{children:"Assign a specific conversation scenario to a team member for them to practice."})]}),(0,a.jsxs)("div",{className:"py-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"assign-user",className:"text-right",children:"Assign To"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(u.l6,{value:n??"",onValueChange:e=>l(e),children:[(0,a.jsx)(u.bq,{id:"assign-user",children:(0,a.jsx)(u.yv,{placeholder:"Select a team member"})}),(0,a.jsx)(u.gC,{children:E.map(e=>(0,a.jsxs)(u.eb,{value:e,children:[F._w[e].name," - (",e,")"]},e))})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"assign-scenario",children:"Scenario to Practice"}),(0,a.jsx)(m.T,{id:"assign-scenario",placeholder:"e.g., Practice delivering the Q3 project update to the leadership team...",rows:3,value:o,onChange:e=>h(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"assign-persona",className:"text-right",children:"Persona"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(u.l6,{value:p??"",onValueChange:e=>x(e),children:[(0,a.jsx)(u.bq,{id:"assign-persona",children:(0,a.jsx)(u.yv,{placeholder:"Select the AI persona"})}),(0,a.jsx)(u.gC,{children:Object.keys(G).map(e=>(0,a.jsx)(u.eb,{value:e,children:e},e))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"assign-date",className:"text-right",children:"Complete By"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(L.AM,{open:S,onOpenChange:P,children:[(0,a.jsx)(L.Wv,{asChild:!0,children:(0,a.jsxs)(c.$,{id:"assign-date",variant:"outline",className:(0,_.cn)("w-full justify-start text-left font-normal",!f&&"text-muted-foreground"),children:[(0,a.jsx)(w.A,{className:"mr-2 h-4 w-4"}),f?(0,R.GP)(f,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(L.hl,{className:"w-auto p-0",children:(0,a.jsx)(U.V,{mode:"single",selected:f,onSelect:e=>{j(e),P(!1)},initialFocus:!0})})]})})]})]}),(0,a.jsxs)(z.Es,{children:[(0,a.jsx)(z.HM,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",children:"Cancel"})}),(0,a.jsxs)(c.$,{onClick:q,disabled:g||!n||!o||!p||!f,children:[g?(0,a.jsx)(b.A,{className:"mr-2 animate-spin"}):(0,a.jsx)(A.A,{className:"mr-2"}),"Assign Scenario"]})]})]})]})}function J({onStart:e,role:s,assignedScenarios:t,onAssign:n}){let[l,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[j,g]=(0,r.useState)("neutral"),[y,v]=(0,r.useTransition)(),{toast:w}=(0,T.dj)(),A=s=>{l&&p&&e({persona:l,scenario:p,difficulty:j},s)},_=s=>{h(s.persona),f(s.scenario),e({persona:s.persona,scenario:s.scenario,difficulty:"neutral"},s.id)};if(!l)return(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Nets â€“ Practice Arena"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.$,{variant:"outline",asChild:!0,children:(0,a.jsx)(q(),{href:"/nets/scorecard",children:"Scorecard"})}),i.TN.includes(s)&&(0,a.jsx)(I,{onAssign:n})]})]}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground text-center mb-6",children:"Choose a persona to practice your conversation with."}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.Z4.filter(e=>"Anonymous"!==e).map(e=>{F._w[e]||e.substring(0,1);let s=G[e]||x.A;return(0,a.jsxs)("button",{onClick:()=>h(e),className:"group flex flex-col items-center justify-center gap-2 py-4 transition-transform duration-200 ease-in-out hover:scale-110 hover:-translate-y-1",children:[(0,a.jsx)(s,{className:"h-10 w-10 text-muted-foreground transition-colors group-hover:text-primary"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:e})]},e)})}),t.length>0&&(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(N,{className:"h-5 w-5 text-purple-500"}),"Assigned for Practice"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>(0,a.jsxs)(o.Zp,{className:"bg-purple-500/5",children:[(0,a.jsx)(o.aR,{className:"pb-3"}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("p",{className:"font-medium text-foreground-primary",children:e.scenario}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Persona: ",e.persona]})]}),(0,a.jsx)(o.wL,{children:(0,a.jsxs)(c.$,{className:"w-full bg-purple-600 hover:bg-purple-700",onClick:()=>_(e),children:[(0,a.jsx)(k,{className:"mr-2"})," Start Practice"]})})]},e.id))})]})]});let E=G[l]||x.A;return(0,a.jsxs)(o.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(o.ZB,{className:"flex items-center gap-2 text-3xl font-bold font-headline",children:"Configure Simulation"}),(0,a.jsxs)(o.BT,{className:"text-lg flex items-center gap-2",children:["Practicing with: ",(0,a.jsx)(E,{className:"h-5 w-5 text-primary"})," ",(0,a.jsx)("span",{className:"font-bold text-primary",children:l})]})]}),(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>h(null),children:[(0,a.jsx)(C.A,{className:"mr-2"})," Back"]})]})}),(0,a.jsxs)(o.Wu,{className:"space-y-6 pt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(d.J,{htmlFor:"scenario",children:"Describe the scenario to practice"}),(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>{v(async()=>{try{let e=await fetch("/api/ai/generate-nets-suggestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({forRole:s})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to generate Nets suggestion.")}let t=await e.json();f(t.suggestedScenario),w({title:"Scenario Suggested!",description:"A practice scenario has been generated for you based on your recent activity."})}catch(e){console.error("Failed to get suggestion",e),w({variant:"destructive",title:"Suggestion Failed",description:"Could not generate a suggestion at this time."})}})},disabled:y,children:[y?(0,a.jsx)(b.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(S.A,{className:"h-4 w-4 mr-2 text-yellow-400"}),"Get Suggestion"]})]}),(0,a.jsx)(m.T,{id:"scenario",placeholder:"e.g., Giving tough feedback about missed deadlines to a good performer.",rows:4,value:p,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"difficulty",children:"Set AI Demeanor"}),(0,a.jsxs)(u.l6,{value:j,onValueChange:g,children:[(0,a.jsx)(u.bq,{id:"difficulty",children:(0,a.jsx)(u.yv,{placeholder:"Select a difficulty"})}),(0,a.jsx)(u.gC,{children:$.map(e=>(0,a.jsx)(u.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsx)(o.wL,{children:(0,a.jsxs)(c.$,{className:"w-full",size:"lg",onClick:()=>A(),disabled:!p,children:["Start Practice ",(0,a.jsx)(P.A,{className:"ml-2"})]})})]})}function Z(){let{role:e,setRole:s,isLoading:t}=(0,i.It)(),o=(0,M.useRouter)(),{toast:c}=(0,T.dj)(),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(),[p,x]=(0,r.useState)([]),[f,j]=(0,r.useTransition)(),g=(0,r.useCallback)(async()=>{e&&x(await (0,O.l1)(e))},[e]);return t||!e?(0,a.jsx)(n.A,{role:"Employee",onSwitchRole:()=>{},children:(0,a.jsx)(l.E,{className:"w-full h-screen"})}):(0,a.jsx)(n.A,{role:e,onSwitchRole:s,children:(0,a.jsx)("div",{className:"p-4 md:p-8 flex items-center justify-center",children:d?(0,a.jsx)(D.A,{initialConfig:d,onExit:e=>{if(!e||0===e.length)return void u(null);j(async()=>{try{let s={...d,history:e};await (0,O.Pn)(s,m),c({title:"Simulation Complete!",description:"Your scorecard has been updated with the results."}),u(null),h(void 0),g(),o.push("/nets/scorecard")}catch(e){console.error("Failed to analyze conversation",e),c({variant:"destructive",title:"Analysis Failed",description:"Could not generate a scorecard for this session."}),u(null)}})}}):(0,a.jsx)(J,{onStart:(e,s)=>{u(e),h(s),c({title:"Simulation Started",description:"The AI will begin the conversation."})},role:e,assignedScenarios:p,onAssign:g})})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9683,4967,1808,2047,9401,5136,1933,8908],()=>t(51006));module.exports=a})();