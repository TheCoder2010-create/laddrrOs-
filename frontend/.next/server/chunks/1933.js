exports.id=1933,exports.ids=[1933],exports.modules={3062:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var n=a(28625),i=a(37284);function s({className:e,...t}){return(0,n.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...t})}},4715:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>d});var n=a(28625),i=a(64996),s=a(76435),r=a(44714),o=a(37284);let d=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",success:"bg-success text-success-foreground hover:bg-success/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-3",sm:"h-8 px-2.5",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef(({className:e,variant:t,size:a,asChild:i=!1,...r},l)=>{let c=i?s.DX:"button";return(0,n.jsx)(c,{className:(0,o.cn)(d({variant:t,size:a,className:e})),ref:l,...r})});l.displayName="Button",l.getVariant=d},10565:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>r,aR:()=>o,wL:()=>u});var n=a(28625),i=a(64996),s=a(37284);let r=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));r.displayName="Card";let o=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let d=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=i.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},17014:(e,t,a)=>{"use strict";a.d(t,{B6:()=>i,_w:()=>n,cj:()=>s});let n={Manager:{name:"Alex Smith",fallback:"AS",imageHint:"manager",role:"Manager"},"Team Lead":{name:"Ben Carter",fallback:"BC",imageHint:"leader",role:"Team Lead"},AM:{name:"Ashley Miles",fallback:"AM",imageHint:"assistant manager",role:"AM"},Employee:{name:"Casey Day",fallback:"CD",imageHint:"employee",role:"Employee"},"HR Head":{name:"Dana Evans",fallback:"DE",imageHint:"hr head",role:"HR Head"},Anonymous:{name:"Anonymous",fallback:"??",imageHint:"anonymous person",role:"Anonymous"}},i=e=>{for(let t in n)if(n[t].name===e)return t},s=e=>{if(!e||"System"===e)return"System";if("Anonymous"===e)return"Anonymous";if(Object.keys(n).includes(e)){let t=n[e];return"Anonymous"===t.role?"Anonymous":`${t.name} - ${t.role}`}let t=i(e);return t?`${e} - ${t}`:e}},17409:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});let n=(0,a(20413).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/frontend/src/components/theme-provider.tsx","ThemeProvider")},19071:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>s});var n=a(28625);a(64996);var i=a(7972);function s({children:e,...t}){return(0,n.jsx)(i.N,{...t,children:e})}},20485:()=>{},25347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>r});var n=a(57307);a(20485);var i=a(88573),s=a(17409);let r={title:"Laddrr",description:"An OS for team and individual accountability."};function o({children:e}){return(0,n.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,n.jsxs)("head",{children:[(0,n.jsx)("link",{rel:"icon",href:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><g transform='rotate(15 50 50)'><rect x='25' y='10' width='8' height='80' fill='%23D6A01D' rx='2' ry='2'/><rect x='65' y='10' width='8' height='80' fill='%23D6A01D' rx='2' ry='2'/><rect x='29' y='25' width='40' height='7' fill='%23D6A01D' rx='1' ry='1'/><rect x='29' y='45' width='40' height='7' fill='%23D6A01D' rx='1' ry='1'/><rect x='29' y='65' width='40' height='7' fill='%23D6A01D' rx='1' ry='1'/></g><rect x='60' y='80' width='35' height='7' fill='%23D6A01D' rx='1'ry='1'/><rect x='60' y='90' width='35' height='7' fill='%23D6A01D' rx='1' ry='1'/></svg>"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,n.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,n.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;700&display=swap",rel:"stylesheet"})]}),(0,n.jsx)("body",{className:"font-body antialiased",suppressHydrationWarning:!0,children:(0,n.jsxs)(s.ThemeProvider,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:[e,(0,n.jsx)(i.Toaster,{})]})})]})}},29548:(e,t,a)=>{"use strict";a.d(t,{eJ:()=>c,v2:()=>u});var n=a(21386);a(67373);let i=()=>[],s=e=>{},r=(e,t,a)=>{let r=i(),o={id:(0,n.A)(),timestamp:new Date().toISOString(),actor:e,action:t,caseId:a};r.unshift(o),s(r)},o="org_coaching_items_v1",d=e=>[],l=(e,t)=>{};async function c(e,t){let a=d(o),i=new Date().toISOString(),s=e.map(e=>({id:(0,n.A)(),theme:e.theme,recommendation:e.recommendation,targetAudience:e.targetAudience,status:"Assigned",assignedAt:i,assignedBy:t}));l(o,[...s,...a]),r(t,`Assigned ${s.length} new coaching tasks from Org Health analysis.`)}async function u(){return d(o).sort((e,t)=>new Date(t.assignedAt).getTime()-new Date(e.assignedAt).getTime())}},37284:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var n=a(69958),i=a(79802);function s(...e){return(0,i.QP)((0,n.$)(e))}},50701:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>y});var n=a(28625),i=a(85091),s=a(64996),r=a(89531),o=a(44714),d=a(86028),l=a(37284);let c=r.Kq,u=s.forwardRef(({className:e,...t},a)=>(0,n.jsx)(r.LM,{ref:a,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u.displayName=r.LM.displayName;let m=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-success bg-success text-success-foreground"}},defaultVariants:{variant:"default"}}),g=s.forwardRef(({className:e,variant:t,...a},i)=>(0,n.jsx)(r.bL,{ref:i,className:(0,l.cn)(m({variant:t}),e),...a}));g.displayName=r.bL.displayName,s.forwardRef(({className:e,...t},a)=>(0,n.jsx)(r.rc,{ref:a,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=r.rc.displayName;let f=s.forwardRef(({className:e,...t},a)=>(0,n.jsx)(r.bm,{ref:a,className:(0,l.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,n.jsx)(d.A,{className:"h-4 w-4"})}));f.displayName=r.bm.displayName;let p=s.forwardRef(({className:e,...t},a)=>(0,n.jsx)(r.hE,{ref:a,className:(0,l.cn)("text-sm font-semibold",e),...t}));p.displayName=r.hE.displayName;let h=s.forwardRef(({className:e,...t},a)=>(0,n.jsx)(r.VY,{ref:a,className:(0,l.cn)("text-sm opacity-90",e),...t}));function y(){let{toasts:e}=(0,i.dj)();return(0,n.jsxs)(c,{children:[e.map(function({id:e,title:t,description:a,action:i,...s}){return(0,n.jsxs)(g,{...s,children:[(0,n.jsxs)("div",{className:"grid gap-1",children:[t&&(0,n.jsx)(p,{children:t}),a&&(0,n.jsx)(h,{children:a})]}),i,(0,n.jsx)(f,{})]},e)}),(0,n.jsx)(u,{})]})}h.displayName=r.VY.displayName},53377:(e,t,a)=>{Promise.resolve().then(a.bind(a,17409)),Promise.resolve().then(a.bind(a,88573))},55094:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,88416,23)),Promise.resolve().then(a.t.bind(a,27342,23)),Promise.resolve().then(a.t.bind(a,74078,23)),Promise.resolve().then(a.t.bind(a,64193,23)),Promise.resolve().then(a.t.bind(a,91573,23)),Promise.resolve().then(a.t.bind(a,95405,23)),Promise.resolve().then(a.t.bind(a,97301,23)),Promise.resolve().then(a.t.bind(a,36159,23))},66529:(e,t,a)=>{Promise.resolve().then(a.bind(a,19071)),Promise.resolve().then(a.bind(a,50701))},67373:(e,t,a)=>{"use strict";a.d(t,{_w:()=>n});let n={Manager:{name:"Alex Smith",fallback:"AS",imageHint:"manager",role:"Manager"},"Team Lead":{name:"Ben Carter",fallback:"BC",imageHint:"leader",role:"Team Lead"},AM:{name:"Ashley Miles",fallback:"AM",imageHint:"assistant manager",role:"AM"},Employee:{name:"Casey Day",fallback:"CD",imageHint:"employee",role:"Employee"},"HR Head":{name:"Dana Evans",fallback:"DE",imageHint:"hr head",role:"HR Head"},Anonymous:{name:"Anonymous",fallback:"??",imageHint:"anonymous person",role:"Anonymous"}}},72557:(e,t,a)=>{"use strict";a.d(t,{EI:()=>z,Jh:()=>Z,K2:()=>F,KT:()=>O,LW:()=>K,My:()=>J,NX:()=>Q,Pn:()=>y,Qj:()=>U,S3:()=>h,SB:()=>D,ST:()=>M,T$:()=>G,UU:()=>x,Vy:()=>S,Wt:()=>C,X0:()=>v,XC:()=>Y,Xo:()=>I,ZY:()=>j,Zm:()=>$,aj:()=>E,dF:()=>g,fJ:()=>R,hx:()=>b,iI:()=>L,kR:()=>X,l1:()=>f,l8:()=>T,lo:()=>W,m:()=>p,nJ:()=>k,nq:()=>P,qh:()=>A,rA:()=>B,rO:()=>N,sC:()=>V,vG:()=>_,xn:()=>q,yM:()=>w,z1:()=>H});var n=a(21386),i=a(17014),s=a(29548);let r=()=>`Org-Ref-${Math.floor(1e5+9e5*Math.random())}`,o="accountability_feedback_v3",d="one_on_one_history_v3",l="custom_coaching_plans_v1",c="practice_scenarios_v1",u=e=>[],m=(e,t)=>{};async function g(e,t,a,s,r){let o=u(c),d={id:(0,n.A)(),assignedBy:e,assignedTo:t,scenario:a,persona:s,status:"pending",assignedAt:new Date().toISOString(),dueDate:r.toISOString()};if(o.unshift(d),m(c,o),"System"!==e){let n=H(),s=i._w[e]?.name||e,r={trackingId:`NETS-${d.id}`,subject:"New Practice Scenario Assigned",message:`${s} has assigned you a new practice scenario in the Nets arena: "${a}"`,submittedAt:new Date,criticality:"Low",status:"Pending Acknowledgement",assignedTo:[t],viewed:!1,auditTrail:[{event:"Notification Created",timestamp:new Date,actor:"System",details:"Automated notification for Nets practice scenario assignment."}]};n.unshift(r),P(n)}}async function f(e){return u(c).filter(t=>t.assignedTo===e&&"pending"===t.status)}function p(e){return u(c).filter(t=>t.assignedTo===e&&"completed"===t.status)}async function h(e){return u(c).filter(t=>t.assignedBy===e)}async function y(e,t){let a=await fetch("/api/ai/analyze-nets-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).error||"Failed to analyze Nets conversation.");let s=await a.json(),r=u(c);if(t){let e=r.findIndex(e=>e.id===t);-1!==e&&(r[e].status="completed",r[e].completedAt=new Date().toISOString(),r[e].analysis=s)}else{let t=Object.values(i._w).find(e=>"Casey Day"===e.name)?.role||"Employee",a={id:(0,n.A)(),assignedBy:"System",assignedTo:t,scenario:e.scenario,persona:e.persona,status:"completed",assignedAt:new Date().toISOString(),dueDate:new Date().toISOString(),completedAt:new Date().toISOString(),analysis:s};r.unshift(a)}return m(c,r),s}async function w(){return u(d).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}async function v(e){let t=i._w[e]?.name||e,a=Object.keys(i._w).find(e=>i._w[e].name===t)||e,n=await w(),r=u(l),o=await (0,s.v2)(),d=[];return n.forEach(e=>{(e.supervisorName===t||e.employeeName===t)&&e.analysis.coachingRecommendations.forEach(a=>{"accepted"===a.status&&e.supervisorName===t&&d.push({historyId:e.id,rec:a})})}),r.forEach(e=>{e.auditTrail?.[0]?.actor===t&&"accepted"===e.status&&d.push({historyId:null,rec:e})}),o.forEach(e=>{if("Assigned"===e.status||"In Progress"===e.status){let n=e.targetAudience,i=n.startsWith("All "),s=i?n.replace("All ",""):n;if(n===t||i&&a===s){let t={id:e.id,area:e.theme,recommendation:e.recommendation,type:"Other",resource:"Organizational Initiative",justification:"This goal was assigned based on a recent org-wide health analysis.",status:"accepted",progress:0,startDate:e.assignedAt,endDate:new Date(new Date(e.assignedAt).getTime()+2592e6).toISOString(),auditTrail:[{event:"Goal Assigned from Org Health",actor:e.assignedBy,timestamp:e.assignedAt,details:`Theme: ${e.theme}`}]};d.push({historyId:null,rec:t})}}}),d}async function T(e){let t=await w(),a={...e,id:r(),assignedTo:[]};return t.unshift(a),m(d,t),a}async function D(e,t){let a=await w(),n=a.findIndex(t=>t.id===e);if(-1===n)return;let i=a[n];if(!i.analysis.actionItems)return;let s=i.analysis.actionItems.findIndex(e=>e.id===t);if(-1===s)return;let r=i.analysis.actionItems[s];"pending"===r.status?(r.status="completed",r.completedAt=new Date().toISOString()):(r.status="pending",r.completedAt=void 0),m(d,a)}async function x(e,t){let a=await w(),n=a.findIndex(t=>t.id===e);if(-1!==n&&a[n].analysis.criticalCoachingInsight){let e=a[n];e.analysis.criticalCoachingInsight.supervisorResponse=t,e.analysis.criticalCoachingInsight.status="pending_employee_acknowledgement",e.analysis.criticalCoachingInsight.auditTrail||(e.analysis.criticalCoachingInsight.auditTrail=[]),e.analysis.criticalCoachingInsight.auditTrail.push({event:"Responded",timestamp:new Date,actor:e.supervisorName,details:t}),m(d,a)}else throw Error("Could not find history item or critical insight to update.")}async function b(e,t,a,n){let i=await w(),s=i.findIndex(t=>t.id===e);if(-1===s||!i[s].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let r=i[s],o=r.analysis.criticalCoachingInsight,l=`${t}${a?` "${a}"`:""}`;o.employeeAcknowledgement=l,o.auditTrail||(o.auditTrail=[]),o.auditTrail.push({event:"Acknowledged",timestamp:new Date,actor:r.employeeName,details:l});let c=o.auditTrail?.some(e=>"AM Responded to Employee"===e.event),u=o.auditTrail?.some(e=>"Supervisor Retry Action"===e.event),g=o.auditTrail?.some(e=>"Manager Resolution"===e.event),f=o.auditTrail?.some(e=>"HR Resolution"===e.event),p=new Set(r.assignedTo||[]);"The concern was fully addressed to my satisfaction."===t?o.status="resolved":f?(o.status="pending_final_hr_action",p.add("HR Head")):g?(o.status="pending_hr_review",p.add("HR Head")):u||c?(o.status="pending_manager_review",p.add("Manager")):(o.status="pending_am_review",p.add("AM")),r.assignedTo=Array.from(p),m(d,i)}async function A(e,t,a){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i||!n[i].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let s=n[i].analysis.criticalCoachingInsight;s.status="pending_supervisor_retry",s.auditTrail||(s.auditTrail=[]),s.auditTrail.push({event:"AM Coaching Notes",timestamp:new Date,actor:t,details:a}),m(d,n)}async function S(e,t,a){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i||!n[i].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let s=n[i].analysis.criticalCoachingInsight;s.status="pending_employee_acknowledgement",s.auditTrail||(s.auditTrail=[]),s.auditTrail.push({event:"AM Responded to Employee",timestamp:new Date,actor:t,details:a}),m(d,n)}async function I(e,t){let a=await w(),n=a.findIndex(t=>t.id===e);if(-1===n||!a[n].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let i=a[n],s=i.analysis.criticalCoachingInsight;s.status="pending_employee_acknowledgement",s.auditTrail||(s.auditTrail=[]),s.auditTrail.push({event:"Supervisor Retry Action",timestamp:new Date,actor:i.supervisorName,details:t}),m(d,a)}async function C(e,t,a){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i||!n[i].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let s=n[i].analysis.criticalCoachingInsight;s.status="pending_employee_acknowledgement",s.auditTrail||(s.auditTrail=[]),s.auditTrail.push({event:"Manager Resolution",timestamp:new Date,actor:t,details:a}),m(d,n)}async function R(e,t,a){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i||!n[i].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let s=n[i].analysis.criticalCoachingInsight;s.status="pending_employee_acknowledgement",s.auditTrail||(s.auditTrail=[]),s.auditTrail.push({event:"HR Resolution",timestamp:new Date,actor:t,details:a}),m(d,n)}async function N(e,t,a,n){let i=await w(),s=i.findIndex(t=>t.id===e);if(-1===s||!i[s].analysis.criticalCoachingInsight)throw Error("Could not find history item or critical insight to update.");let r=i[s].analysis.criticalCoachingInsight;r.status="resolved",r.auditTrail||(r.auditTrail=[]),r.auditTrail.push({event:a,timestamp:new Date,actor:t,details:n}),m(d,i)}async function _(e,t,a){let n=await w(),i=n.findIndex(e=>e.id===a?.historyId);if(-1===i)throw Error("History item not found.");let s=n[i],o=s.analysis.coachingRecommendations.findIndex(t=>t.id===e);if(-1===o)throw Error("Coaching recommendation not found.");let l=s.analysis.coachingRecommendations[o],c=s.supervisorName;if(l.auditTrail||(l.auditTrail=[]),"accepted"===t){l.status="accepted",l.startDate=a?.startDate,l.endDate=a?.endDate,l.progress=0,l.auditTrail.push({event:"Recommendation Accepted",actor:c,timestamp:new Date().toISOString(),details:`Plan set from ${a?.startDate?new Date(a.startDate).toLocaleDateString():"N/A"} to ${a?.endDate?new Date(a.endDate).toLocaleDateString():"N/A"}.`});let e=H(),t={trackingId:r(),subject:`Development Plan Started by ${c}`,message:`${c} has accepted a coaching recommendation and started a new development plan for the area: "${l.area}".

**Recommendation:** ${l.recommendation}
**Resource:** ${l.type} - "${l.resource}"
**Timeline:** ${a?.startDate?new Date(a.startDate).toLocaleDateString():"N/A"} to ${a?.endDate?new Date(a.endDate).toLocaleDateString():"NA"}.`,submittedAt:new Date,criticality:"Low",status:"Pending Acknowledgement",assignedTo:["AM","Manager"],viewed:!1,auditTrail:[{event:"Notification Created",timestamp:new Date,actor:"System",details:`Automated notification for accepted coaching plan by ${c}.`}]};e.unshift(t),P(e)}else"declined"===t&&(l.status="pending_am_review",l.rejectionReason=a?.reason,l.auditTrail.push({event:"Recommendation Declined by Supervisor",actor:c,timestamp:new Date().toISOString(),details:`Reason: ${a?.reason}`}));m(d,n)}async function E(e,t){let a=i._w[e]?.name;if(!a)throw Error("Invalid actor role provided.");let s=u(l),r={id:(0,n.A)(),area:t.area,recommendation:`Custom goal added by user: ${t.resource}`,example:"N/A (user-added goal)",type:"Other",resource:t.resource,justification:"This is a self-directed development goal.",status:"accepted",rejectionReason:void 0,auditTrail:[{event:"Custom Goal Created",actor:a,timestamp:new Date().toISOString(),details:"User added a new self-directed development goal."}],startDate:t.startDate.toISOString(),endDate:t.endDate.toISOString(),progress:0,checkIns:[]};s.unshift(r),m(l,s)}async function k(e,t,a){if(e){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i)throw Error("History item not found.");let s=n[i],r=s.analysis.coachingRecommendations.findIndex(e=>e.id===t);if(-1===r)throw Error("Coaching recommendation not found.");s.analysis.coachingRecommendations[r].progress=a,m(d,n)}else{let e=u(l),n=e.findIndex(e=>e.id===t);if(-1!==n)e[n].progress=a,m(l,e);else if(-1!==u("org_coaching_items_v1").findIndex(e=>e.id===t))console.log(`Updating progress for org plan ${t} - currently a no-op.`);else throw Error("Custom or Org coaching plan not found.")}}async function j(e,t,a){let i={id:(0,n.A)(),date:new Date().toISOString(),notes:a};if(e){let a=await w(),n=a.findIndex(t=>t.id===e);if(-1===n)throw Error("History item not found.");let s=a[n],r=s.analysis.coachingRecommendations.findIndex(e=>e.id===t);if(-1===r)throw Error("Coaching recommendation not found.");let o=s.analysis.coachingRecommendations[r];o.checkIns||(o.checkIns=[]),o.checkIns.push(i),m(d,a)}else{let e=u(l),a=e.findIndex(e=>e.id===t);if(-1!==a){let t=e[a];t.checkIns||(t.checkIns=[]),t.checkIns.push(i),m(l,e)}else if(-1!==u("org_coaching_items_v1").findIndex(e=>e.id===t))console.log(`Adding check-in for org plan ${t} - currently a no-op.`);else throw Error("Custom or Org coaching plan not found.")}}async function O(e,t,a,n,i){let s=await w(),r=s.findIndex(t=>t.id===e);if(-1===r)throw Error("History item not found.");let o=s[r],l=o.analysis.coachingRecommendations.findIndex(e=>e.id===t);if(-1===l)throw Error("Coaching recommendation not found.");let c=o.analysis.coachingRecommendations[l];if(c.auditTrail||(c.auditTrail=[]),n)c.status="pending_manager_acknowledgement",c.auditTrail.push({event:"Decline Approved by AM",actor:a,timestamp:new Date().toISOString(),details:`AM approved decline. Notes: ${i}`});else{c.status="accepted",c.progress=0;let e=new Date,t=new Date(new Date().setDate(e.getDate()+30));c.startDate=e.toISOString(),c.endDate=t.toISOString(),c.auditTrail.push({event:"Decline Denied by AM",actor:a,timestamp:new Date().toISOString(),details:`AM upheld AI recommendation and created a mandatory development plan. Notes: ${i}`})}m(d,s)}async function M(e,t,a){let n=await w(),i=n.findIndex(t=>t.id===e);if(-1===i)throw Error("History item not found.");let s=n[i],r=s.analysis.coachingRecommendations.findIndex(e=>e.id===t);if(-1===r)throw Error("Coaching recommendation not found.");let o=s.analysis.coachingRecommendations[r];o.status="declined",o.auditTrail||(o.auditTrail=[]),o.auditTrail.push({event:"Manager Acknowledged Declined Recommendation",actor:a,timestamp:new Date().toISOString(),details:"Manager acknowledged the AM's approval of the decline. This recommendation is now closed."}),m(d,n)}let H=()=>u(o).map(e=>({...e,submittedAt:new Date(e.submittedAt),auditTrail:e.auditTrail?.map(e=>({...e,timestamp:new Date(e.timestamp)}))})),P=e=>{m(o,e)};async function $(){return H()}async function L(e){return(await $()).find(t=>t.trackingId===e)||null}async function B(e,t=!1){t?P([...e,...H()]):P(e)}async function F(e,t,a){let n=H(),i=n.findIndex(t=>t.trackingId===e);if(-1===i)return;let s=n[i];"Pending Acknowledgement"===s.status||"Pending Manager Action"===s.status?s.status="Closed":s.status="Resolved",s.resolution=a,s.auditTrail?.push({event:"Acknowledged",timestamp:new Date,actor:t,details:a,isPublic:!0}),P(n)}async function z(e,t,a){let n=H(),s=n.findIndex(t=>t.trackingId===e);if(-1===s)return;let r=n[s],o=r.submittedBy||"Anonymous",d=["Resolution Submitted","HR Resolution Submitted","HR Responded to Retaliation Claim","Manager Resolution"],l=r.auditTrail?.slice().reverse().find(e=>d.includes(e.event)),c=l?.actor,u=new Set(r.assignedTo||[]);if(t)r.status="Resolved",r.resolution=r.supervisorUpdate,r.auditTrail?.push({event:"Employee Accepted Resolution",timestamp:new Date,actor:o,details:`Resolution accepted.${a?` "${a}"`:""}`}),r.auditTrail?.push({event:"Resolved",timestamp:new Date,actor:o,details:"Case resolved after employee acknowledgment."});else{let e,t=`Resolution not accepted.${a?` "${a}"`:""}`,n="Pending Manager Action",s=Object.values(i._w).find(e=>e.name===c)?.role||c;"Retaliation Claim"===r.criticality||l?.event==="HR Resolution Submitted"||"HR Head"===s?(r.status="Final Disposition Required",u.add("HR Head"),r.auditTrail?.push({event:"Final Disposition Required",timestamp:new Date,actor:"System",details:"Employee rejected HR resolution. Final disposition is required from HR Head."})):"Team Lead"===s?(e="AM",n="Pending Manager Action"):"AM"===s?(e="Manager",n="Pending Manager Action"):"Manager"===s&&(e="HR Head",n="Pending HR Action"),e&&(r.status=n,u.add(e),r.auditTrail?.push({event:"Employee Escalated Concern",timestamp:new Date,actor:o,details:`Concern escalated to ${e}. ${t}`}))}r.assignedTo=Array.from(u),P(n)}async function U(e){let t=[],a=i._w[e]?.name;return a?((await w()).forEach(n=>{n.analysis.actionItems&&n.analysis.actionItems.forEach(s=>{(0,i.B6)(s.owner)===e&&"pending"===s.status&&t.push({...s,sourceType:"1-on-1",source:`1-on-1 with ${n.supervisorName===a?n.employeeName:n.supervisorName}`,dueDate:new Date(new Date(n.date).getTime()+6048e5).toISOString()})})}),(await v(e)).forEach(a=>{t.push({id:`coach-${a.rec.id}`,owner:e,task:`Continue working on coaching goal: ${a.rec.area}`,status:"pending",sourceType:"Coaching",source:`Plan: ${a.rec.resource}`,dueDate:a.rec.endDate})}),t.sort((e,t)=>new Date(e.dueDate||0).getTime()-new Date(t.dueDate||0).getTime())):[]}async function V(e){let t=[],a=(0,i.B6)(e);return(await w()).forEach(a=>{a.employeeName===e&&a.analysis.actionItems&&a.analysis.actionItems.forEach(e=>{t.push({...e,sourceType:"1-on-1",source:`1-on-1 with ${a.supervisorName}`,dueDate:new Date(new Date(a.date).getTime()+6048e5).toISOString()})})}),a&&(await v(a)).forEach(e=>{t.push({id:`coach-${e.rec.id}`,owner:a,task:`Work on coaching goal: ${e.rec.area}`,status:"pending",sourceType:"Coaching",source:`Plan: ${e.rec.resource}`,dueDate:e.rec.endDate})}),t.sort((e,t)=>"pending"===e.status&&"pending"!==t.status?-1:"pending"!==e.status&&"pending"===t.status?1:new Date(t.dueDate||0).getTime()-new Date(e.dueDate||0).getTime())}async function q(){let e=(await w()).slice(0,20).map(e=>parseInt(e.analysis.employeeSwotAnalysis?.opportunities[0]||e.analysis.leadershipScore.toString(),10)).filter(e=>!isNaN(e));return 0===e.length?3.5:e.reduce((e,t)=>e+t,0)/e.length}async function W(e){let t=await w(),a=i._w[e]?.name,n={},s=new Date;return t.forEach(e=>{if(e.supervisorName===a){let t=e.employeeName;n[t]||(n[t]={open:0,overdue:0}),e.analysis.actionItems?.forEach(a=>{"pending"===a.status&&(n[t].open++,s>new Date(new Date(e.date).getTime()+6048e5)&&n[t].overdue++)})}}),n}async function X(e){let t=await w(),a=i._w[e]?.name,n={};return t.filter(e=>e.supervisorName===a).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).forEach(e=>{let t=e.employeeName;n[t]||(n[t]=[]),n[t].push(e.analysis.effectivenessScore)}),Object.entries(n).map(([e,t])=>t.length<2?{employeeName:e,growth:0}:{employeeName:e,growth:t[t.length-1]-t[t.length-2]}).filter(e=>e.growth>0).sort((e,t)=>t.growth-e.growth).slice(0,3)}async function G(e){let t=u(c);i._w[e]?.name,await w();let a=[];"Team Lead"===e&&a.push("Employee");let n={};t.forEach(e=>{if(a.includes(e.assignedTo)&&"completed"===e.status&&e.analysis){let t=i._w[e.assignedTo]?.name;n[t]||(n[t]={totalScore:0,count:0}),n[t].totalScore+=e.analysis.scores.overall,n[t].count++}});let s={};for(let e in n)s[e]={average:n[e].totalScore/n[e].count,sessions:n[e].count};return s}async function J(e){let t=await w(),a=[];return t.forEach(e=>{if(e.analysis.criticalCoachingInsight){let t=e.analysis.criticalCoachingInsight,n=t.auditTrail?.find(e=>"Critical Insight Identified"===e.event),i=t.auditTrail?.find(e=>"Responded"===e.event);if(n){let s="Unresolved";if(i){let e=new Date(n.timestamp).getTime();s=(new Date(i.timestamp).getTime()-e)/36e5<=48?"Timely":"Delayed"}a.push({id:e.id,date:e.date,summary:t.summary,employeeName:e.employeeName,responseStatus:s})}}}),a.slice(0,5)}async function Z(e){let t=await w(),a="Team Lead",n=i._w[a].name,s=t.filter(e=>e.supervisorName===n).map(e=>({date:new Date(e.date),score:e.analysis.leadershipScore})).sort((e,t)=>e.date.getTime()-t.date.getTime());if(s.length<2)return[{name:n,role:a,leadershipScore:s[0]?.score||5,trajectory:"stable"}];let r=s[s.length-1].score,o=s[s.length-2].score,d="stable";return r>o&&(d="positive"),r<o&&(d="negative"),[{name:n,role:a,leadershipScore:r,trajectory:d}]}async function K(e){let t=await w(),a={};return t.forEach(e=>{let t=e.supervisorName;a[t]||(a[t]={totalScore:0,count:0}),a[t].totalScore+=e.analysis.effectivenessScore,a[t].count++}),Object.entries(a).map(([e,t])=>({teamLeadName:e,qualityScore:t.totalScore/t.count*10,totalSessions:t.count})).filter(e=>e.teamLeadName===i._w["Team Lead"].name)}async function Y(e){return{employeeToLead:65,leadToAm:40}}async function Q(e){return[{theme:"Lack of Clarity in Feedback",recommendation:"Reinforce STAR method training for giving specific, behavioral feedback.",count:3},{theme:"Unaddressed Career Growth Signals",recommendation:"Coach leads to proactively ask about career aspirations in every 1-on-1.",count:2}]}},85091:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var n=a(64996);let i=0,s=new Map,r=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function u({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=n.useState(l);return n.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},88573:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>n});let n=(0,a(20413).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/frontend/src/components/ui/toaster.tsx","Toaster")},92046:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,49782,23)),Promise.resolve().then(a.t.bind(a,23552,23)),Promise.resolve().then(a.t.bind(a,30708,23)),Promise.resolve().then(a.t.bind(a,17319,23)),Promise.resolve().then(a.t.bind(a,92079,23)),Promise.resolve().then(a.t.bind(a,8487,23)),Promise.resolve().then(a.t.bind(a,55543,23)),Promise.resolve().then(a.t.bind(a,42241,23))},94638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(41808);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};