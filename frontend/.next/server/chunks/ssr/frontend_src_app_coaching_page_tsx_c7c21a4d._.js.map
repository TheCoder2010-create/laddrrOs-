{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/app/coaching/page.tsx"],"sourcesContent":["\n\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole, Role } from '@/hooks/use-role';\nimport DashboardLayout from '@/components/dashboard-layout';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { getOneOnOneHistory, OneOnOneHistoryItem, updateCoachingRecommendationStatus, reviewCoachingRecommendationDecline, acknowledgeDeclinedRecommendation } from '@/services/feedback-service';\nimport type { CoachingRecommendation } from '@/types/ai';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose } from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { Zap, BookOpen, Podcast, Newspaper, GraduationCap, Lightbulb, ThumbsUp, ThumbsDown, Loader2, CheckCircle, MessageSquareQuote, BrainCircuit, Users, CheckSquare as CheckSquareIcon, UserCog, History, Calendar as CalendarIcon, AlertTriangle } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { Badge } from '@/components/ui/badge';\nimport { cn } from '@/lib/utils';\nimport { Popover, PopoverTrigger, PopoverContent } from '@/components/ui/popover';\nimport { Calendar } from '@/components/ui/calendar';\n\n\nconst RecommendationIcon = ({ type }: { type: CoachingRecommendation['type'] }) => {\n    switch (type) {\n        case 'Book': return <BookOpen className=\"h-4 w-4 text-blue-500\" />;\n        case 'Podcast': return <Podcast className=\"h-4 w-4 text-purple-500\" />;\n        case 'Article': return <Newspaper className=\"h-4 w-4 text-green-500\" />;\n        case 'Course': return <GraduationCap className=\"h-4 w-4 text-orange-500\" />;\n        default: return <Lightbulb className=\"h-4 w-4 text-yellow-500\" />;\n    }\n};\n\nfunction MyDevelopmentWidget() {\n    const { role } = useRole();\n    const [recommendations, setRecommendations] = useState<{ historyItem?: OneOnOneHistoryItem; recommendation: CoachingRecommendation }[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const { toast } = useToast();\n    const [openAccordionItem, setOpenAccordionItem] = useState<string | undefined>(undefined);\n\n\n    // State for Decline Dialog\n    const [decliningRec, setDecliningRec] = useState<{ historyId?: string; recommendation: CoachingRecommendation } | null>(null);\n    const [rejectionReason, setRejectionReason] = useState('');\n    const [isSubmittingDecline, setIsSubmittingDecline] = useState(false);\n\n    // State for Accept Dialog\n    const [acceptingRec, setAcceptingRec] = useState<{ historyId: string; recommendationId: string; } | null>(null);\n    const [startDate, setStartDate] = useState<Date | undefined>();\n    const [endDate, setEndDate] = useState<Date | undefined>();\n    const [isSubmittingAccept, setIsSubmittingAccept] = useState(false);\n    const [isStartDatePickerOpen, setIsStartDatePickerOpen] = useState(false);\n    const [isEndDatePickerOpen, setIsEndDatePickerOpen] = useState(false);\n\n    const fetchRecommendations = useCallback(async () => {\n        if (!role) return;\n        setIsLoading(true);\n        const history = await getOneOnOneHistory();\n        const recsMap = new Map<string, { historyItem: OneOnOneHistoryItem; recommendation: CoachingRecommendation }>();\n        \n        const currentUserName = role ? roleUserMapping[role].name : null;\n        const statusesToFetch: CoachingRecommendation['status'][] = ['pending', 'declined', 'pending_am_review', 'pending_manager_acknowledgement'];\n\n        history.forEach(item => {\n            if (item.supervisorName === currentUserName) {\n                item.analysis.coachingRecommendations.forEach(rec => {\n                    // We only want to show actionable items or items that were just actioned (declined).\n                    // Accepted items move to the other widget.\n                    if (rec.status && statusesToFetch.includes(rec.status)) {\n                        // If we've already seen this rec, only keep the one from the most recent history item.\n                        const existing = recsMap.get(rec.id);\n                        if (!existing || new Date(item.date) > new Date(existing.historyItem.date)) {\n                            recsMap.set(rec.id, { historyItem: item, recommendation: rec });\n                        }\n                    }\n                });\n            }\n        });\n\n        const allRecs = Array.from(recsMap.values());\n\n        setRecommendations(allRecs.sort((a,b) => {\n            const statusOrder = (status?: CoachingRecommendation['status']) => {\n                if (status === 'pending') return 1;\n                if (status === 'pending_am_review') return 2;\n                return 3;\n            };\n            return statusOrder(a.recommendation.status) - statusOrder(b.recommendation.status) || new Date(b.historyItem.date).getTime() - new Date(a.historyItem.date).getTime();\n        }));\n        setIsLoading(false);\n    }, [role]);\n\n    const handleUpdate = useCallback(() => {\n        const currentOpenItem = openAccordionItem;\n        fetchRecommendations().then(() => {\n            if (currentOpenItem) {\n                setOpenAccordionItem(currentOpenItem);\n            }\n        });\n    }, [fetchRecommendations, openAccordionItem]);\n\n    useEffect(() => {\n        fetchRecommendations();\n        const handleDataUpdate = () => fetchRecommendations();\n        window.addEventListener('storage', handleDataUpdate);\n        window.addEventListener('feedbackUpdated', handleDataUpdate);\n        return () => {\n            window.removeEventListener('storage', handleDataUpdate);\n            window.removeEventListener('feedbackUpdated', handleDataUpdate);\n        };\n    }, [fetchRecommendations]);\n\n    const handleCoachingRecAction = async (recommendationId: string, status: 'accepted' | 'declined', data?: { historyId?: string, reason?: string; startDate?: string; endDate?: string; }) => {\n        try {\n            await updateCoachingRecommendationStatus(recommendationId, status, data);\n            toast({\n                title: `Recommendation ${status}`,\n                description: `The coaching recommendation has been updated.`,\n            });\n            handleUpdate();\n        } catch (error) {\n            console.error(`Failed to ${status} recommendation`, error);\n            toast({ variant: 'destructive', title: 'Update Failed' });\n        }\n    };\n\n    const handleDeclineSubmit = () => {\n        if (!decliningRec || !rejectionReason) return;\n        setIsSubmittingDecline(true);\n        handleCoachingRecAction(decliningRec.recommendation.id, 'declined', { historyId: decliningRec.historyId, reason: rejectionReason }).finally(() => {\n            setIsSubmittingDecline(false);\n            setDecliningRec(null);\n            setRejectionReason('');\n        });\n    };\n    \n    const handleAcceptSubmit = () => {\n        if (!acceptingRec || !startDate || !endDate) return;\n        setIsSubmittingAccept(true);\n        handleCoachingRecAction(acceptingRec.recommendationId, 'accepted', { \n            historyId: acceptingRec.historyId,\n            startDate: startDate.toISOString(), \n            endDate: endDate.toISOString() \n        }).finally(() => {\n            setIsSubmittingAccept(false);\n            setAcceptingRec(null);\n            setStartDate(undefined);\n            setEndDate(undefined);\n        });\n    };\n    \n    const getStatusBadge = (status: CoachingRecommendation['status']) => {\n        switch(status) {\n            case 'pending':\n                return <Badge variant=\"destructive\">Action Required</Badge>;\n            case 'pending_am_review':\n                 return <Badge className=\"bg-orange-500 text-white\">AM Review</Badge>;\n            case 'pending_manager_acknowledgement':\n                return <Badge className=\"bg-red-700 text-white\">Manager Review</Badge>;\n            case 'declined':\n                return <Badge variant=\"secondary\">Declined</Badge>;\n            default:\n                return null;\n        }\n    }\n\n\n    return (\n        <>\n            <Dialog open={!!decliningRec} onOpenChange={() => setDecliningRec(null)}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle>Decline Recommendation</DialogTitle>\n                        <DialogDescription>\n                            Please provide a reason for declining this coaching recommendation. This helps in understanding your needs better.\n                        </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"py-4\">\n                        <Label htmlFor=\"rejection-reason\">Justification</Label>\n                        <Textarea\n                            id=\"rejection-reason\"\n                            value={rejectionReason}\n                            onChange={(e) => setRejectionReason(e.target.value)}\n                            placeholder=\"Provide your justification here...\"\n                        />\n                    </div>\n                    <DialogFooter>\n                        <Button variant=\"ghost\" onClick={() => setDecliningRec(null)}>Cancel</Button>\n                        <Button variant=\"destructive\" onClick={handleDeclineSubmit} disabled={!rejectionReason || isSubmittingDecline}>\n                            {isSubmittingDecline && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                            Submit Justification\n                        </Button>\n                    </DialogFooter>\n                </DialogContent>\n            </Dialog>\n            \n            <Dialog open={!!acceptingRec} onOpenChange={() => setAcceptingRec(null)}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle>Create Your Development Plan</DialogTitle>\n                        <DialogDescription>\n                            Set a timeline for this coaching activity. This will help you and your manager track progress.\n                        </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"py-4 space-y-4\">\n                        <div className=\"space-y-2\">\n                          <Label>Start Date</Label>\n                          <Popover open={isStartDatePickerOpen} onOpenChange={setIsStartDatePickerOpen}>\n                            <PopoverTrigger asChild>\n                              <Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\", !startDate && \"text-muted-foreground\")}>\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {startDate ? format(startDate, \"PPP\") : <span>Pick a start date</span>}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                                <Calendar \n                                    mode=\"single\" \n                                    selected={startDate} \n                                    onSelect={(date) => {\n                                        setStartDate(date);\n                                        setIsStartDatePickerOpen(false);\n                                    }} \n                                    initialFocus \n                                />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Tentative End Date</Label>\n                           <Popover open={isEndDatePickerOpen} onOpenChange={setIsEndDatePickerOpen}>\n                            <PopoverTrigger asChild>\n                              <Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\", !endDate && \"text-muted-foreground\")}>\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {endDate ? format(endDate, \"PPP\") : <span>Pick an end date</span>}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                                <Calendar \n                                    mode=\"single\" \n                                    selected={endDate} \n                                    onSelect={(date) => {\n                                        setEndDate(date);\n                                        setIsEndDatePickerOpen(false);\n                                    }} \n                                    disabled={(date) => date < (startDate || new Date())} \n                                    initialFocus \n                                />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                    </div>\n                    <DialogFooter>\n                         <Button variant=\"ghost\" onClick={() => setAcceptingRec(null)}>Cancel</Button>\n                         <Button variant=\"success\" onClick={handleAcceptSubmit} disabled={!startDate || !endDate || isSubmittingAccept}>\n                            {isSubmittingAccept && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                             Accept & Start Plan\n                        </Button>\n                    </DialogFooter>\n                </DialogContent>\n            </Dialog>\n\n            <Card>\n                <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                        <BrainCircuit className=\"text-primary\" />\n                        My Actionable Items\n                    </CardTitle>\n                    <CardDescription>\n                        AI-powered recommendations based on your recent 1-on-1 sessions. Review pending items and view your history.\n                    </CardDescription>\n                </CardHeader>\n                <CardContent>\n                    {isLoading ? (\n                        <Skeleton className=\"h-24 w-full\" />\n                    ) : recommendations.length === 0 ? (\n                         <div className=\"flex flex-col items-center justify-center text-center p-8 border-2 border-dashed rounded-lg\">\n                            <CheckCircle className=\"h-12 w-12 text-green-500 mb-4\" />\n                            <h3 className=\"text-lg font-semibold\">All Caught Up!</h3>\n                            <p className=\"text-muted-foreground mt-1\">There are no new coaching recommendations for you.</p>\n                        </div>\n                    ) : (\n                        <Accordion \n                          type=\"single\" \n                          collapsible \n                          className=\"w-full\"\n                          value={openAccordionItem}\n                          onValueChange={setOpenAccordionItem}\n                        >\n                            {recommendations.map(({ historyItem, recommendation: rec }) => {\n                                const isActionable = rec.status === 'pending';\n                                \n                                return (\n                                <AccordionItem value={rec.id} key={rec.id} className={cn(!isActionable && \"bg-muted/30\")}>\n                                    <AccordionTrigger>\n                                        <div className=\"flex justify-between items-center w-full\">\n                                            <div className=\"flex flex-col items-start text-left\">\n                                                <p className=\"font-semibold\">{rec.area}</p>\n                                                {historyItem && (\n                                                    <p className=\"text-sm font-normal text-muted-foreground\">From 1-on-1 with {historyItem.employeeName} on {format(new Date(historyItem.date), 'PPP')}</p>\n                                                )}\n                                            </div>\n                                            <div className=\"mr-2\">\n                                                {getStatusBadge(rec.status)}\n                                            </div>\n                                        </div>\n                                    </AccordionTrigger>\n                                    <AccordionContent className=\"space-y-4 pt-2\">\n                                        <div className=\"p-3 bg-background/60 rounded-lg border space-y-3\">\n                                             <p className=\"text-sm text-muted-foreground\">{rec.recommendation}</p>\n\n                                             {rec.example && rec.example !== \"N/A (user-added goal)\" && (\n                                                <div className=\"p-3 bg-muted/50 rounded-md border-l-4 border-primary\">\n                                                    <p className=\"text-xs font-semibold uppercase text-muted-foreground flex items-center gap-1.5\"><MessageSquareQuote className=\"h-4 w-4 text-primary\" /> Example from Session</p>\n                                                    <blockquote className=\"mt-1 text-sm italic text-primary/90\">\"{rec.example}\"</blockquote>\n                                                </div>\n                                             )}\n\n                                            <div className=\"mt-3 pt-3 border-t\">\n                                                <div className=\"flex items-center gap-2 text-sm text-foreground mb-2\">\n                                                    <RecommendationIcon type={rec.type} />\n                                                    <strong>{rec.type}:</strong> {rec.resource}\n                                                </div>\n                                                <p className=\"text-xs text-muted-foreground italic\">AI Justification: \"{rec.justification}\"</p>\n                                            </div>\n\n                                             {isActionable && historyItem && (\n                                                 <div className=\"flex gap-2 mt-4 pt-4 border-t\">\n                                                    <Button size=\"sm\" variant=\"success\" onClick={() => setAcceptingRec({ historyId: historyItem.id, recommendationId: rec.id })}>\n                                                        <ThumbsUp className=\"mr-2 h-4 w-4\" /> Accept\n                                                    </Button>\n                                                    <Button size=\"sm\" variant=\"destructive\" onClick={() => setDecliningRec({ historyId: historyItem.id, recommendation: rec })}>\n                                                        <ThumbsDown className=\"mr-2 h-4 w-4\" /> Decline\n                                                    </Button>\n                                                </div>\n                                             )}\n\n                                            {!isActionable && (\n                                                <div className=\"mt-4 pt-4 border-t\">\n                                                    <p className=\"text-sm font-semibold flex items-center gap-2\"><History className=\"h-4 w-4 text-muted-foreground\"/>Status: {rec.status?.replace(/_/g, ' ')}</p>\n                                                    {rec.rejectionReason && (\n                                                        <div className=\"mt-2 p-2 bg-muted/50 rounded-md\">\n                                                            <p className=\"text-xs font-semibold text-muted-foreground\">Your Decline Reason:</p>\n                                                            <p className=\"text-sm text-foreground italic\">\"{rejectionReason}\"</p>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            )}\n                                        </div>\n                                    </AccordionContent>\n                                </AccordionItem>\n                            )})}\n                        </Accordion>\n                    )}\n                </CardContent>\n            </Card>\n        </>\n    );\n}\n\nfunction AmReviewWidget({ item, rec, onUpdate }: { item: OneOnOneHistoryItem, rec: CoachingRecommendation, onUpdate: () => void }) {\n    const { toast } = useToast();\n    const { role } = useRole();\n    const [amNotes, setAmNotes] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleAmDecision = async (approved: boolean) => {\n        if (!amNotes || !role) {\n            toast({ variant: 'destructive', title: \"Notes Required\", description: \"Please provide notes for your decision.\"});\n            return;\n        };\n        setIsSubmitting(true);\n        try {\n            await reviewCoachingRecommendationDecline(item.id, rec.id, role, approved, amNotes);\n            toast({ title: \"Decision Submitted\", description: `The coaching recommendation has been updated.`});\n            onUpdate(); // This will trigger a re-fetch in the parent\n        } catch (error) {\n            console.error(\"Failed to submit review\", error);\n            toast({ variant: 'destructive', title: \"Submission Failed\" });\n        } finally {\n            setIsSubmitting(false);\n            setAmNotes('');\n        }\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            <div className=\"p-3 bg-muted/80 rounded-lg border space-y-2\">\n                <p className=\"font-semibold text-foreground\">Original AI Recommendation ({rec.area})</p>\n                <p className=\"text-sm text-muted-foreground\">{rec.recommendation}</p>\n                {rec.example && (\n                    <div className=\"mt-2 p-3 bg-background/80 rounded-md border-l-4 border-primary\">\n                        <p className=\"text-xs font-semibold uppercase text-muted-foreground flex items-center gap-1.5\"><MessageSquareQuote className=\"h-4 w-4 text-primary\" /> Example from Session</p>\n                        <blockquote className=\"mt-1 text-sm italic text-primary/90\">\"{rec.example}\"</blockquote>\n                    </div>\n                )}\n            </div>\n            <div className=\"p-3 bg-blue-500/10 rounded-lg border border-blue-500/20 space-y-2\">\n                <p className=\"font-semibold text-blue-700 dark:text-blue-500\">Supervisor's Reason for Declining</p>\n                <p className=\"text-sm text-blue-600 dark:text-blue-400 whitespace-pre-wrap\">{rec.rejectionReason}</p>\n            </div>\n            <div className=\"space-y-2 pt-4 border-t\">\n                <Label htmlFor={`am-notes-${rec.id}`}>Your Decision & Notes</Label>\n                <Textarea \n                    id={`am-notes-${rec.id}`}\n                    placeholder=\"Provide your reasoning here...\"\n                    value={amNotes}\n                    onChange={(e) => setAmNotes(e.target.value)}\n                    rows={3}\n                />\n            </div>\n            <div className=\"flex gap-2\">\n                <Button onClick={() => handleAmDecision(false)} disabled={isSubmitting || !amNotes} variant=\"destructive\">\n                    {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                    Uphold AI\n                </Button>\n                <Button onClick={() => handleAmDecision(true)} disabled={isSubmitting || !amNotes} variant=\"secondary\">\n                    {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                    Approve Decline\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nfunction ManagerAcknowledgementWidget({ item, rec, onUpdate }: { item: OneOnOneHistoryItem, rec: CoachingRecommendation, onUpdate: () => void }) {\n    const { toast } = useToast();\n    const { role } = useRole();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleAcknowledge = async () => {\n        if (!role) return;\n        setIsSubmitting(true);\n        try {\n            await acknowledgeDeclinedRecommendation(item.id, rec.id, role);\n            toast({ title: \"Acknowledgement Logged\", description: \"The workflow for this recommendation is now complete.\" });\n            onUpdate();\n        } catch (error) {\n            console.error(\"Failed to submit acknowledgement\", error);\n            toast({ variant: 'destructive', title: \"Submission Failed\" });\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n    \n    const amApprovalNotes = rec.auditTrail?.find(e => e.event === \"Decline Approved by AM\")?.details;\n    const isActionable = rec.status === 'pending_manager_acknowledgement';\n\n    return (\n        <div className=\"space-y-4\">\n            <div className=\"space-y-2 p-3 rounded-lg border bg-muted/50\">\n                <Label className=\"font-semibold text-foreground\">Original AI Recommendation: {rec.area}</Label>\n                <p className=\"text-sm text-muted-foreground\">{rec.recommendation}</p>\n                {rec.example && (\n                    <div className=\"p-2 bg-background/80 rounded-md border-l-2 border-primary mt-2\">\n                         <p className=\"text-xs font-semibold text-muted-foreground flex items-center gap-1.5\"><MessageSquareQuote className=\"h-4 w-4 text-primary\" /> Example from Session</p>\n                         <blockquote className=\"mt-1 text-sm italic text-primary/90\">\"{rec.example}\"</blockquote>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"space-y-2 p-3 rounded-lg border bg-blue-500/10 border-blue-500/20\">\n                <Label className=\"font-semibold text-blue-700 dark:text-blue-500\">{item.supervisorName}'s (TL) Decline Reason</Label>\n                <p className=\"text-sm text-blue-600 dark:text-blue-400 whitespace-pre-wrap\">{rec.rejectionReason}</p>\n            </div>\n            \n            {amApprovalNotes && (\n                <div className=\"space-y-2 p-3 rounded-lg border bg-orange-500/10 border-orange-500/20\">\n                    <Label className=\"font-semibold text-orange-700 dark:text-orange-500\">AM's Approval Notes</Label>\n                    <p className=\"text-sm text-orange-600 dark:text-orange-400 whitespace-pre-wrap\">{amApprovalNotes}</p>\n                </div>\n            )}\n            \n            {isActionable ? (\n                <div className=\"space-y-3 pt-4 border-t\">\n                     <Label className=\"font-semibold text-base\">Your Action</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                        No action is required other than acknowledging that you have seen this decision. This is for your awareness of your team's coaching and development activities.\n                    </p>\n                    <div className=\"flex gap-2 pt-2\">\n                         <Button onClick={handleAcknowledge} disabled={isSubmitting} variant=\"secondary\">\n                            {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                            Acknowledge & Close\n                        </Button>\n                    </div>\n                </div>\n            ) : (\n                 <div className=\"space-y-3 pt-4 border-t\">\n                    <p className=\"text-sm font-semibold flex items-center gap-2\"><History className=\"h-4 w-4 text-muted-foreground\"/>This item has been acknowledged and is closed.</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction TeamDevelopmentWidget({ role }: { role: Role }) {\n    const [teamActions, setTeamActions] = useState<{ historyItem: OneOnOneHistoryItem; recommendation: CoachingRecommendation }[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [openAccordionItem, setOpenAccordionItem] = useState<string | undefined>(undefined);\n\n    const fetchTeamActions = useCallback(async () => {\n        setIsLoading(true);\n        const history = await getOneOnOneHistory();\n        const actionsMap = new Map<string, { historyItem: OneOnOneHistoryItem; recommendation: CoachingRecommendation }>();\n        \n        const amActorName = roleUserMapping['AM']?.name;\n\n        history.forEach(item => {\n            item.analysis.coachingRecommendations.forEach(rec => {\n                if (role === 'AM') {\n                    const amWasInvolved = rec.auditTrail?.some(e => e.actor === amActorName);\n                    // AM sees items pending their review, or items they have already reviewed\n                    if (rec.status === 'pending_am_review' || (amWasInvolved && (rec.status === 'pending_manager_acknowledgement' || rec.status === 'declined' || rec.status === 'accepted'))) {\n                         const existing = actionsMap.get(rec.id);\n                        if (!existing || new Date(item.date) > new Date(existing.historyItem.date)) {\n                           actionsMap.set(rec.id, { historyItem: item, recommendation: rec });\n                        }\n                    }\n                } else if (role === 'Manager') {\n                     // Manager sees items pending their acknowledgement, or that they have already acknowledged (status becomes 'declined')\n                    if (rec.status === 'pending_manager_acknowledgement' || rec.status === 'declined') {\n                        const existing = actionsMap.get(rec.id);\n                        if (!existing || new Date(item.date) > new Date(existing.historyItem.date)) {\n                           actionsMap.set(rec.id, { historyItem: item, recommendation: rec });\n                        }\n                    }\n                }\n            });\n        });\n        \n        const pendingActions = Array.from(actionsMap.values());\n\n        setTeamActions(pendingActions.sort((a,b) => {\n            const dateA = a.recommendation.auditTrail?.slice(-1)[0]?.timestamp;\n            const dateB = b.recommendation.auditTrail?.slice(-1)[0]?.timestamp;\n            return new Date(dateB || 0).getTime() - new Date(dateA || 0).getTime();\n        }));\n        setIsLoading(false);\n    }, [role]);\n\n    const handleUpdate = useCallback(() => {\n        const currentOpenItem = openAccordionItem;\n        fetchTeamActions().then(() => {\n            if (currentOpenItem) {\n                setOpenAccordionItem(currentOpenItem);\n            }\n        });\n    }, [fetchTeamActions, openAccordionItem]);\n\n    useEffect(() => {\n        fetchTeamActions();\n        const handleDataUpdate = () => fetchTeamActions();\n        window.addEventListener('storage', handleDataUpdate);\n        window.addEventListener('feedbackUpdated', handleDataUpdate);\n        return () => {\n            window.removeEventListener('storage', handleDataUpdate);\n            window.removeEventListener('feedbackUpdated', handleDataUpdate);\n        };\n    }, [fetchTeamActions]);\n\n    if (isLoading) {\n        return <Skeleton className=\"h-48 w-full\" />;\n    }\n\n    if (!['AM', 'Manager', 'HR Head'].includes(role)) {\n        return null;\n    }\n\n    const renderWidgetContent = (item: OneOnOneHistoryItem, rec: CoachingRecommendation) => {\n        if (rec.status === 'pending_am_review' && role === 'AM') {\n            return <AmReviewWidget item={item} rec={rec} onUpdate={handleUpdate} />;\n        }\n        \n        const amWasInvolved = rec.auditTrail?.some(e => e.actor === roleUserMapping['AM']?.name);\n        if (role === 'Manager' && (rec.status === 'pending_manager_acknowledgement' || rec.status === 'declined')) {\n            return <ManagerAcknowledgementWidget item={item} rec={rec} onUpdate={handleUpdate} />;\n        }\n        if (role === 'AM' && amWasInvolved && (rec.status === 'pending_manager_acknowledgement' || rec.status === 'declined' || rec.status === 'accepted')) {\n            // Re-use manager widget for read-only history view for AMs.\n            return <ManagerAcknowledgementWidget item={item} rec={rec} onUpdate={handleUpdate} />;\n        }\n        return null;\n    };\n\n    const getTriggerInfo = (item: OneOnOneHistoryItem, rec: CoachingRecommendation) => {\n        let icon = <History className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />;\n        let title = \"Coaching Item History\";\n        let subtitle = `For TL: ${item.supervisorName}`;\n        let statusBadge = <Badge variant=\"secondary\">Closed</Badge>;\n        let isActionable = false;\n\n        if (role === 'AM') {\n            if (rec.status === 'pending_am_review') {\n                isActionable = true;\n                icon = <UserCog className=\"h-5 w-5 text-orange-600 dark:text-orange-500\" />;\n                title = \"Review Declined Recommendation\";\n                statusBadge = <Badge variant=\"destructive\">Action Required</Badge>;\n            } else if (rec.status === 'pending_manager_acknowledgement') {\n                 title = \"Awaiting Manager Acknowledgement\";\n                 statusBadge = <Badge variant=\"secondary\">Pending</Badge>;\n            } else if (rec.status === 'accepted') {\n                 title = \"Mandated Development Plan\";\n                 subtitle += ` | Status: Active`\n                 statusBadge = <Badge variant=\"success\">Active</Badge>;\n            } else { // Declined\n                 title = \"Declined Recommendation History\";\n                 statusBadge = <Badge variant=\"success\">Closed</Badge>;\n            }\n        }\n        if (role === 'Manager') {\n            isActionable = rec.status === 'pending_manager_acknowledgement';\n            icon = <CheckSquareIcon className=\"h-5 w-5 text-red-600 dark:text-red-500\" />;\n            title = isActionable ? \"Acknowledge Declined Recommendation\" : \"Declined Recommendation History\";\n            subtitle = `For AM: ${roleUserMapping['AM'].name} | TL: ${item.supervisorName}`;\n            statusBadge = isActionable ? <Badge variant=\"destructive\">Ack Required</Badge> : <Badge variant=\"success\">Acknowledged</Badge>;\n        }\n        return { icon, title, subtitle, statusBadge, isActionable };\n    }\n\n    return (\n        <Card>\n            <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                    <Users className=\"text-primary\"/>\n                    Team Development\n                </CardTitle>\n                <CardDescription>\n                    Review coaching and development items from your direct reports.\n                </CardDescription>\n            </CardHeader>\n            <CardContent>\n                {teamActions.length === 0 ? (\n                    <div className=\"flex flex-col items-center justify-center text-center p-8 border-2 border-dashed rounded-lg\">\n                        <CheckCircle className=\"h-12 w-12 text-green-500 mb-4\" />\n                        <h3 className=\"text-lg font-semibold\">No Pending Team Actions</h3>\n                        <p className=\"text-muted-foreground mt-1\">Actions requiring your review will appear here.</p>\n                    </div>\n                ) : (\n                    <Accordion \n                      type=\"single\" \n                      collapsible \n                      className=\"w-full space-y-2\"\n                      value={openAccordionItem}\n                      onValueChange={setOpenAccordionItem}\n                    >\n                        {teamActions.map(({ historyItem, recommendation: rec }) => {\n                            const { icon, title, subtitle, statusBadge, isActionable } = getTriggerInfo(historyItem, rec);\n                            const widgetContent = renderWidgetContent(historyItem, rec);\n                            if (!widgetContent) return null; // Don't render if there's nothing to show\n                            \n                            return (\n                                <AccordionItem value={rec.id} key={rec.id} className={cn(\"border rounded-lg\", isActionable ? \"bg-muted/30\" : \"bg-transparent\")}>\n                                    <AccordionTrigger className=\"px-4 py-3 w-full hover:no-underline\">\n                                        <div className=\"flex justify-between items-center w-full\">\n                                            <div className=\"flex items-center gap-3\">\n                                                {icon}\n                                                <div className=\"text-left\">\n                                                    <p className=\"font-semibold text-foreground\">{title}</p>\n                                                    <p className=\"text-sm font-normal text-muted-foreground\">{subtitle}</p>\n                                                </div>\n                                            </div>\n                                            <div className=\"flex items-center gap-4 mr-2\">\n                                                {statusBadge}\n                                            </div>\n                                        </div>\n                                    </AccordionTrigger>\n                                    <AccordionContent className=\"p-4 border-t\">\n                                        {widgetContent}\n                                    </AccordionContent>\n                                </AccordionItem>\n                            );\n                        })}\n                    </Accordion>\n                )}\n            </CardContent>\n        </Card>\n    );\n}\n\n\nexport default function CoachingPage() {\n  const { role, setRole, isLoading } = useRole();\n  const isSupervisor = role && ['Team Lead', 'AM', 'Manager', 'HR Head'].includes(role);\n  const isManager = role && ['AM', 'Manager', 'HR Head'].includes(role);\n\n  if (isLoading || !role) {\n    return (\n      <div className=\"flex h-screen w-screen items-center justify-center bg-background\">\n        <Skeleton className=\"h-screen w-full\" />\n      </div>\n    );\n  }\n  \n  return (\n    <DashboardLayout role={role} onSwitchRole={setRole}>\n        <div className=\"p-4 md:p-8 space-y-8\">\n            {isSupervisor && (\n                <>\n                    <MyDevelopmentWidget />\n                </>\n            )}\n            {isManager && <TeamDevelopmentWidget role={role} />}\n        </div>\n    </DashboardLayout>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}