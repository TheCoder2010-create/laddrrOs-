{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/development-plan-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback, useTransition } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { getActiveCoachingPlansForUser, OneOnOneHistoryItem, updateCoachingProgress, addCoachingCheckIn, addCustomCoachingPlan } from '@/services/feedback-service';\nimport type { CoachingRecommendation, CheckIn } from '../../types/ai';\nimport { useRole, type Role } from '@/hooks/use-role';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Slider } from '@/components/ui/slider';\nimport { Label } from '@/components/ui/label';\nimport { Activity, BookOpen, Podcast, Newspaper, GraduationCap, Lightbulb, History, MessageSquare, Loader2, Check, Plus, Calendar as CalendarIcon, NotebookPen, Bot, HeartPulse } from 'lucide-react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { format } from 'date-fns';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { cn } from '@/lib/utils';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Input } from '@/components/ui/input';\nimport { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert';\nimport { AiGenieIcon } from '../ui/ai-genie-icon';\nimport Link from 'next/link';\nimport type { GoalFeedbackInput, GoalFeedbackOutput, DevelopmentSuggestionOutput, DevelopmentSuggestionInput } from '@/types/ai';\n\n\nconst RecommendationIcon = ({ type }: { type: CoachingRecommendation['type'] }) => {\n    switch (type) {\n        case 'Book': return <BookOpen className=\"h-4 w-4 text-blue-500\" />;\n        case 'Podcast': return <Podcast className=\"h-4 w-4 text-purple-500\" />;\n        case 'Article': return <Newspaper className=\"h-4 w-4 text-green-500\" />;\n        case 'Course': return <GraduationCap className=\"h-4 w-4 text-orange-500\" />;\n        default: return <Lightbulb className=\"h-4 w-4 text-yellow-500\" />;\n    }\n};\n\nfunction AddPlanDialog({ open, onOpenChange, onPlanAdded }: { open: boolean; onOpenChange: (open: boolean) => void; onPlanAdded: () => void }) {\n    const { role } = useRole();\n    const { toast } = useToast();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    \n    // Form state\n    const [area, setArea] = useState('');\n    const [resource, setResource] = useState('');\n    const [startDate, setStartDate] = useState<Date | undefined>();\n    const [endDate, setEndDate] = useState<Date | undefined>();\n    const [isStartDatePickerOpen, setIsStartDatePickerOpen] = useState(false);\n    const [isEndDatePickerOpen, setIsEndDatePickerOpen] = useState(false);\n\n\n    const handleSubmit = async () => {\n        if (!role || !area || !resource || !startDate || !endDate) {\n            toast({ variant: 'destructive', title: \"Missing Information\", description: \"Please fill out all fields to add a plan.\" });\n            return;\n        }\n        setIsSubmitting(true);\n        try {\n            await addCustomCoachingPlan(role, { area, resource, startDate, endDate });\n            toast({ title: \"Development Plan Added\", description: \"Your new goal is now active.\" });\n            onPlanAdded();\n            onOpenChange(false);\n        } catch (error) {\n            console.error(\"Failed to add custom plan\", error);\n            toast({ variant: 'destructive', title: \"Submission Failed\" });\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent>\n                <DialogHeader>\n                    <DialogTitle>Add a Custom Development Goal</DialogTitle>\n                    <DialogDescription>\n                        Define a new coaching or development activity for yourself. This will appear in your active plan.\n                    </DialogDescription>\n                </DialogHeader>\n                <div className=\"py-4 space-y-4\">\n                    <div className=\"grid grid-cols-4 items-center gap-4\">\n                        <Label htmlFor=\"goal-area\" className=\"text-right\">Goal Area</Label>\n                        <Input id=\"goal-area\" value={area} onChange={(e) => setArea(e.target.value)} className=\"col-span-3\" />\n                    </div>\n                     <div className=\"grid grid-cols-4 items-center gap-4\">\n                        <Label htmlFor=\"goal-resource\" className=\"text-right\">Activity</Label>\n                        <Input id=\"goal-resource\" value={resource} onChange={(e) => setResource(e.target.value)} className=\"col-span-3\" />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"space-y-2\">\n                          <Label>Start</Label>\n                          <Popover open={isStartDatePickerOpen} onOpenChange={setIsStartDatePickerOpen}>\n                            <PopoverTrigger asChild>\n                              <Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\", !startDate && \"text-muted-foreground\")}>\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {startDate ? format(startDate, \"MM/dd/yy\") : <span>Pick a date</span>}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                                <Calendar \n                                    mode=\"single\" \n                                    selected={startDate} \n                                    onSelect={(date) => {\n                                        setStartDate(date);\n                                        setIsStartDatePickerOpen(false);\n                                    }} \n                                    initialFocus \n                                />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>End</Label>\n                           <Popover open={isEndDatePickerOpen} onOpenChange={setIsEndDatePickerOpen}>\n                            <PopoverTrigger asChild>\n                              <Button variant={\"outline\"} className={cn(\"w-full justify-start text-left font-normal\", !endDate && \"text-muted-foreground\")}>\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {endDate ? format(endDate, \"MM/dd/yy\") : <span>Pick a date</span>}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\">\n                                <Calendar \n                                    mode=\"single\" \n                                    selected={endDate} \n                                    onSelect={(date) => {\n                                        setEndDate(date);\n                                        setIsEndDatePickerOpen(false);\n                                    }} \n                                    disabled={(date) => date < (startDate || new Date())} \n                                    initialFocus \n                                />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                    </div>\n                </div>\n                <DialogFooter>\n                    <Button onClick={handleSubmit} disabled={isSubmitting || !area || !resource || !startDate || !endDate}>\n                        {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                        Add\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nfunction SuggestPlanDialog({ open, onOpenChange, onPlanAdded }: { open: boolean, onOpenChange: (open: boolean) => void, onPlanAdded: () => void }) {\n    const { role } = useRole();\n    const { toast } = useToast();\n    const [isGenerating, setIsGenerating] = useState(false);\n    const [suggestions, setSuggestions] = useState<DevelopmentSuggestionOutput['suggestions']>([]);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        if (open && role) {\n            setIsGenerating(true);\n            setError(null);\n            setSuggestions([]);\n            \n            const generate = async () => {\n                try {\n                    const userName = roleUserMapping[role]?.name;\n                    if (!userName) throw new Error(\"User not found for role\");\n\n                    const activeGoals = await getActiveCoachingPlansForUser(role);\n                    const coachingGoalsInProgress = activeGoals.map(p => ({\n                        area: p.rec.area,\n                        resource: p.rec.resource,\n                    }));\n\n                    const input: DevelopmentSuggestionInput = {\n                        userName,\n                        coachingGoalsInProgress,\n                    };\n                    \n                    const response = await fetch('/api/ai/generate-development-suggestion', {\n                        method: 'POST',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify(input)\n                    });\n\n                    if (!response.ok) {\n                        throw new Error('Failed to fetch suggestions');\n                    }\n            \n                    const result: DevelopmentSuggestionOutput = await response.json();\n                    setSuggestions(result.suggestions);\n\n                } catch (err) {\n                     console.error(\"Failed to generate suggestions:\", err);\n                     setError(\"Could not generate suggestions at this time. Please try again.\");\n                } finally {\n                    setIsGenerating(false);\n                }\n            }\n            generate();\n        }\n    }, [open, role]);\n\n    const handleAddSuggestion = async (suggestion: DevelopmentSuggestionOutput['suggestions'][0]) => {\n        if (!role) return;\n        \n        const startDate = new Date();\n        const endDate = new Date();\n        endDate.setDate(startDate.getDate() + 30); // Default 30-day timeline\n\n        try {\n            await addCustomCoachingPlan(role, {\n                area: suggestion.area,\n                resource: suggestion.resource,\n                startDate,\n                endDate,\n            });\n            toast({ title: \"Development Plan Added\", description: `The suggested goal for \"${suggestion.area}\" is now active.` });\n            onPlanAdded();\n            onOpenChange(false);\n        } catch (e) {\n            toast({ variant: 'destructive', title: \"Failed to Add Plan\" });\n        }\n    };\n\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent className=\"max-w-xl\">\n                <DialogHeader>\n                    <DialogTitle className=\"flex items-center gap-2\"><Bot /> AI-Suggested Development Goals</DialogTitle>\n                    <DialogDescription>\n                        Based on your recent activity, here are some personalized development goals.\n                    </DialogDescription>\n                </DialogHeader>\n                <div className=\"py-4 space-y-4\">\n                    {isGenerating && (\n                         <div className=\"flex items-center justify-center h-48\">\n                            <div className=\"flex flex-col items-center gap-2 text-muted-foreground\">\n                                <Loader2 className=\"h-8 w-8 animate-spin\" />\n                                <p>Analyzing your profile...</p>\n                            </div>\n                        </div>\n                    )}\n                    {error && (\n                         <Alert variant=\"destructive\">\n                            <AlertTitle>Error</AlertTitle>\n                            <AlertDescription>{error}</AlertDescription>\n                        </Alert>\n                    )}\n                    {!isGenerating && suggestions.length > 0 && (\n                        <div className=\"space-y-3\">\n                            {suggestions.map((s, i) => (\n                                <Card key={i} className=\"bg-muted/50\">\n                                    <CardContent className=\"p-4 flex items-center justify-between gap-4\">\n                                        <div className=\"flex-1\">\n                                            <p className=\"font-semibold text-primary\">{s.area}</p>\n                                            <p className=\"text-sm text-foreground\">{s.resource}</p>\n                                            <p className=\"text-xs text-muted-foreground italic mt-1\">Justification: {s.justification}</p>\n                                        </div>\n                                        <Button size=\"sm\" onClick={() => handleAddSuggestion(s)}>\n                                            <Plus className=\"mr-2 h-4 w-4\" /> Add to Plan\n                                        </Button>\n                                    </CardContent>\n                                </Card>\n                            ))}\n                        </div>\n                    )}\n                     {!isGenerating && suggestions.length === 0 && !error && (\n                        <div className=\"text-center h-48 flex flex-col justify-center items-center\">\n                            <p className=\"text-muted-foreground\">Could not generate any specific suggestions at this time.</p>\n                            <p className=\"text-xs text-muted-foreground\">Try again after your next 1-on-1 session.</p>\n                        </div>\n                    )}\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nfunction GoalFeedbackDialog({\n    rec,\n    historyId,\n    open,\n    onOpenChange,\n    onFeedbackSubmitted\n}: {\n    rec: CoachingRecommendation | null;\n    historyId: string | null;\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    onFeedbackSubmitted: () => void;\n}) {\n    const { toast } = useToast();\n    const [situation, setSituation] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [aiFeedback, setAiFeedback] = useState<string | null>(null);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        if (open) {\n            setSituation('');\n            setAiFeedback(null);\n            setError(null);\n        }\n    }, [open]);\n\n    const handleSubmit = async () => {\n        if (!rec || !situation) return;\n        setIsSubmitting(true);\n        setError(null);\n        setAiFeedback(null);\n\n        try {\n            const input: GoalFeedbackInput = {\n                goalArea: rec.area,\n                goalDescription: rec.resource,\n                userSituation: situation,\n            };\n            const response = await fetch('/api/ai/get-goal-feedback', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(input)\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to fetch AI feedback');\n            }\n\n            const result: GoalFeedbackOutput = await response.json();\n            setAiFeedback(result.feedback);\n            \n            // Log the AI feedback as a check-in\n            const checkInMessage = `[AI FEEDBACK on \"${rec.area}\"]\\nSITUATION: ${situation}\\n\\nCOACH: ${result.feedback}`;\n            await addCoachingCheckIn(historyId, rec.id, checkInMessage);\n\n            toast({ title: \"AI Feedback Received\", description: \"Your AI coach's feedback has been added to your check-in history.\" });\n            onFeedbackSubmitted();\n\n        } catch (e) {\n            console.error(\"Failed to get AI feedback\", e);\n            setError(\"The AI coach could not provide feedback at this time. Please try again later.\");\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                    <DialogTitle>Get AI Feedback on Your Goal</DialogTitle>\n                    <DialogDescription>\n                        For your goal: <span className=\"font-semibold text-primary\">{rec?.area} - {rec?.resource}</span>\n                    </DialogDescription>\n                </DialogHeader>\n                <div className=\"py-4 space-y-4\">\n                    <div className=\"space-y-2\">\n                        <Label htmlFor=\"situation-description\">Describe a recent situation where you tried to apply this goal.</Label>\n                        <Textarea\n                            id=\"situation-description\"\n                            value={situation}\n                            onChange={(e) => setSituation(e.target.value)}\n                            placeholder=\"Example: I led a team meeting and tried to be more concise. It felt rushed, and I'm not sure everyone understood the key takeaways. What could I do differently?\"\n                            rows={6}\n                        />\n                    </div>\n                    {isSubmitting && (\n                         <Alert>\n                            <div className=\"flex items-center gap-2 font-bold text-primary\">\n                                <Loader2 className=\"animate-spin\" />\n                                <AlertTitle>Thinking...</AlertTitle>\n                            </div>\n                            <AlertDescription>\n                                Your AI coach is analyzing your situation. This may take a moment.\n                            </AlertDescription>\n                        </Alert>\n                    )}\n                    {error && (\n                         <Alert variant=\"destructive\">\n                            <AlertTitle>Error</AlertTitle>\n                            <AlertDescription>{error}</AlertDescription>\n                        </Alert>\n                    )}\n                     {aiFeedback && (\n                        <Alert variant=\"success\">\n                            <Bot className=\"h-4 w-4\" />\n                            <AlertTitle>AI Coach Feedback</AlertTitle>\n                            <AlertDescription className=\"whitespace-pre-wrap\">{aiFeedback}</AlertDescription>\n                        </Alert>\n                    )}\n                </div>\n                <DialogFooter>\n                    <Button variant=\"ghost\" onClick={() => onOpenChange(false)}>Close</Button>\n                    <Button onClick={handleSubmit} disabled={isSubmitting || !situation || !!aiFeedback}>\n                        {isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Bot className=\"mr-2 h-4 w-4\" />}\n                        Get Feedback\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n    )\n}\n\nexport default function DevelopmentPlanWidget() {\n    const { role } = useRole();\n    const { toast } = useToast();\n    const [activePlans, setActivePlans] = useState<{ historyId: string | null; rec: CoachingRecommendation }[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isPending, startTransition] = useTransition();\n    \n    const [checkInRec, setCheckInRec] = useState<{ historyId: string | null, rec: CoachingRecommendation, newProgress: number } | null>(null);\n    const [checkInNotes, setCheckInNotes] = useState('');\n    const [isSubmittingCheckIn, setIsSubmittingCheckIn] = useState(false);\n\n    const [historyInView, setHistoryInView] = useState<CoachingRecommendation | null>(null);\n    const [isAddPlanDialogOpen, setIsAddPlanDialogOpen] = useState(false);\n    const [isSuggestPlanDialogOpen, setIsSuggestPlanDialogOpen] = useState(false);\n    \n    const [feedbackGoal, setFeedbackGoal] = useState<{ historyId: string | null, rec: CoachingRecommendation } | null>(null);\n\n    const fetchActivePlans = useCallback(async () => {\n        if (!role) return;\n        setIsLoading(true);\n        const userName = roleUserMapping[role as Role]?.name || role;\n        if (!userName) {\n            setIsLoading(false);\n            return;\n        }\n\n        const plans = await getActiveCoachingPlansForUser(role);\n        setActivePlans(plans.sort((a, b) => new Date(a.rec.startDate || 0).getTime() - new Date(b.rec.startDate || 0).getTime()));\n        setIsLoading(false);\n    }, [role]);\n\n    useEffect(() => {\n        fetchActivePlans();\n        const handleDataUpdate = () => fetchActivePlans();\n        window.addEventListener('storage', handleDataUpdate);\n        window.addEventListener('feedbackUpdated', handleDataUpdate);\n        return () => {\n            window.removeEventListener('storage', handleDataUpdate);\n            window.removeEventListener('feedbackUpdated', handleDataUpdate);\n        };\n    }, [fetchActivePlans]);\n\n    const debouncedProgressUpdate = useDebouncedCallback((historyId: string | null, recId: string, newProgress: number) => {\n        const plan = activePlans.find(p => p.rec.id === recId);\n        if (plan) {\n            // Only trigger check-in if progress has increased\n            if (newProgress > (plan.rec.progress ?? 0)) {\n                setCheckInRec({ historyId, rec: plan.rec, newProgress });\n            }\n        }\n    }, 500);\n\n    const handleCheckInSubmit = () => {\n        if (!checkInRec || !checkInNotes) return;\n        \n        const { historyId, rec, newProgress } = checkInRec;\n\n        setIsSubmittingCheckIn(true);\n        startTransition(async () => {\n            await updateCoachingProgress(historyId, rec.id, newProgress);\n            await addCoachingCheckIn(historyId, rec.id, checkInNotes);\n            \n            toast({\n                title: \"Progress Updated\",\n                description: \"Your check-in has been logged successfully.\",\n            });\n            \n            setCheckInRec(null);\n            setCheckInNotes('');\n            setIsSubmittingCheckIn(false);\n            fetchActivePlans();\n        });\n    }\n    \n    const handleCheckInCancel = () => {\n        setCheckInRec(null);\n        // Re-fetch to reset slider state to last saved value\n        fetchActivePlans();\n    }\n\n\n    if (isLoading) {\n        return <Skeleton className=\"h-48 w-full\" />;\n    }\n\n    return (\n        <>\n            <AddPlanDialog \n                open={isAddPlanDialogOpen} \n                onOpenChange={setIsAddPlanDialogOpen} \n                onPlanAdded={fetchActivePlans} \n            />\n\n            <SuggestPlanDialog\n                open={isSuggestPlanDialogOpen}\n                onOpenChange={setIsSuggestPlanDialogOpen}\n                onPlanAdded={fetchActivePlans}\n            />\n\n             <GoalFeedbackDialog\n                rec={feedbackGoal?.rec ?? null}\n                historyId={feedbackGoal?.historyId ?? null}\n                open={!!feedbackGoal}\n                onOpenChange={() => setFeedbackGoal(null)}\n                onFeedbackSubmitted={fetchActivePlans}\n            />\n\n            <Dialog open={!!checkInRec} onOpenChange={(isOpen) => !isOpen && handleCheckInCancel()}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle>How is it going?</DialogTitle>\n                        <DialogDescription>\n                            Let's log a quick check-in for your work on \"{checkInRec?.rec.area}\". Your progress is now at {checkInRec?.newProgress}%.\n                        </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"py-4 space-y-2 relative\">\n                        <Label htmlFor=\"checkin-notes\">What have you learned or tried so far?</Label>\n                        <Textarea \n                            id=\"checkin-notes\"\n                            value={checkInNotes}\n                            onChange={(e) => setCheckInNotes(e.target.value)}\n                            placeholder=\"Log your learnings and attempts here...\"\n                            rows={5}\n                            className=\"pr-12 pb-12\"\n                        />\n                         <Button \n                            size=\"icon\" \n                            className=\"absolute bottom-6 right-4 h-8 w-8 rounded-full bg-success hover:bg-success/90\"\n                            onClick={handleCheckInSubmit} \n                            disabled={isSubmittingCheckIn || !checkInNotes}\n                            aria-label=\"Save check-in\"\n                        >\n                            {isSubmittingCheckIn ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Check className=\"h-4 w-4\" />}\n                        </Button>\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            <Dialog open={!!historyInView} onOpenChange={(isOpen) => !isOpen && setHistoryInView(null)}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle>Check-in History</DialogTitle>\n                        <DialogDescription>\n                            Your progress journal for \"{historyInView?.area}\".\n                        </DialogDescription>\n                    </DialogHeader>\n                     <ScrollArea className=\"max-h-[60vh] pr-4\">\n                        <div className=\"py-4 space-y-4\">\n                            {historyInView?.checkIns && historyInView.checkIns.length > 0 ? (\n                                historyInView.checkIns.slice().reverse().map(checkIn => (\n                                    <div key={checkIn.id} className=\"flex items-start gap-3\">\n                                        <MessageSquare className=\"h-4 w-4 mt-1 text-primary/70 flex-shrink-0\" />\n                                        <div className=\"flex-1\">\n                                            <p className=\"text-xs text-muted-foreground\">{format(new Date(checkIn.date), 'PPP, p')}</p>\n                                            <p className=\"text-sm text-foreground whitespace-pre-wrap\">{checkIn.notes}</p>\n                                        </div>\n                                    </div>\n                                ))\n                            ) : (\n                                <p className=\"text-sm text-muted-foreground text-center py-4\">No check-ins have been logged for this item yet.</p>\n                            )}\n                        </div>\n                    </ScrollArea>\n                </DialogContent>\n            </Dialog>\n\n            <Card>\n                <CardHeader className=\"p-2\">\n                    <div className=\"flex justify-between items-center\">\n                        <CardTitle className=\"flex items-center gap-2 text-base\">\n                            <Activity className=\"text-primary\" />\n                            Active Development Plan\n                        </CardTitle>\n                        <div className=\"flex items-center gap-1\">\n                             {role === 'HR Head' && (\n                                <Button variant=\"outline\" size=\"sm\" asChild>\n                                    <Link href=\"/org-health\">\n                                        <HeartPulse className=\"mr-2 h-4 w-4\"/>\n                                        Assign Tasks\n                                    </Link>\n                                </Button>\n                             )}\n                            <Button variant=\"ghost\" size=\"icon\" onClick={() => setIsSuggestPlanDialogOpen(true)} className=\"hover:bg-transparent transition-transform hover:scale-125\">\n                                <AiGenieIcon className=\"h-7 w-7 text-primary\" />\n                            </Button>\n                            <Button variant=\"ghost\" size=\"icon\" onClick={() => setIsAddPlanDialogOpen(true)} className=\"hover:bg-transparent transition-transform hover:scale-125\">\n                                <Plus className=\"h-5 w-5\" />\n                            </Button>\n                        </div>\n                    </div>\n                </CardHeader>\n                <CardContent>\n                    {activePlans.length === 0 ? (\n                        <div className=\"p-1\"></div>\n                    ) : (\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n                            {activePlans.map(({ historyId, rec }) => (\n                                <div \n                                    key={rec.id} \n                                    className=\"p-2 space-y-1.5 border rounded-lg bg-card/50 flex flex-col justify-between min-h-[100px]\"\n                                >\n                                     <div className=\"flex justify-between items-start gap-2\">\n                                        <div \n                                            className=\"flex-1 cursor-pointer overflow-hidden\"\n                                            onClick={() => setHistoryInView(rec)}\n                                            onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') setHistoryInView(rec); }}\n                                            role=\"button\"\n                                            tabIndex={0}\n                                        >\n                                            <p className=\"font-semibold text-foreground leading-tight whitespace-normal pr-2\">{rec.area}</p>\n                                        </div>\n                                        <div className=\"flex items-center\">\n                                            {rec.type === \"Other\" && (\n                                                <Button \n                                                    variant=\"ghost\" \n                                                    size=\"icon\" \n                                                    className=\"h-7 w-7 text-primary/70 hover:text-primary\"\n                                                    onClick={() => setFeedbackGoal({ historyId, rec })}\n                                                >\n                                                    <Bot className=\"h-4 w-4\" />\n                                                </Button>\n                                            )}\n                                            <p className=\"text-lg font-bold text-secondary flex-shrink-0\">{rec.progress ?? 0}%</p>\n                                        </div>\n                                    </div>\n\n                                    <div \n                                        className=\"w-full space-y-2 mt-auto\"\n                                    >\n                                        <div className=\"flex items-center gap-2 text-xs text-muted-foreground truncate\">\n                                            <RecommendationIcon type={rec.type} />\n                                            <span className=\"truncate\">{rec.type}: {rec.resource}</span>\n                                        </div>\n                                        <div \n                                            className=\"w-full\"\n                                        >\n                                            <Slider\n                                                defaultValue={[rec.progress ?? 0]}\n                                                max={100}\n                                                step={10}\n                                                onValueChange={(value) => debouncedProgressUpdate(historyId, rec.id, value[0])}\n                                                className=\"w-full\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </CardContent>\n            </Card>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,MAAM,qBAAqB,CAAC,EAAE,IAAI,EAA4C;IAC1E,OAAQ;QACJ,KAAK;YAAQ,qBAAO,8OAAC,8MAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;QACxC,KAAK;YAAW,qBAAO,8OAAC,wMAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;QAC1C,KAAK;YAAW,qBAAO,8OAAC,4MAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;QAC5C,KAAK;YAAU,qBAAO,8OAAC,wNAAA,CAAA,gBAAa;gBAAC,WAAU;;;;;;QAC/C;YAAS,qBAAO,8OAAC,4MAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;IACzC;AACJ;AAEA,SAAS,cAAc,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAqF;IACzI,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,aAAa;IACb,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD;IACrC,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnE,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAG/D,MAAM,eAAe;QACjB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS;YACvD,MAAM;gBAAE,SAAS;gBAAe,OAAO;gBAAuB,aAAa;YAA4C;YACvH;QACJ;QACA,gBAAgB;QAChB,IAAI;YACA,MAAM,CAAA,GAAA,kJAAA,CAAA,wBAAqB,AAAD,EAAE,MAAM;gBAAE;gBAAM;gBAAU;gBAAW;YAAQ;YACvE,MAAM;gBAAE,OAAO;gBAA0B,aAAa;YAA+B;YACrF;YACA,aAAa;QACjB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM;gBAAE,SAAS;gBAAe,OAAO;YAAoB;QAC/D,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACI,8OAAC,8IAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAC9B,cAAA,8OAAC,8IAAA,CAAA,gBAAa;;8BACV,8OAAC,8IAAA,CAAA,eAAY;;sCACT,8OAAC,8IAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,8OAAC,8IAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAIvB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,6IAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAY,WAAU;8CAAa;;;;;;8CAClD,8OAAC,6IAAA,CAAA,QAAK;oCAAC,IAAG;oCAAY,OAAO;oCAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCAAG,WAAU;;;;;;;;;;;;sCAE1F,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC,6IAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAgB,WAAU;8CAAa;;;;;;8CACtD,8OAAC,6IAAA,CAAA,QAAK;oCAAC,IAAG;oCAAgB,OAAO;oCAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAAG,WAAU;;;;;;;;;;;;sCAEvG,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6IAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,+IAAA,CAAA,UAAO;4CAAC,MAAM;4CAAuB,cAAc;;8DAClD,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,OAAO;8DACrB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wDAAC,SAAS;wDAAW,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,8CAA8C,CAAC,aAAa;;0EACpG,8OAAC,0MAAA,CAAA,WAAY;gEAAC,WAAU;;;;;;4DACvB,YAAY,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,WAAW,4BAAc,8OAAC;0EAAK;;;;;;;;;;;;;;;;;8DAGvD,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,WAAU;8DACtB,cAAA,8OAAC,gJAAA,CAAA,WAAQ;wDACL,MAAK;wDACL,UAAU;wDACV,UAAU,CAAC;4DACP,aAAa;4DACb,yBAAyB;wDAC7B;wDACA,YAAY;;;;;;;;;;;;;;;;;;;;;;;8CAKxB,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC,6IAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,+IAAA,CAAA,UAAO;4CAAC,MAAM;4CAAqB,cAAc;;8DACjD,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,OAAO;8DACrB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wDAAC,SAAS;wDAAW,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,8CAA8C,CAAC,WAAW;;0EAClG,8OAAC,0MAAA,CAAA,WAAY;gEAAC,WAAU;;;;;;4DACvB,UAAU,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,SAAS,4BAAc,8OAAC;0EAAK;;;;;;;;;;;;;;;;;8DAGnD,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,WAAU;8DACtB,cAAA,8OAAC,gJAAA,CAAA,WAAQ;wDACL,MAAK;wDACL,UAAU;wDACV,UAAU,CAAC;4DACP,WAAW;4DACX,uBAAuB;wDAC3B;wDACA,UAAU,CAAC,OAAS,OAAO,CAAC,aAAa,IAAI,MAAM;wDACnD,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOhC,8OAAC,8IAAA,CAAA,eAAY;8BACT,cAAA,8OAAC,8IAAA,CAAA,SAAM;wBAAC,SAAS;wBAAc,UAAU,gBAAgB,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC;;4BACzF,8BAAgB,8OAAC,iNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;;4BAA+B;;;;;;;;;;;;;;;;;;;;;;;AAO3F;AAEA,SAAS,kBAAkB,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAqF;IAC7I,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA8C,EAAE;IAC7F,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,QAAQ,MAAM;YACd,gBAAgB;YAChB,SAAS;YACT,eAAe,EAAE;YAEjB,MAAM,WAAW;gBACb,IAAI;oBACA,MAAM,WAAW,yIAAA,CAAA,kBAAe,CAAC,KAAK,EAAE;oBACxC,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;oBAE/B,MAAM,cAAc,MAAM,CAAA,GAAA,kJAAA,CAAA,gCAA6B,AAAD,EAAE;oBACxD,MAAM,0BAA0B,YAAY,GAAG,CAAC,CAAA,IAAK,CAAC;4BAClD,MAAM,EAAE,GAAG,CAAC,IAAI;4BAChB,UAAU,EAAE,GAAG,CAAC,QAAQ;wBAC5B,CAAC;oBAED,MAAM,QAAoC;wBACtC;wBACA;oBACJ;oBAEA,MAAM,WAAW,MAAM,MAAM,2CAA2C;wBACpE,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAS,CAAC;oBACzB;oBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;wBACd,MAAM,IAAI,MAAM;oBACpB;oBAEA,MAAM,SAAsC,MAAM,SAAS,IAAI;oBAC/D,eAAe,OAAO,WAAW;gBAErC,EAAE,OAAO,KAAK;oBACT,QAAQ,KAAK,CAAC,mCAAmC;oBACjD,SAAS;gBACd,SAAU;oBACN,gBAAgB;gBACpB;YACJ;YACA;QACJ;IACJ,GAAG;QAAC;QAAM;KAAK;IAEf,MAAM,sBAAsB,OAAO;QAC/B,IAAI,CAAC,MAAM;QAEX,MAAM,YAAY,IAAI;QACtB,MAAM,UAAU,IAAI;QACpB,QAAQ,OAAO,CAAC,UAAU,OAAO,KAAK,KAAK,0BAA0B;QAErE,IAAI;YACA,MAAM,CAAA,GAAA,kJAAA,CAAA,wBAAqB,AAAD,EAAE,MAAM;gBAC9B,MAAM,WAAW,IAAI;gBACrB,UAAU,WAAW,QAAQ;gBAC7B;gBACA;YACJ;YACA,MAAM;gBAAE,OAAO;gBAA0B,aAAa,CAAC,wBAAwB,EAAE,WAAW,IAAI,CAAC,gBAAgB,CAAC;YAAC;YACnH;YACA,aAAa;QACjB,EAAE,OAAO,GAAG;YACR,MAAM;gBAAE,SAAS;gBAAe,OAAO;YAAqB;QAChE;IACJ;IAEA,qBACI,8OAAC,8IAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAC9B,cAAA,8OAAC,8IAAA,CAAA,gBAAa;YAAC,WAAU;;8BACrB,8OAAC,8IAAA,CAAA,eAAY;;sCACT,8OAAC,8IAAA,CAAA,cAAW;4BAAC,WAAU;;8CAA0B,8OAAC,gMAAA,CAAA,MAAG;;;;;gCAAG;;;;;;;sCACxD,8OAAC,8IAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAIvB,8OAAC;oBAAI,WAAU;;wBACV,8BACI,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;kDACnB,8OAAC;kDAAE;;;;;;;;;;;;;;;;;wBAId,uBACI,8OAAC,6IAAA,CAAA,QAAK;4BAAC,SAAQ;;8CACZ,8OAAC,6IAAA,CAAA,aAAU;8CAAC;;;;;;8CACZ,8OAAC,6IAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAG1B,CAAC,gBAAgB,YAAY,MAAM,GAAG,mBACnC,8OAAC;4BAAI,WAAU;sCACV,YAAY,GAAG,CAAC,CAAC,GAAG,kBACjB,8OAAC,4IAAA,CAAA,OAAI;oCAAS,WAAU;8CACpB,cAAA,8OAAC,4IAAA,CAAA,cAAW;wCAAC,WAAU;;0DACnB,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAE,WAAU;kEAA8B,EAAE,IAAI;;;;;;kEACjD,8OAAC;wDAAE,WAAU;kEAA2B,EAAE,QAAQ;;;;;;kEAClD,8OAAC;wDAAE,WAAU;;4DAA4C;4DAAgB,EAAE,aAAa;;;;;;;;;;;;;0DAE5F,8OAAC,8IAAA,CAAA,SAAM;gDAAC,MAAK;gDAAK,SAAS,IAAM,oBAAoB;;kEACjD,8OAAC,kMAAA,CAAA,OAAI;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;;;;;;;mCARlC;;;;;;;;;;wBAerB,CAAC,gBAAgB,YAAY,MAAM,KAAK,KAAK,CAAC,uBAC5C,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;8CACrC,8OAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzE;AAEA,SAAS,mBAAmB,EACxB,GAAG,EACH,SAAS,EACT,IAAI,EACJ,YAAY,EACZ,mBAAmB,EAOtB;IACG,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,MAAM;YACN,aAAa;YACb,cAAc;YACd,SAAS;QACb;IACJ,GAAG;QAAC;KAAK;IAET,MAAM,eAAe;QACjB,IAAI,CAAC,OAAO,CAAC,WAAW;QACxB,gBAAgB;QAChB,SAAS;QACT,cAAc;QAEd,IAAI;YACA,MAAM,QAA2B;gBAC7B,UAAU,IAAI,IAAI;gBAClB,iBAAiB,IAAI,QAAQ;gBAC7B,eAAe;YACnB;YACA,MAAM,WAAW,MAAM,MAAM,6BAA6B;gBACtD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,SAA6B,MAAM,SAAS,IAAI;YACtD,cAAc,OAAO,QAAQ;YAE7B,oCAAoC;YACpC,MAAM,iBAAiB,CAAC,iBAAiB,EAAE,IAAI,IAAI,CAAC,eAAe,EAAE,UAAU,WAAW,EAAE,OAAO,QAAQ,EAAE;YAC7G,MAAM,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD,EAAE,WAAW,IAAI,EAAE,EAAE;YAE5C,MAAM;gBAAE,OAAO;gBAAwB,aAAa;YAAoE;YACxH;QAEJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,SAAS;QACb,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACI,8OAAC,8IAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAC9B,cAAA,8OAAC,8IAAA,CAAA,gBAAa;YAAC,WAAU;;8BACrB,8OAAC,8IAAA,CAAA,eAAY;;sCACT,8OAAC,8IAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,8OAAC,8IAAA,CAAA,oBAAiB;;gCAAC;8CACA,8OAAC;oCAAK,WAAU;;wCAA8B,KAAK;wCAAK;wCAAI,KAAK;;;;;;;;;;;;;;;;;;;8BAGxF,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,6IAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAwB;;;;;;8CACvC,8OAAC,gJAAA,CAAA,WAAQ;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oCAC5C,aAAY;oCACZ,MAAM;;;;;;;;;;;;wBAGb,8BACI,8OAAC,6IAAA,CAAA,QAAK;;8CACH,8OAAC;oCAAI,WAAU;;sDACX,8OAAC,iNAAA,CAAA,UAAO;4CAAC,WAAU;;;;;;sDACnB,8OAAC,6IAAA,CAAA,aAAU;sDAAC;;;;;;;;;;;;8CAEhB,8OAAC,6IAAA,CAAA,mBAAgB;8CAAC;;;;;;;;;;;;wBAKzB,uBACI,8OAAC,6IAAA,CAAA,QAAK;4BAAC,SAAQ;;8CACZ,8OAAC,6IAAA,CAAA,aAAU;8CAAC;;;;;;8CACZ,8OAAC,6IAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGzB,4BACE,8OAAC,6IAAA,CAAA,QAAK;4BAAC,SAAQ;;8CACX,8OAAC,gMAAA,CAAA,MAAG;oCAAC,WAAU;;;;;;8CACf,8OAAC,6IAAA,CAAA,aAAU;8CAAC;;;;;;8CACZ,8OAAC,6IAAA,CAAA,mBAAgB;oCAAC,WAAU;8CAAuB;;;;;;;;;;;;;;;;;;8BAI/D,8OAAC,8IAAA,CAAA,eAAY;;sCACT,8OAAC,8IAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAQ,SAAS,IAAM,aAAa;sCAAQ;;;;;;sCAC5D,8OAAC,8IAAA,CAAA,SAAM;4BAAC,SAAS;4BAAc,UAAU,gBAAgB,CAAC,aAAa,CAAC,CAAC;;gCACpE,6BAAe,8OAAC,iNAAA,CAAA,UAAO;oCAAC,WAAU;;;;;yDAAiC,8OAAC,gMAAA,CAAA,MAAG;oCAAC,WAAU;;;;;;gCAAkB;;;;;;;;;;;;;;;;;;;;;;;;AAO7H;AAEe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA+D,EAAE;IAC9G,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;IAEjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAyF;IACpI,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiC;IAClF,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoE;IAEnH,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACjC,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,WAAW,yIAAA,CAAA,kBAAe,CAAC,KAAa,EAAE,QAAQ;QACxD,IAAI,CAAC,UAAU;YACX,aAAa;YACb;QACJ;QAEA,MAAM,QAAQ,MAAM,CAAA,GAAA,kJAAA,CAAA,gCAA6B,AAAD,EAAE;QAClD,eAAe,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,GAAG,CAAC,SAAS,IAAI,GAAG,OAAO,KAAK,IAAI,KAAK,EAAE,GAAG,CAAC,SAAS,IAAI,GAAG,OAAO;QACrH,aAAa;IACjB,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;QACA,MAAM,mBAAmB,IAAM;QAC/B,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO;YACH,OAAO,mBAAmB,CAAC,WAAW;YACtC,OAAO,mBAAmB,CAAC,mBAAmB;QAClD;IACJ,GAAG;QAAC;KAAiB;IAErB,MAAM,0BAA0B,CAAA,GAAA,0JAAA,CAAA,uBAAoB,AAAD,EAAE,CAAC,WAA0B,OAAe;QAC3F,MAAM,OAAO,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,CAAC,EAAE,KAAK;QAChD,IAAI,MAAM;YACN,kDAAkD;YAClD,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,QAAQ,IAAI,CAAC,GAAG;gBACxC,cAAc;oBAAE;oBAAW,KAAK,KAAK,GAAG;oBAAE;gBAAY;YAC1D;QACJ;IACJ,GAAG;IAEH,MAAM,sBAAsB;QACxB,IAAI,CAAC,cAAc,CAAC,cAAc;QAElC,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,WAAW,EAAE,GAAG;QAExC,uBAAuB;QACvB,gBAAgB;YACZ,MAAM,CAAA,GAAA,kJAAA,CAAA,yBAAsB,AAAD,EAAE,WAAW,IAAI,EAAE,EAAE;YAChD,MAAM,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD,EAAE,WAAW,IAAI,EAAE,EAAE;YAE5C,MAAM;gBACF,OAAO;gBACP,aAAa;YACjB;YAEA,cAAc;YACd,gBAAgB;YAChB,uBAAuB;YACvB;QACJ;IACJ;IAEA,MAAM,sBAAsB;QACxB,cAAc;QACd,qDAAqD;QACrD;IACJ;IAGA,IAAI,WAAW;QACX,qBAAO,8OAAC,gJAAA,CAAA,WAAQ;YAAC,WAAU;;;;;;IAC/B;IAEA,qBACI;;0BACI,8OAAC;gBACG,MAAM;gBACN,cAAc;gBACd,aAAa;;;;;;0BAGjB,8OAAC;gBACG,MAAM;gBACN,cAAc;gBACd,aAAa;;;;;;0BAGhB,8OAAC;gBACE,KAAK,cAAc,OAAO;gBAC1B,WAAW,cAAc,aAAa;gBACtC,MAAM,CAAC,CAAC;gBACR,cAAc,IAAM,gBAAgB;gBACpC,qBAAqB;;;;;;0BAGzB,8OAAC,8IAAA,CAAA,SAAM;gBAAC,MAAM,CAAC,CAAC;gBAAY,cAAc,CAAC,SAAW,CAAC,UAAU;0BAC7D,cAAA,8OAAC,8IAAA,CAAA,gBAAa;;sCACV,8OAAC,8IAAA,CAAA,eAAY;;8CACT,8OAAC,8IAAA,CAAA,cAAW;8CAAC;;;;;;8CACb,8OAAC,8IAAA,CAAA,oBAAiB;;wCAAC;wCAC+B,YAAY,IAAI;wCAAK;wCAA4B,YAAY;wCAAY;;;;;;;;;;;;;sCAG/H,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,6IAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAgB;;;;;;8CAC/B,8OAAC,gJAAA,CAAA,WAAQ;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oCAC/C,aAAY;oCACZ,MAAM;oCACN,WAAU;;;;;;8CAEb,8OAAC,8IAAA,CAAA,SAAM;oCACJ,MAAK;oCACL,WAAU;oCACV,SAAS;oCACT,UAAU,uBAAuB,CAAC;oCAClC,cAAW;8CAEV,oCAAsB,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;6DAA4B,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMvG,8OAAC,8IAAA,CAAA,SAAM;gBAAC,MAAM,CAAC,CAAC;gBAAe,cAAc,CAAC,SAAW,CAAC,UAAU,iBAAiB;0BACjF,cAAA,8OAAC,8IAAA,CAAA,gBAAa;;sCACV,8OAAC,8IAAA,CAAA,eAAY;;8CACT,8OAAC,8IAAA,CAAA,cAAW;8CAAC;;;;;;8CACb,8OAAC,8IAAA,CAAA,oBAAiB;;wCAAC;wCACa,eAAe;wCAAK;;;;;;;;;;;;;sCAGvD,8OAAC,sJAAA,CAAA,aAAU;4BAAC,WAAU;sCACnB,cAAA,8OAAC;gCAAI,WAAU;0CACV,eAAe,YAAY,cAAc,QAAQ,CAAC,MAAM,GAAG,IACxD,cAAc,QAAQ,CAAC,KAAK,GAAG,OAAO,GAAG,GAAG,CAAC,CAAA,wBACzC,8OAAC;wCAAqB,WAAU;;0DAC5B,8OAAC,wNAAA,CAAA,gBAAa;gDAAC,WAAU;;;;;;0DACzB,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAE,WAAU;kEAAiC,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,QAAQ,IAAI,GAAG;;;;;;kEAC7E,8OAAC;wDAAE,WAAU;kEAA+C,QAAQ,KAAK;;;;;;;;;;;;;uCAJvE,QAAQ,EAAE;;;;8DASxB,8OAAC;oCAAE,WAAU;8CAAiD;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOlF,8OAAC,4IAAA,CAAA,OAAI;;kCACD,8OAAC,4IAAA,CAAA,aAAU;wBAAC,WAAU;kCAClB,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,4IAAA,CAAA,YAAS;oCAAC,WAAU;;sDACjB,8OAAC,0MAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAGzC,8OAAC;oCAAI,WAAU;;wCACT,SAAS,2BACP,8OAAC,8IAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAU,MAAK;4CAAK,OAAO;sDACvC,cAAA,8OAAC,4JAAA,CAAA,UAAI;gDAAC,MAAK;;kEACP,8OAAC,kNAAA,CAAA,aAAU;wDAAC,WAAU;;;;;;oDAAgB;;;;;;;;;;;;sDAKlD,8OAAC,8IAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,SAAS,IAAM,2BAA2B;4CAAO,WAAU;sDAC3F,cAAA,8OAAC,2JAAA,CAAA,cAAW;gDAAC,WAAU;;;;;;;;;;;sDAE3B,8OAAC,8IAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;4CAAO,SAAS,IAAM,uBAAuB;4CAAO,WAAU;sDACvF,cAAA,8OAAC,kMAAA,CAAA,OAAI;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAKhC,8OAAC,4IAAA,CAAA,cAAW;kCACP,YAAY,MAAM,KAAK,kBACpB,8OAAC;4BAAI,WAAU;;;;;iDAEf,8OAAC;4BAAI,WAAU;sCACV,YAAY,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,iBAChC,8OAAC;oCAEG,WAAU;;sDAET,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC;oDACG,WAAU;oDACV,SAAS,IAAM,iBAAiB;oDAChC,WAAW,CAAC;wDAAQ,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK,iBAAiB;oDAAM;oDACnF,MAAK;oDACL,UAAU;8DAEV,cAAA,8OAAC;wDAAE,WAAU;kEAAsE,IAAI,IAAI;;;;;;;;;;;8DAE/F,8OAAC;oDAAI,WAAU;;wDACV,IAAI,IAAI,KAAK,yBACV,8OAAC,8IAAA,CAAA,SAAM;4DACH,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,gBAAgB;oEAAE;oEAAW;gEAAI;sEAEhD,cAAA,8OAAC,gMAAA,CAAA,MAAG;gEAAC,WAAU;;;;;;;;;;;sEAGvB,8OAAC;4DAAE,WAAU;;gEAAkD,IAAI,QAAQ,IAAI;gEAAE;;;;;;;;;;;;;;;;;;;sDAIzF,8OAAC;4CACG,WAAU;;8DAEV,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAmB,MAAM,IAAI,IAAI;;;;;;sEAClC,8OAAC;4DAAK,WAAU;;gEAAY,IAAI,IAAI;gEAAC;gEAAG,IAAI,QAAQ;;;;;;;;;;;;;8DAExD,8OAAC;oDACG,WAAU;8DAEV,cAAA,8OAAC,8IAAA,CAAA,SAAM;wDACH,cAAc;4DAAC,IAAI,QAAQ,IAAI;yDAAE;wDACjC,KAAK;wDACL,MAAM;wDACN,eAAe,CAAC,QAAU,wBAAwB,WAAW,IAAI,EAAE,EAAE,KAAK,CAAC,EAAE;wDAC7E,WAAU;;;;;;;;;;;;;;;;;;mCA3CjB,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAuD/C","debugId":null}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/organizational-learning-map-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Map, Zap, BrainCircuit, Users } from 'lucide-react';\n\n// Mock data representing skill clusters and their growth\nconst skillClusters = [\n  { name: 'Technical Leadership', growth: 12, icon: <Zap className=\"text-blue-500\" /> },\n  { name: 'Product Strategy', growth: 8, icon: <BrainCircuit className=\"text-green-500\" /> },\n  { name: 'Cross-functional Communication', growth: -5, icon: <Users className=\"text-yellow-500\" /> },\n];\n\nexport default function OrganizationalLearningMapWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Map className=\"text-primary\" />\n          Organizational Learning Map\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {skillClusters.map(cluster => (\n            <div key={cluster.name} className=\"flex items-center justify-between p-3 border rounded-lg bg-muted/50\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"h-8 w-8 flex items-center justify-center rounded-md bg-background\">\n                  {cluster.icon}\n                </div>\n                <p className=\"font-semibold\">{cluster.name}</p>\n              </div>\n              <div className={`text-lg font-bold ${cluster.growth > 0 ? 'text-green-500' : 'text-red-500'}`}>\n                {cluster.growth > 0 ? '+' : ''}{cluster.growth}%\n              </div>\n            </div>\n          ))}\n          <p className=\"text-xs text-center text-muted-foreground pt-2\">Data is illustrative. A real implementation would use a graph visualization library.</p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAKA,yDAAyD;AACzD,MAAM,gBAAgB;IACpB;QAAE,MAAM;QAAwB,QAAQ;QAAI,oBAAM,8OAAC,gMAAA,CAAA,MAAG;YAAC,WAAU;;;;;;IAAmB;IACpF;QAAE,MAAM;QAAoB,QAAQ;QAAG,oBAAM,8OAAC,sNAAA,CAAA,eAAY;YAAC,WAAU;;;;;;IAAoB;IACzF;QAAE,MAAM;QAAkC,QAAQ,CAAC;QAAG,oBAAM,8OAAC,oMAAA,CAAA,QAAK;YAAC,WAAU;;;;;;IAAqB;CACnG;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIpC,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,cAAc,GAAG,CAAC,CAAA,wBACjB,8OAAC;gCAAuB,WAAU;;kDAChC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACZ,QAAQ,IAAI;;;;;;0DAEf,8OAAC;gDAAE,WAAU;0DAAiB,QAAQ,IAAI;;;;;;;;;;;;kDAE5C,8OAAC;wCAAI,WAAW,CAAC,kBAAkB,EAAE,QAAQ,MAAM,GAAG,IAAI,mBAAmB,gBAAgB;;4CAC1F,QAAQ,MAAM,GAAG,IAAI,MAAM;4CAAI,QAAQ,MAAM;4CAAC;;;;;;;;+BARzC,QAAQ,IAAI;;;;;sCAYxB,8OAAC;4BAAE,WAAU;sCAAiD;;;;;;;;;;;;;;;;;;;;;;;AAKxE","debugId":null}},
    {"offset": {"line": 1761, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/leadership-persona-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { BarChart, Bar, XAxis, YAxis } from 'recharts';\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart';\nimport { Users } from 'lucide-react';\n\n// Mock data\nconst personaData = [\n  { name: 'Coach', value: 45, fill: 'var(--color-coach)' },\n  { name: 'Collaborator', value: 30, fill: 'var(--color-collaborator)' },\n  { name: 'Commander', value: 15, fill: 'var(--color-commander)' },\n  { name: 'Visionary', value: 10, fill: 'var(--color-visionary)' },\n];\n\nconst chartConfig = {\n  value: { label: 'Managers' },\n  coach: { label: 'Coach', color: 'hsl(var(--chart-1))' },\n  collaborator: { label: 'Collaborator', color: 'hsl(var(--chart-2))' },\n  commander: { label: 'Commander', color: 'hsl(var(--chart-4))' },\n  visionary: { label: 'Visionary', color: 'hsl(var(--chart-5))' },\n};\n\nexport default function LeadershipPersonaWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Users className=\"text-purple-500\" />\n          Leadership Persona Breakdown\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig} className=\"h-[200px] w-full\">\n          <BarChart accessibilityLayer data={personaData} layout=\"vertical\" margin={{ left: 10 }}>\n            <XAxis type=\"number\" hide />\n            <YAxis\n              dataKey=\"name\"\n              type=\"category\"\n              tickLine={false}\n              axisLine={false}\n              tickMargin={10}\n              width={80}\n            />\n            <ChartTooltip cursor={false} content={<ChartTooltipContent />} />\n            <Bar dataKey=\"value\" radius={5} />\n          </BarChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AALA;;;;;;AAOA,YAAY;AACZ,MAAM,cAAc;IAClB;QAAE,MAAM;QAAS,OAAO;QAAI,MAAM;IAAqB;IACvD;QAAE,MAAM;QAAgB,OAAO;QAAI,MAAM;IAA4B;IACrE;QAAE,MAAM;QAAa,OAAO;QAAI,MAAM;IAAyB;IAC/D;QAAE,MAAM;QAAa,OAAO;QAAI,MAAM;IAAyB;CAChE;AAED,MAAM,cAAc;IAClB,OAAO;QAAE,OAAO;IAAW;IAC3B,OAAO;QAAE,OAAO;QAAS,OAAO;IAAsB;IACtD,cAAc;QAAE,OAAO;QAAgB,OAAO;IAAsB;IACpE,WAAW;QAAE,OAAO;QAAa,OAAO;IAAsB;IAC9D,WAAW;QAAE,OAAO;QAAa,OAAO;IAAsB;AAChE;AAEe,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAIzC,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC,6IAAA,CAAA,iBAAc;oBAAC,QAAQ;oBAAa,WAAU;8BAC7C,cAAA,8OAAC,oJAAA,CAAA,WAAQ;wBAAC,kBAAkB;wBAAC,MAAM;wBAAa,QAAO;wBAAW,QAAQ;4BAAE,MAAM;wBAAG;;0CACnF,8OAAC,qJAAA,CAAA,QAAK;gCAAC,MAAK;gCAAS,IAAI;;;;;;0CACzB,8OAAC,qJAAA,CAAA,QAAK;gCACJ,SAAQ;gCACR,MAAK;gCACL,UAAU;gCACV,UAAU;gCACV,YAAY;gCACZ,OAAO;;;;;;0CAET,8OAAC,6IAAA,CAAA,eAAY;gCAAC,QAAQ;gCAAO,uBAAS,8OAAC,6IAAA,CAAA,sBAAmB;;;;;;;;;;0CAC1D,8OAAC,mJAAA,CAAA,MAAG;gCAAC,SAAQ;gCAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzC","debugId":null}},
    {"offset": {"line": 1930, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/attrition-risk-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { AlertTriangle, TrendingDown } from 'lucide-react';\nimport { Progress } from '@/components/ui/progress';\n\n// Mock data\nconst riskData = [\n    { team: 'Alpha', risk: 75, manager: 'Ben Carter' },\n    { team: 'Bravo', risk: 40, manager: 'Sarah Jones' },\n    { team: 'Charlie', risk: 20, manager: 'Mike Lee' },\n];\n\nexport default function AttritionRiskWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <AlertTriangle className=\"text-destructive\" />\n          Predictive Attrition Risk\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {riskData.map(item => (\n            <div key={item.team} className=\"space-y-1.5\">\n                <div className=\"flex justify-between items-baseline\">\n                    <p className=\"text-sm font-medium\">{item.team} Team</p>\n                    <p className=\"text-sm font-bold text-destructive\">{item.risk}% Risk</p>\n                </div>\n                <Progress value={item.risk} className=\"h-2 [&>div]:bg-destructive\" />\n                <p className=\"text-xs text-muted-foreground\">Lead: {item.manager}</p>\n            </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,YAAY;AACZ,MAAM,WAAW;IACb;QAAE,MAAM;QAAS,MAAM;QAAI,SAAS;IAAa;IACjD;QAAE,MAAM;QAAS,MAAM;QAAI,SAAS;IAAc;IAClD;QAAE,MAAM;QAAW,MAAM;QAAI,SAAS;IAAW;CACpD;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,wNAAA,CAAA,gBAAa;4BAAC,WAAU;;;;;;wBAAqB;;;;;;;;;;;;0BAIlD,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;0BACpB,SAAS,GAAG,CAAC,CAAA,qBACV,8OAAC;wBAAoB,WAAU;;0CAC3B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;;4CAAuB,KAAK,IAAI;4CAAC;;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;;4CAAsC,KAAK,IAAI;4CAAC;;;;;;;;;;;;;0CAEjE,8OAAC,gJAAA,CAAA,WAAQ;gCAAC,OAAO,KAAK,IAAI;gCAAE,WAAU;;;;;;0CACtC,8OAAC;gCAAE,WAAU;;oCAAgC;oCAAO,KAAK,OAAO;;;;;;;;uBAN1D,KAAK,IAAI;;;;;;;;;;;;;;;;AAY/B","debugId":null}},
    {"offset": {"line": 2066, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/ai-advisor-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Bot, Lightbulb, ChevronsRight } from 'lucide-react';\n\n// Mock data\nconst advice = {\n  title: \"Focus on Empathy for Team Alpha\",\n  description: \"Recent 1-on-1 analyses for Team Alpha show a consistent decline in 'Empathy' scores during feedback sessions. This correlates with a slight dip in their team pulse.\",\n  action: \"Suggest a targeted micro-training on 'Active Listening' for the Team Lead.\",\n};\n\nexport default function AiAdvisorWidget() {\n  return (\n    <Card className=\"bg-primary/5 border-primary/20\">\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base text-primary\">\n          <Bot />\n          AI Leadership Advisor\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div>\n            <p className=\"font-semibold text-foreground flex items-center gap-2\">\n                <Lightbulb className=\"text-yellow-400\" /> {advice.title}\n            </p>\n            <p className=\"text-sm text-muted-foreground mt-1\">{advice.description}</p>\n        </div>\n        <div className=\"flex items-center justify-between p-3 rounded-md bg-background/70 border\">\n            <div>\n                <p className=\"text-sm font-medium\">Recommended Action</p>\n                <p className=\"text-sm text-muted-foreground\">{advice.action}</p>\n            </div>\n            <Button size=\"sm\">\n                Take Action <ChevronsRight className=\"ml-1 h-4 w-4\" />\n            </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAJA;;;;;AAMA,YAAY;AACZ,MAAM,SAAS;IACb,OAAO;IACP,aAAa;IACb,QAAQ;AACV;AAEe,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;;;;;wBAAG;;;;;;;;;;;;0BAIX,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;;0CACG,8OAAC;gCAAE,WAAU;;kDACT,8OAAC,4MAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;oCAAoB;oCAAE,OAAO,KAAK;;;;;;;0CAE3D,8OAAC;gCAAE,WAAU;0CAAsC,OAAO,WAAW;;;;;;;;;;;;kCAEzE,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACG,8OAAC;wCAAE,WAAU;kDAAsB;;;;;;kDACnC,8OAAC;wCAAE,WAAU;kDAAiC,OAAO,MAAM;;;;;;;;;;;;0CAE/D,8OAAC,8IAAA,CAAA,SAAM;gCAAC,MAAK;;oCAAK;kDACF,8OAAC,wNAAA,CAAA,gBAAa;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrD","debugId":null}},
    {"offset": {"line": 2218, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/manager-dashboard.tsx"],"sourcesContent":["\nimport DevelopmentPlanWidget from \"./development-plan-widget\";\nimport OrganizationalLearningMapWidget from \"./organizational-learning-map-widget\";\nimport LeadershipPersonaWidget from \"./leadership-persona-widget\";\nimport AttritionRiskWidget from \"./attrition-risk-widget\";\nimport AiAdvisorWidget from \"./ai-advisor-widget\";\n\n\nexport default function ManagerDashboard() {\n  return (\n    <div className=\"space-y-8\">\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2 space-y-6\">\n          <OrganizationalLearningMapWidget />\n          <LeadershipPersonaWidget />\n        </div>\n        <div className=\"space-y-6\">\n            <AttritionRiskWidget />\n        </div>\n      </div>\n      \n       <AiAdvisorWidget />\n\n      <DevelopmentPlanWidget />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAGe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,2LAAA,CAAA,UAA+B;;;;;0CAChC,8OAAC,+KAAA,CAAA,UAAuB;;;;;;;;;;;kCAE1B,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,2KAAA,CAAA,UAAmB;;;;;;;;;;;;;;;;0BAIzB,8OAAC,uKAAA,CAAA,UAAe;;;;;0BAEjB,8OAAC,6KAAA,CAAA,UAAqB;;;;;;;;;;;AAG5B","debugId":null}},
    {"offset": {"line": 2300, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/quality-score-trend-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getOneOnOneHistory } from '@/services/feedback-service';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart';\nimport { LineChart, CartesianGrid, XAxis, YAxis, Line } from 'recharts';\nimport { BarChart as BarChartIcon } from 'lucide-react';\n\nexport default function QualityScoreTrendWidget() {\n  const { role } = useRole();\n  const [chartData, setChartData] = useState<{ date: string; score: number }[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchScores = useCallback(async () => {\n    if (!role) return;\n    const userName = roleUserMapping[role]?.name;\n    if (!userName) return;\n\n    setIsLoading(true);\n    const history = await getOneOnOneHistory();\n    const userSessions = history\n      .filter(item => item.supervisorName === userName)\n      .slice(0, 5) // Get last 5 sessions\n      .reverse(); // Reverse to show trend over time\n\n    const data = userSessions.map(item => ({\n      date: new Date(item.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n      score: item.analysis.effectivenessScore,\n    }));\n\n    setChartData(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchScores();\n    window.addEventListener('feedbackUpdated', fetchScores);\n    return () => window.removeEventListener('feedbackUpdated', fetchScores);\n  }, [fetchScores]);\n\n  const yAxisDomain = useMemo(() => {\n    if (chartData.length === 0) {\n      return [0, 10];\n    }\n    const scores = chartData.map(d => d.score);\n    const minScore = Math.min(...scores);\n    const maxScore = Math.max(...scores);\n    \n    // Give some padding and round to nearest integer\n    const yAxisMin = Math.max(0, Math.floor(minScore - 1));\n    const yAxisMax = Math.min(10, Math.ceil(maxScore + 1));\n\n    return [yAxisMin, yAxisMax];\n  }, [chartData]);\n\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <BarChartIcon className=\"text-primary\" />\n          1-on-1 Quality Score Trend\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"pb-4\">\n        {isLoading ? (\n          <Skeleton className=\"h-[200px] w-full\" />\n        ) : chartData.length > 0 ? (\n          <ChartContainer\n            config={{ score: { label: \"Effectiveness\", color: \"hsl(var(--primary))\" } }}\n            className=\"h-[200px] w-full\"\n          >\n            <LineChart\n              data={chartData}\n              margin={{ top: 5, right: 20, left: 0, bottom: 0 }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis dataKey=\"date\" tickLine={false} axisLine={false} tickMargin={8} />\n              <YAxis domain={yAxisDomain} tickLine={false} axisLine={false} tickMargin={8} />\n              <ChartTooltip\n                cursor={false}\n                content={<ChartTooltipContent indicator=\"dot\" />}\n              />\n              <Line\n                dataKey=\"score\"\n                type=\"monotone\"\n                stroke=\"var(--color-score)\"\n                strokeWidth={3}\n                dot={{ r: 5, fill: \"var(--color-score)\", strokeWidth: 2, stroke: \"hsl(var(--card))\" }}\n                activeDot={{ r: 7 }}\n              />\n            </LineChart>\n          </ChartContainer>\n        ) : (\n          <div className=\"text-center py-8 h-[200px] flex items-center justify-center\">\n            <p className=\"text-muted-foreground\">Not enough session data to display a trend.</p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2533, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/action-item-heatmap-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getTeamActionItemStatus, getActionItemsForEmployee, ActionItemWithSource } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { cn } from '@/lib/utils';\nimport { ListChecks, AlertTriangle, Calendar, BrainCircuit, Briefcase, CheckSquare, Square } from 'lucide-react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { formatDistanceToNow } from 'date-fns';\n\nconst getSourceIcon = (source: ActionItemWithSource['sourceType']) => {\n    switch (source) {\n        case '1-on-1': return <Calendar className=\"h-4 w-4 text-green-500\" />;\n        case 'Coaching': return <BrainCircuit className=\"h-4 w-4 text-purple-500\" />;\n        case 'Training': return <Briefcase className=\"h-4 w-4 text-blue-500\" />;\n        default: return <ListChecks className=\"h-4 w-4\" />;\n    }\n};\n\nexport default function ActionItemHeatmapWidget() {\n  const { role } = useRole();\n  const [teamStatus, setTeamStatus] = useState<Record<string, { open: number, overdue: number }>>({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  // State for the dialog\n  const [selectedEmployee, setSelectedEmployee] = useState<string | null>(null);\n  const [employeeActionItems, setEmployeeActionItems] = useState<ActionItemWithSource[]>([]);\n  const [isLoadingItems, setIsLoadingItems] = useState(false);\n\n  const fetchStatus = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const status = await getTeamActionItemStatus(role);\n    setTeamStatus(status);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchStatus();\n    window.addEventListener('feedbackUpdated', fetchStatus);\n    return () => window.removeEventListener('feedbackUpdated', fetchStatus);\n  }, [fetchStatus]);\n\n  const handleEmployeeClick = async (employeeName: string) => {\n    setSelectedEmployee(employeeName);\n    setIsLoadingItems(true);\n    const items = await getActionItemsForEmployee(employeeName);\n    setEmployeeActionItems(items);\n    setIsLoadingItems(false);\n  };\n\n  const getColor = (open: number, overdue: number) => {\n    if (overdue > 2) return 'bg-red-500';\n    if (overdue > 0) return 'bg-yellow-500';\n    if (open > 5) return 'bg-yellow-400';\n    if (open > 0) return 'bg-green-500';\n    return 'bg-green-300';\n  };\n  \n  const hasData = Object.keys(teamStatus).length > 0;\n\n  return (\n    <>\n      <Card>\n        <CardHeader className=\"p-2\">\n          <CardTitle className=\"flex items-center gap-2 text-base\">\n            <ListChecks className=\"text-primary\" />\n            Team Action Item Heatmap\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <Skeleton className=\"h-24 w-full\" />\n          ) : hasData ? (\n            <div className=\"flex flex-wrap gap-3\">\n              {Object.entries(teamStatus).map(([name, { open, overdue }]) => (\n                <button\n                  key={name}\n                  onClick={() => handleEmployeeClick(name)}\n                  className=\"flex items-center gap-2 border rounded-full px-3 py-1.5 bg-muted/50 hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-ring\"\n                >\n                  <span\n                    className={cn(\n                      \"h-3 w-3 rounded-full relative flex items-center justify-center\",\n                      getColor(open, overdue)\n                    )}\n                  >\n                    {overdue > 0 && \n                      <AlertTriangle className=\"h-3 w-3 absolute text-white\" />}\n                  </span>\n                  <span className=\"text-sm font-medium\">{name}</span>\n                  <span className=\"text-sm text-muted-foreground\">({open})</span>\n                </button>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-4\">\n              <p className=\"text-muted-foreground\">No action items found for your team.</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Dialog open={!!selectedEmployee} onOpenChange={(isOpen) => !isOpen && setSelectedEmployee(null)}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Action Items for {selectedEmployee}</DialogTitle>\n            <DialogDescription>\n              A list of all tasks assigned to this team member.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 max-h-[60vh] overflow-y-auto pr-2\">\n            {isLoadingItems ? (\n              <Skeleton className=\"h-40 w-full\" />\n            ) : employeeActionItems.length > 0 ? (\n              <div className=\"space-y-3\">\n                {employeeActionItems.map(item => (\n                  <div key={item.id} className=\"flex items-start gap-3 p-3 rounded-lg border bg-card hover:bg-muted/50\">\n                      <div className=\"mt-1\">\n                        {item.status === 'completed' ? (\n                          <CheckSquare className=\"h-5 w-5 text-green-500\" />\n                        ) : (\n                          <Square className=\"h-5 w-5 text-muted-foreground\" />\n                        )}\n                      </div>\n                      <div className=\"flex-1\">\n                          <p className={cn(\"font-medium text-foreground\", item.status === 'completed' && \"line-through text-muted-foreground\")}>\n                            {item.task}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">From: {item.source}</p>\n                      </div>\n                      {item.dueDate && (\n                          <Badge variant=\"outline\" className=\"flex-shrink-0\">\n                              Due {formatDistanceToNow(new Date(item.dueDate), { addSuffix: true })}\n                          </Badge>\n                      )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-center text-muted-foreground py-8\">No action items for {selectedEmployee}.</p>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2903, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/missed-signal-alerts-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getOneOnOneHistory } from '@/services/feedback-service';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Zap, AlertTriangle } from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\ntype MissedSignal = {\n    id: string;\n    signal: string;\n    employeeName: string;\n    date: string;\n}\n\nexport default function MissedSignalAlertsWidget() {\n  const { role } = useRole();\n  const [signals, setSignals] = useState<MissedSignal[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchSignals = useCallback(async () => {\n    if (!role) return;\n    const userName = roleUserMapping[role]?.name;\n    if (!userName) return;\n    \n    setIsLoading(true);\n    const history = await getOneOnOneHistory();\n    const allSignals: MissedSignal[] = [];\n\n    history.forEach(item => {\n        if (item.supervisorName === userName && item.analysis.missedSignals) {\n            item.analysis.missedSignals.forEach((signal, index) => {\n                // Ensure the signal is not the same as a critical insight summary\n                if (signal !== item.analysis.criticalCoachingInsight?.summary) {\n                    allSignals.push({\n                        id: `${item.id}-${index}`,\n                        signal,\n                        employeeName: item.employeeName,\n                        date: item.date,\n                    });\n                }\n            });\n        }\n    });\n\n    setSignals(allSignals.slice(0, 4)); // Show latest 4\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchSignals();\n    window.addEventListener('feedbackUpdated', fetchSignals);\n    return () => window.removeEventListener('feedbackUpdated', fetchSignals);\n  }, [fetchSignals]);\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Zap className=\"text-yellow-500\" />\n          Missed Signal Alerts\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-32 w-full\" />\n        ) : signals.length > 0 ? (\n          <ScrollArea className=\"h-[200px] pr-4\">\n            <div className=\"space-y-3\">\n              {signals.map(signal => (\n                <div key={signal.id} className=\"flex items-start gap-3 p-3 border rounded-lg bg-yellow-500/10 border-yellow-500/20\">\n                  <AlertTriangle className=\"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0\" />\n                  <div>\n                      <p className=\"text-sm text-yellow-700 dark:text-yellow-300\">\"{signal.signal}\"</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                          With {signal.employeeName} {formatDistanceToNow(new Date(signal.date), { addSuffix: true })}\n                      </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </ScrollArea>\n        ) : (\n          <div className=\"text-center py-4\">\n            <p className=\"text-muted-foreground\">No missed signals detected in recent sessions.</p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAVA;;;;;;;;;;;AAmBe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC/B,IAAI,CAAC,MAAM;QACX,MAAM,WAAW,yIAAA,CAAA,kBAAe,CAAC,KAAK,EAAE;QACxC,IAAI,CAAC,UAAU;QAEf,aAAa;QACb,MAAM,UAAU,MAAM,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD;QACvC,MAAM,aAA6B,EAAE;QAErC,QAAQ,OAAO,CAAC,CAAA;YACZ,IAAI,KAAK,cAAc,KAAK,YAAY,KAAK,QAAQ,CAAC,aAAa,EAAE;gBACjE,KAAK,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ;oBACzC,kEAAkE;oBAClE,IAAI,WAAW,KAAK,QAAQ,CAAC,uBAAuB,EAAE,SAAS;wBAC3D,WAAW,IAAI,CAAC;4BACZ,IAAI,GAAG,KAAK,EAAE,CAAC,CAAC,EAAE,OAAO;4BACzB;4BACA,cAAc,KAAK,YAAY;4BAC/B,MAAM,KAAK,IAAI;wBACnB;oBACJ;gBACJ;YACJ;QACJ;QAEA,WAAW,WAAW,KAAK,CAAC,GAAG,KAAK,gBAAgB;QACpD,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAa;IAEjB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAIvC,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,QAAQ,MAAM,GAAG,kBACnB,8OAAC,sJAAA,CAAA,aAAU;oBAAC,WAAU;8BACpB,cAAA,8OAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAA,uBACX,8OAAC;gCAAoB,WAAU;;kDAC7B,8OAAC,wNAAA,CAAA,gBAAa;wCAAC,WAAU;;;;;;kDACzB,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;;oDAA+C;oDAAE,OAAO,MAAM;oDAAC;;;;;;;0DAC5E,8OAAC;gDAAE,WAAU;;oDAAqC;oDACxC,OAAO,YAAY;oDAAC;oDAAE,CAAA,GAAA,mJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,OAAO,IAAI,GAAG;wDAAE,WAAW;oDAAK;;;;;;;;;;;;;;+BALzF,OAAO,EAAE;;;;;;;;;;;;;;yCAazB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 3096, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/coaching-opportunities-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getOneOnOneHistory, OneOnOneHistoryItem } from '@/services/feedback-service';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { BrainCircuit, MessageSquareQuote } from 'lucide-react';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\ntype CoachingOpportunity = {\n  id: string;\n  area: string;\n  recommendation: string;\n  employeeName: string;\n  date: string;\n}\n\nexport default function CoachingOpportunitiesWidget() {\n  const { role } = useRole();\n  const [opportunities, setOpportunities] = useState<CoachingOpportunity[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchOpportunities = useCallback(async () => {\n    if (!role) return;\n    const userName = roleUserMapping[role]?.name;\n    if (!userName) return;\n\n    setIsLoading(true);\n    const history = await getOneOnOneHistory();\n    const allOpportunities: CoachingOpportunity[] = [];\n\n    history.forEach(item => {\n      if (item.supervisorName === userName) {\n        item.analysis.coachingRecommendations.forEach(rec => {\n          // Only show new, unactioned recommendations\n          if (rec.status === 'pending') {\n            allOpportunities.push({\n              id: rec.id,\n              area: rec.area,\n              recommendation: rec.recommendation,\n              employeeName: item.employeeName,\n              date: item.date,\n            });\n          }\n        });\n      }\n    });\n\n    setOpportunities(allOpportunities.slice(0, 4)); // Show latest 4\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchOpportunities();\n    window.addEventListener('feedbackUpdated', fetchOpportunities);\n    return () => window.removeEventListener('feedbackUpdated', fetchOpportunities);\n  }, [fetchOpportunities]);\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <BrainCircuit className=\"text-purple-500\" />\n          Coaching Opportunities\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-40 w-full\" />\n        ) : opportunities.length > 0 ? (\n          <ScrollArea className=\"h-[200px] pr-4\">\n            <div className=\"space-y-4\">\n              {opportunities.map(opp => (\n                <div key={opp.id} className=\"p-3 border rounded-lg bg-muted/50\">\n                  <p className=\"font-semibold text-primary\">{opp.area}</p>\n                  <p className=\"text-sm text-muted-foreground mt-1\">\"{opp.recommendation}\"</p>\n                  <p className=\"text-xs text-muted-foreground mt-2\">\n                    From session with {opp.employeeName} {formatDistanceToNow(new Date(opp.date), { addSuffix: true })}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </ScrollArea>\n        ) : (\n          <div className=\"text-center py-4\">\n            <p className=\"text-muted-foreground\">No new coaching opportunities found.</p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAoBe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAyB,EAAE;IAC5E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,qBAAqB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACrC,IAAI,CAAC,MAAM;QACX,MAAM,WAAW,yIAAA,CAAA,kBAAe,CAAC,KAAK,EAAE;QACxC,IAAI,CAAC,UAAU;QAEf,aAAa;QACb,MAAM,UAAU,MAAM,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD;QACvC,MAAM,mBAA0C,EAAE;QAElD,QAAQ,OAAO,CAAC,CAAA;YACd,IAAI,KAAK,cAAc,KAAK,UAAU;gBACpC,KAAK,QAAQ,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAA;oBAC5C,4CAA4C;oBAC5C,IAAI,IAAI,MAAM,KAAK,WAAW;wBAC5B,iBAAiB,IAAI,CAAC;4BACpB,IAAI,IAAI,EAAE;4BACV,MAAM,IAAI,IAAI;4BACd,gBAAgB,IAAI,cAAc;4BAClC,cAAc,KAAK,YAAY;4BAC/B,MAAM,KAAK,IAAI;wBACjB;oBACF;gBACF;YACF;QACF;QAEA,iBAAiB,iBAAiB,KAAK,CAAC,GAAG,KAAK,gBAAgB;QAChE,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAmB;IAEvB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sNAAA,CAAA,eAAY;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAIhD,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,cAAc,MAAM,GAAG,kBACzB,8OAAC,sJAAA,CAAA,aAAU;oBAAC,WAAU;8BACpB,cAAA,8OAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAA,oBACjB,8OAAC;gCAAiB,WAAU;;kDAC1B,8OAAC;wCAAE,WAAU;kDAA8B,IAAI,IAAI;;;;;;kDACnD,8OAAC;wCAAE,WAAU;;4CAAqC;4CAAE,IAAI,cAAc;4CAAC;;;;;;;kDACvE,8OAAC;wCAAE,WAAU;;4CAAqC;4CAC7B,IAAI,YAAY;4CAAC;4CAAE,CAAA,GAAA,mJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,IAAI,IAAI,GAAG;gDAAE,WAAW;4CAAK;;;;;;;;+BAJ1F,IAAI,EAAE;;;;;;;;;;;;;;yCAWtB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 3282, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/nets-leaderboard-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getTeamNetsScores, getCompletedPracticeScenariosForUser } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { CustomSwitch } from '@/components/ui/custom-switch';\nimport { Label } from '@/components/ui/label';\nimport { MessagesSquare, User, Users } from 'lucide-react';\nimport { roleUserMapping } from '@/lib/role-mapping';\nimport { cn } from '@/lib/utils';\n\nexport default function NetsLeaderboardWidget() {\n  const { role } = useRole();\n  const [showTeam, setShowTeam] = useState(true);\n  const [teamScores, setTeamScores] = useState<Record<string, { average: number, sessions: number }>>({});\n  const [myScores, setMyScores] = useState<{ average: number, sessions: number }>({ average: 0, sessions: 0 });\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchScores = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n\n    // Fetch team scores\n    const teamData = await getTeamNetsScores(role);\n    setTeamScores(teamData);\n\n    // Fetch personal scores\n    const myCompleted = getCompletedPracticeScenariosForUser(role);\n    if (myCompleted.length > 0) {\n      const total = myCompleted.reduce((sum, s) => sum + (s.analysis?.scores.overall || 0), 0);\n      setMyScores({\n        average: total / myCompleted.length,\n        sessions: myCompleted.length,\n      });\n    } else {\n      setMyScores({ average: 0, sessions: 0 });\n    }\n\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchScores();\n    window.addEventListener('feedbackUpdated', fetchScores);\n    return () => window.removeEventListener('feedbackUpdated', fetchScores);\n  }, [fetchScores]);\n\n  const sortedTeamScores = Object.entries(teamScores).sort(([, a], [, b]) => b.average - a.average);\n\n  const renderContent = () => {\n    if (isLoading) {\n      return <Skeleton className=\"h-48 w-full\" />;\n    }\n\n    if (showTeam) {\n      return sortedTeamScores.length > 0 ? (\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Team Member</TableHead>\n              <TableHead className=\"text-center\">Avg Score</TableHead>\n              <TableHead className=\"text-center\">Sessions</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {sortedTeamScores.map(([name, data]) => (\n              <TableRow key={name}>\n                <TableCell className=\"font-medium py-1\">{name}</TableCell>\n                <TableCell className=\"text-center font-semibold text-primary py-1\">{data.average.toFixed(1)}</TableCell>\n                <TableCell className=\"text-center py-1\">{data.sessions}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      ) : (\n        <p className=\"text-center text-muted-foreground py-4\">No practice data available for your team yet.</p>\n      );\n    }\n\n    return myScores.sessions > 0 ? (\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>Your Stats</TableHead>\n            <TableHead className=\"text-center\">Avg Score</TableHead>\n            <TableHead className=\"text-center\">Sessions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          <TableRow>\n            <TableCell className=\"font-medium py-1\">{roleUserMapping[role!]?.name}</TableCell>\n            <TableCell className=\"text-center font-semibold text-primary py-1\">{myScores.average.toFixed(1)}</TableCell>\n            <TableCell className=\"text-center py-1\">{myScores.sessions}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    ) : (\n      <p className=\"text-center text-muted-foreground py-4\">You haven't completed any practice sessions yet.</p>\n    );\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <div className=\"flex justify-between items-start\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2 text-base\">\n              <MessagesSquare className=\"text-indigo-500\" />\n              Nets Skill Leaderboard\n            </CardTitle>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Label htmlFor=\"view-toggle\" className={cn(!showTeam && \"text-primary font-semibold\")}>\n              <User className=\"h-5 w-5\" />\n            </Label>\n            <CustomSwitch\n              id=\"view-toggle\"\n              checked={showTeam}\n              onCheckedChange={setShowTeam}\n            />\n            <Label htmlFor=\"view-toggle\" className={cn(showTeam && \"text-primary font-semibold\")}>\n              <Users className=\"h-5 w-5\" />\n            </Label>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {renderContent()}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3655, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/team-growth-highlights-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getTeamGrowthHighlights } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { TrendingUp, User, Award } from 'lucide-react';\n\nexport default function TeamGrowthHighlightsWidget() {\n  const { role } = useRole();\n  const [highlights, setHighlights] = useState<{ employeeName: string; growth: number }[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchHighlights = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getTeamGrowthHighlights(role);\n    setHighlights(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchHighlights();\n    window.addEventListener('feedbackUpdated', fetchHighlights);\n    return () => window.removeEventListener('feedbackUpdated', fetchHighlights);\n  }, [fetchHighlights]);\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <TrendingUp className=\"text-green-500\" />\n          Team Growth Highlights\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-36 w-full\" />\n        ) : highlights.length > 0 ? (\n          <div className=\"space-y-4\">\n            {highlights.map((item, index) => (\n              <div key={item.employeeName} className=\"flex items-center gap-4 p-3 border rounded-lg bg-muted/50\">\n                {index === 0 ? <Award className=\"h-6 w-6 text-yellow-400\" /> : <User className=\"h-6 w-6 text-muted-foreground\" />}\n                <div className=\"flex-1\">\n                  <p className=\"font-semibold\">{item.employeeName}</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-bold text-green-500\">+{item.growth.toFixed(1)}</p>\n                  <p className=\"text-xs text-muted-foreground\">score increase</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-4\">\n            <p className=\"text-muted-foreground\">No growth highlights to show.</p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA8C,EAAE;IAC3F,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAClC,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,0BAAuB,AAAD,EAAE;QAC3C,cAAc;QACd,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAgB;IAEpB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,kNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;wBAAmB;;;;;;;;;;;;0BAI7C,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,WAAW,MAAM,GAAG,kBACtB,8OAAC;oBAAI,WAAU;8BACZ,WAAW,GAAG,CAAC,CAAC,MAAM,sBACrB,8OAAC;4BAA4B,WAAU;;gCACpC,UAAU,kBAAI,8OAAC,oMAAA,CAAA,QAAK;oCAAC,WAAU;;;;;yDAA+B,8OAAC,kMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;8CAC/E,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDAAiB,KAAK,YAAY;;;;;;;;;;;8CAEjD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;;gDAA2B;gDAAE,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;sDAC9D,8OAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;2BAPvC,KAAK,YAAY;;;;;;;;;yCAa/B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 3832, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/lead-dashboard.tsx"],"sourcesContent":["\nimport DevelopmentPlanWidget from \"./development-plan-widget\";\nimport QualityScoreTrendWidget from \"./quality-score-trend-widget\";\nimport ActionItemHeatmapWidget from \"./action-item-heatmap-widget\";\nimport MissedSignalAlertsWidget from \"./missed-signal-alerts-widget\";\nimport CoachingOpportunitiesWidget from \"./coaching-opportunities-widget\";\nimport NetsLeaderboardWidget from \"./nets-leaderboard-widget\";\nimport TeamGrowthHighlightsWidget from \"./team-growth-highlights-widget\";\n\nexport default function LeadDashboard() {\n  return (\n    <div className=\"space-y-6\">\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n        <div className=\"lg:col-span-2 space-y-4\">\n          <QualityScoreTrendWidget />\n           <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <ActionItemHeatmapWidget />\n            <TeamGrowthHighlightsWidget />\n          </div>\n           <NetsLeaderboardWidget />\n        </div>\n        <div className=\"space-y-4\">\n          <MissedSignalAlertsWidget />\n          <CoachingOpportunitiesWidget />\n        </div>\n      </div>\n      \n      <DevelopmentPlanWidget />\n\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mLAAA,CAAA,UAAuB;;;;;0CACvB,8OAAC;gCAAI,WAAU;;kDACd,8OAAC,mLAAA,CAAA,UAAuB;;;;;kDACxB,8OAAC,sLAAA,CAAA,UAA0B;;;;;;;;;;;0CAE5B,8OAAC,6KAAA,CAAA,UAAqB;;;;;;;;;;;kCAEzB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oLAAA,CAAA,UAAwB;;;;;0CACzB,8OAAC,mLAAA,CAAA,UAA2B;;;;;;;;;;;;;;;;;0BAIhC,8OAAC,6KAAA,CAAA,UAAqB;;;;;;;;;;;AAI5B","debugId":null}},
    {"offset": {"line": 3939, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/ai-insight-feed-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getOneOnOneHistory } from '@/services/feedback-service';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Bot, MessageSquareQuote } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Carousel, CarouselApi, CarouselContent, CarouselItem } from '@/components/ui/carousel';\nimport Autoplay from \"embla-carousel-autoplay\";\nimport { cn } from '@/lib/utils';\n\n\nexport default function AiInsightFeedWidget() {\n  const { role } = useRole();\n  const [insights, setInsights] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [api, setApi] = useState<CarouselApi>();\n  const [current, setCurrent] = useState(0);\n\n  const plugin = useRef(\n    Autoplay({ delay: 5000, stopOnInteraction: true })\n  );\n\n  useEffect(() => {\n    if (!api) {\n      return\n    }\n \n    setCurrent(api.selectedScrollSnap())\n \n    const onSelect = (api: CarouselApi) => {\n      setCurrent(api.selectedScrollSnap())\n    }\n\n    api.on(\"select\", onSelect)\n \n    return () => {\n      api.off(\"select\", onSelect)\n    }\n  }, [api]);\n\n  const fetchInsights = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const history = await getOneOnOneHistory();\n    const allInsights = history\n      .filter(item => item.employeeName === 'Casey Day' || item.supervisorName === 'Casey Day') // Assuming 'Casey Day' is the employee\n      .flatMap(item => item.analysis.employeeInsights || [])\n      .slice(0, 5); // Get the last 5 insights\n    setInsights(allInsights);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchInsights();\n    window.addEventListener('feedbackUpdated', fetchInsights);\n    return () => window.removeEventListener('feedbackUpdated', fetchInsights);\n  }, [fetchInsights]);\n\n  const handleDotClick = useCallback((index: number) => {\n    api?.scrollTo(index);\n  }, [api]);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-40 w-full\" />;\n  }\n\n  if (insights.length === 0) {\n    return (\n        <Card className=\"h-full\">\n         <CardHeader className=\"p-2\">\n            <CardTitle className=\"flex items-center gap-2 text-base\">\n                <Bot className=\"h-5 w-5 text-primary\" />\n                Your Insights\n            </CardTitle>\n        </CardHeader>\n        <CardContent className=\"flex items-center justify-center h-full pb-16\">\n            <p className=\"text-sm text-muted-foreground\">No insights yet.</p>\n        </CardContent>\n    </Card>\n    )\n  }\n\n  return (\n    <Card className=\"h-full flex flex-col\">\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n            <Bot className=\"h-5 w-5 text-primary\" />\n            Your Insights\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"flex-1 flex flex-col items-center justify-center\">\n        <Carousel\n          setApi={setApi}\n          plugins={[plugin.current]}\n          opts={{\n            align: \"start\",\n            loop: true,\n          }}\n          className=\"w-full max-w-xs\"\n          onMouseEnter={plugin.current.stop}\n          onMouseLeave={plugin.current.reset}\n        >\n          <CarouselContent>\n            {insights.map((insight, index) => (\n              <CarouselItem key={index}>\n                <div className=\"p-1 text-center\">\n                    <p className=\"text-sm font-medium leading-relaxed italic text-foreground\">\n                      <MessageSquareQuote className=\"inline-block h-4 w-4 mr-2 text-primary/70\" />\n                      {insight}\n                    </p>\n                </div>\n              </CarouselItem>\n            ))}\n          </CarouselContent>\n        </Carousel>\n        <div className=\"flex gap-2 mt-4\">\n          {insights.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => handleDotClick(index)}\n              className={cn(\n                \"h-2 w-2 rounded-full transition-colors\",\n                current === index ? \"bg-primary\" : \"bg-muted-foreground/30\"\n              )}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4189, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/next-steps-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getAggregatedActionItems, ActionItemWithSource } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { ListTodo, Calendar, Briefcase, BrainCircuit } from 'lucide-react';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport { Badge } from '@/components/ui/badge';\n\nconst getSourceIcon = (source: ActionItemWithSource['sourceType']) => {\n    switch (source) {\n        case '1-on-1': return <Calendar className=\"h-4 w-4 text-green-500\" />;\n        case 'Coaching': return <BrainCircuit className=\"h-4 w-4 text-purple-500\" />;\n        case 'Training': return <Briefcase className=\"h-4 w-4 text-blue-500\" />;\n        default: return <ListTodo className=\"h-4 w-4\" />;\n    }\n}\n\nexport default function NextStepsWidget() {\n  const { role } = useRole();\n  const [actionItems, setActionItems] = useState<ActionItemWithSource[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchActionItems = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const items = await getAggregatedActionItems(role);\n    setActionItems(items);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchActionItems();\n    window.addEventListener('feedbackUpdated', fetchActionItems);\n    return () => {\n        window.removeEventListener('feedbackUpdated', fetchActionItems);\n    }\n  }, [fetchActionItems]);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-64 w-full\" />;\n  }\n\n  if (actionItems.length === 0) {\n    return null; // Don't show if there are no items\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <ListTodo className=\"text-primary\" />\n          Next Steps & Deadlines\n        </CardTitle>\n        <CardDescription>\n          Your upcoming action items from all areas of the platform.\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n            {actionItems.map(item => (\n                <div key={item.id} className=\"flex items-start gap-4 p-3 rounded-lg border bg-card hover:bg-muted/50\">\n                    <div className=\"mt-1\">{getSourceIcon(item.sourceType)}</div>\n                    <div className=\"flex-1\">\n                        <p className=\"font-medium text-foreground\">{item.task}</p>\n                        <p className=\"text-xs text-muted-foreground\">From: {item.source}</p>\n                    </div>\n                    {item.dueDate && (\n                        <Badge variant=\"outline\" className=\"flex-shrink-0\">\n                            Due {formatDistanceToNow(new Date(item.dueDate), { addSuffix: true })}\n                        </Badge>\n                    )}\n                </div>\n            ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AATA;;;;;;;;;;AAWA,MAAM,gBAAgB,CAAC;IACnB,OAAQ;QACJ,KAAK;YAAU,qBAAO,8OAAC,0MAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;QAC1C,KAAK;YAAY,qBAAO,8OAAC,sNAAA,CAAA,eAAY;gBAAC,WAAU;;;;;;QAChD,KAAK;YAAY,qBAAO,8OAAC,4MAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;QAC7C;YAAS,qBAAO,8OAAC,8MAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;IACxC;AACJ;AAEe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B,EAAE;IACzE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACnC,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,QAAQ,MAAM,CAAA,GAAA,kJAAA,CAAA,2BAAwB,AAAD,EAAE;QAC7C,eAAe;QACf,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO;YACH,OAAO,mBAAmB,CAAC,mBAAmB;QAClD;IACF,GAAG;QAAC;KAAiB;IAErB,IAAI,WAAW;QACb,qBAAO,8OAAC,gJAAA,CAAA,WAAQ;YAAC,WAAU;;;;;;IAC7B;IAEA,IAAI,YAAY,MAAM,KAAK,GAAG;QAC5B,OAAO,MAAM,mCAAmC;IAClD;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC,4IAAA,CAAA,YAAS;wBAAC,WAAU;;0CACnB,8OAAC,8MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAGvC,8OAAC,4IAAA,CAAA,kBAAe;kCAAC;;;;;;;;;;;;0BAInB,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;8BACV,YAAY,GAAG,CAAC,CAAA,qBACb,8OAAC;4BAAkB,WAAU;;8CACzB,8OAAC;oCAAI,WAAU;8CAAQ,cAAc,KAAK,UAAU;;;;;;8CACpD,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAE,WAAU;sDAA+B,KAAK,IAAI;;;;;;sDACrD,8OAAC;4CAAE,WAAU;;gDAAgC;gDAAO,KAAK,MAAM;;;;;;;;;;;;;gCAElE,KAAK,OAAO,kBACT,8OAAC,6IAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAU,WAAU;;wCAAgB;wCAC1C,CAAA,GAAA,mJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,KAAK,OAAO,GAAG;4CAAE,WAAW;wCAAK;;;;;;;;2BARrE,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAiBjC","debugId":null}},
    {"offset": {"line": 4404, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/nets-scoreboard-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getCompletedPracticeScenariosForUser, AssignedPracticeScenario } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Button } from '@/components/ui/button';\nimport { TrendingUp, TrendingDown, Minus, MessagesSquare } from 'lucide-react';\nimport Link from 'next/link';\nimport { cn } from '@/lib/utils';\n\nfunction ScoreRow({ label, score, previousScore }: { label: string; score: number; previousScore?: number }) {\n  const diff = previousScore !== undefined ? score - previousScore : 0;\n  const Icon = diff > 0 ? TrendingUp : diff < 0 ? TrendingDown : Minus;\n  const color = diff > 0 ? 'text-green-500' : diff < 0 ? 'text-red-500' : 'text-muted-foreground';\n\n  return (\n    <div className=\"flex items-center justify-between py-0.5\">\n      <p className=\"text-sm font-medium text-muted-foreground\">{label}</p>\n      <div className=\"flex items-center gap-4\">\n        <p className=\"text-lg font-bold\">{score.toFixed(1)}</p>\n        {previousScore !== undefined && (\n          <div className={cn('flex items-center text-xs font-semibold', color)}>\n            <Icon className=\"h-3 w-3 mr-0.5\" />\n            <span>{diff.toFixed(1)}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function NetsScoreboardWidget() {\n  const { role } = useRole();\n  const [scenarios, setScenarios] = useState<AssignedPracticeScenario[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchScenarios = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const completedScenarios = getCompletedPracticeScenariosForUser(role).slice(0, 3);\n    setScenarios(completedScenarios);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchScenarios();\n    window.addEventListener('feedbackUpdated', fetchScenarios);\n    return () => window.removeEventListener('feedbackUpdated', fetchScenarios);\n  }, [fetchScenarios]);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-56 w-full\" />;\n  }\n\n  if (scenarios.length === 0) {\n    return null; // Don't show if no practice has been done\n  }\n  \n  const latest = scenarios[0]?.analysis?.scores;\n  const previous = scenarios[1]?.analysis?.scores;\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <MessagesSquare className=\"text-indigo-500\" />\n          Nets Scoreboard\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"pt-0\">\n        {latest ? (\n          <div className=\"space-y-1\">\n            <ScoreRow label=\"Clarity\" score={latest.clarity} previousScore={previous?.clarity} />\n            <ScoreRow label=\"Empathy\" score={latest.empathy} previousScore={previous?.empathy} />\n            <ScoreRow label=\"Assertiveness\" score={latest.assertiveness} previousScore={previous?.assertiveness} />\n          </div>\n        ) : (\n            <p className=\"text-sm text-muted-foreground text-center\">Complete a practice session to see your scores.</p>\n        )}\n      </CardContent>\n      <CardFooter>\n          <Button variant=\"outline\" size=\"sm\" asChild className=\"w-full\">\n              <Link href=\"/nets/scorecard\">View Full Scorecard</Link>\n          </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4640, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/team-pulse-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getTeamPulse } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { HeartPulse } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport default function TeamPulseWidget() {\n  const { role } = useRole();\n  const [pulse, setPulse] = useState<number | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchPulse = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const averageScore = await getTeamPulse(); // The service function is simplified for the employee view\n    setPulse(averageScore);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchPulse();\n  }, [fetchPulse]);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-24 w-full\" />;\n  }\n  \n  if (pulse === null) {\n      return null;\n  }\n\n  const getPulseColor = (score: number) => {\n    if (score > 4) return 'text-green-500';\n    if (score > 3) return 'text-yellow-500';\n    return 'text-red-500';\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <HeartPulse className=\"h-5 w-5 text-red-500\" />\n          Team Pulse\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"flex flex-col items-center justify-center\">\n        <p className={cn(\"text-4xl font-bold\", getPulseColor(pulse))}>\n          {pulse.toFixed(1)}\n        </p>\n        <p className=\"text-sm text-muted-foreground\">/ 5.0</p>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC7B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,eAAe,MAAM,CAAA,GAAA,kJAAA,CAAA,eAAY,AAAD,KAAK,2DAA2D;QACtG,SAAS;QACT,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC;KAAW;IAEf,IAAI,WAAW;QACb,qBAAO,8OAAC,gJAAA,CAAA,WAAQ;YAAC,WAAU;;;;;;IAC7B;IAEA,IAAI,UAAU,MAAM;QAChB,OAAO;IACX;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,QAAQ,GAAG,OAAO;QACtB,IAAI,QAAQ,GAAG,OAAO;QACtB,OAAO;IACT;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,kNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;wBAAyB;;;;;;;;;;;;0BAInD,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAE,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB,cAAc;kCAClD,MAAM,OAAO,CAAC;;;;;;kCAEjB,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AAIrD","debugId":null}},
    {"offset": {"line": 4759, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/coaching-tip-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Lightbulb } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function CoachingTipWidget() {\n  const { role } = useRole();\n  const { toast } = useToast();\n  const [tip, setTip] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchTip = async () => {\n      if (!role) return;\n      \n      const today = new Date().toDateString();\n      const storedData = sessionStorage.getItem('daily_coaching_tip');\n      if (storedData) {\n          const { date, tip } = JSON.parse(storedData);\n          if (date === today) {\n              setTip(tip);\n              setIsLoading(false);\n              return;\n          }\n      }\n\n      setIsLoading(true);\n      try {\n        const response = await fetch('/api/ai/get-daily-coaching-tip', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ role }),\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to get daily coaching tip');\n        }\n\n        const result = await response.json();\n        setTip(result.tip);\n        sessionStorage.setItem('daily_coaching_tip', JSON.stringify({ date: today, tip: result.tip }));\n      } catch (error) {\n        console.error(\"Failed to fetch coaching tip:\", error);\n        // Don't show toast, just fail gracefully\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchTip();\n  }, [role]);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-28 w-full\" />;\n  }\n\n  if (!tip) {\n    return null;\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base text-primary\">\n          <Lightbulb className=\"h-5 w-5\" />\n          Coaching Tip\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-sm italic text-muted-foreground\">\n          \"{tip}\"\n        </p>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW;YACf,IAAI,CAAC,MAAM;YAEX,MAAM,QAAQ,IAAI,OAAO,YAAY;YACrC,MAAM,aAAa,eAAe,OAAO,CAAC;YAC1C,IAAI,YAAY;gBACZ,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,KAAK,KAAK,CAAC;gBACjC,IAAI,SAAS,OAAO;oBAChB,OAAO;oBACP,aAAa;oBACb;gBACJ;YACJ;YAEA,aAAa;YACb,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,kCAAkC;oBAC7D,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;wBAAE;oBAAK;gBAC9B;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBACd,MAAM,IAAI,MAAM;gBACpB;gBAEA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,OAAO,OAAO,GAAG;gBACjB,eAAe,OAAO,CAAC,sBAAsB,KAAK,SAAS,CAAC;oBAAE,MAAM;oBAAO,KAAK,OAAO,GAAG;gBAAC;YAC7F,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,yCAAyC;YAC3C,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;KAAK;IAET,IAAI,WAAW;QACb,qBAAO,8OAAC,gJAAA,CAAA,WAAQ;YAAC,WAAU;;;;;;IAC7B;IAEA,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,4MAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;0BAIrC,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAE,WAAU;;wBAAuC;wBAChD;wBAAI;;;;;;;;;;;;;;;;;;AAKhB","debugId":null}},
    {"offset": {"line": 4895, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/my-goals-widget.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Target } from 'lucide-react';\n\n// Mock data representing goals assigned to the 'Employee' role.\n// In a real application, this would be fetched based on the user's role.\nconst myGoalsData = [\n    { kpi: 'Project Delivery Rate', weightage: '50%' },\n    { kpi: 'Code Quality Score', weightage: '30%' },\n    { kpi: 'Team Collab Rating', weightage: '20%' },\n];\n\nexport default function MyGoalsWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Target className=\"text-primary\" />\n          Goals\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"pb-0\">\n        <Table>\n            <TableHeader>\n                <TableRow>\n                    <TableHead className=\"h-auto text-center\">KPI</TableHead>\n                    <TableHead className=\"text-center w-[100px] h-auto\">Weightage</TableHead>\n                </TableRow>\n            </TableHeader>\n            <TableBody>\n                {myGoalsData.map((goal, index) => (\n                    <TableRow key={index}>\n                        <TableCell className=\"font-medium py-2\">{goal.kpi}</TableCell>\n                        <TableCell className=\"text-center font-semibold text-primary py-2\">{goal.weightage}</TableCell>\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n      </CardContent>\n    </Card>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAJA;;;;;AAMA,gEAAgE;AAChE,yEAAyE;AACzE,MAAM,cAAc;IAChB;QAAE,KAAK;QAAyB,WAAW;IAAM;IACjD;QAAE,KAAK;QAAsB,WAAW;IAAM;IAC9C;QAAE,KAAK;QAAsB,WAAW;IAAM;CACjD;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIvC,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC,6IAAA,CAAA,QAAK;;sCACF,8OAAC,6IAAA,CAAA,cAAW;sCACR,cAAA,8OAAC,6IAAA,CAAA,WAAQ;;kDACL,8OAAC,6IAAA,CAAA,YAAS;wCAAC,WAAU;kDAAqB;;;;;;kDAC1C,8OAAC,6IAAA,CAAA,YAAS;wCAAC,WAAU;kDAA+B;;;;;;;;;;;;;;;;;sCAG5D,8OAAC,6IAAA,CAAA,YAAS;sCACL,YAAY,GAAG,CAAC,CAAC,MAAM,sBACpB,8OAAC,6IAAA,CAAA,WAAQ;;sDACL,8OAAC,6IAAA,CAAA,YAAS;4CAAC,WAAU;sDAAoB,KAAK,GAAG;;;;;;sDACjD,8OAAC,6IAAA,CAAA,YAAS;4CAAC,WAAU;sDAA+C,KAAK,SAAS;;;;;;;mCAFvE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnC","debugId":null}},
    {"offset": {"line": 5038, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/compare-performance-sheet.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n  SheetFooter\n} from \"@/components/ui/sheet\"\nimport { Button } from \"@/components/ui/button\"\nimport { Rocket, X, Check, ChevronsUpDown, Bot, BarChart, Send, Loader2 } from \"lucide-react\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { cn } from \"@/lib/utils\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { useRole } from \"@/hooks/use-role\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport type { PerformanceChatInput, ChatMessage } from \"@/types/ai\"\n\nconst mockPeerData = [\n  { value: \"alexa_ray\", label: \"Alexa Ray\" },\n  { value: \"ben_p\", label: \"Ben Parker\" },\n  { value: \"cody_f\", label: \"Cody Fisher\" },\n  { value: \"drew_h\", label: \"Drew Harris\" },\n  { value: \"eva_g\", label: \"Eva Green\" },\n];\n\nconst mockPerformanceData: Record<string, Record<string, { value: number; trend: 'up' | 'down' | 'stable' }>> = {\n  \"You\": {\n    \"Project Delivery Rate\": { value: 92, trend: \"up\" },\n    \"Code Quality Score\": { value: 85, trend: \"stable\" },\n    \"Team Collab Rating\": { value: 8.8, trend: \"up\" },\n  },\n  \"alexa_ray\": {\n    \"Project Delivery Rate\": { value: 88, trend: \"stable\" },\n    \"Code Quality Score\": { value: 91, trend: \"up\" },\n    \"Team Collab Rating\": { value: 8.5, trend: \"down\" },\n  },\n  \"ben_p\": {\n    \"Project Delivery Rate\": { value: 95, trend: \"up\" },\n    \"Code Quality Score\": { value: 82, trend: \"down\" },\n    \"Team Collab Rating\": { value: 9.1, trend: \"up\" },\n  },\n  \"cody_f\": {\n    \"Project Delivery Rate\": { value: 85, trend: \"down\" },\n    \"Code Quality Score\": { value: 88, trend: \"stable\" },\n    \"Team Collab Rating\": { value: 8.2, trend: \"stable\" },\n  },\n  \"drew_h\": {\n    \"Project Delivery Rate\": { value: 91, trend: \"up\" },\n    \"Code Quality Score\": { value: 93, trend: \"up\" },\n    \"Team Collab Rating\": { value: 8.9, trend: \"up\" },\n  },\n   \"eva_g\": {\n    \"Project Delivery Rate\": { value: 89, trend: \"stable\" },\n    \"Code Quality Score\": { value: 85, trend: \"stable\" },\n    \"Team Collab Rating\": { value: 8.6, trend: \"down\" },\n  },\n};\n\nconst aiInsight = \"Youre performing above 70% of your peers in goal completion, showing strong consistency. Your project delivery score is solid, placing you in the top half of your peer group. There's an opportunity to focus on proactive communication to potentially boost your feedback score.\"\n\nexport function ComparePerformanceSheet() {\n  const [open, setOpen] = React.useState(false)\n  const [selectedPeers, setSelectedPeers] = React.useState<string[]>([])\n  const { role } = useRole()\n  const { toast } = useToast()\n  const [isPending, startTransition] = React.useTransition()\n\n  // Chat state\n  const [chatHistory, setChatHistory] = React.useState<ChatMessage[]>([]);\n  const [chatInput, setChatInput] = React.useState(\"\");\n\n  const handleSelect = (peerValue: string) => {\n    setSelectedPeers(prev =>\n      prev.includes(peerValue)\n        ? prev.filter(p => p !== peerValue)\n        : [...prev, peerValue]\n    )\n  }\n\n  const comparisonData = [\"You\", ...selectedPeers].map(peerValue => ({\n    name: peerValue === \"You\" ? \"You\" : mockPeerData.find(p => p.value === peerValue)?.label || \"Unknown\",\n    metrics: mockPerformanceData[peerValue === \"You\" ? \"You\" : peerValue] || {}\n  }))\n\n  const handleSendMessage = () => {\n    if (!chatInput.trim()) return;\n\n    const newUserMessage: ChatMessage = { role: 'user', content: chatInput };\n    setChatHistory(prev => [...prev, newUserMessage]);\n    setChatInput(\"\");\n\n    startTransition(async () => {\n        try {\n            const performanceContext = comparisonData.map(p => ({\n                name: p.name,\n                metrics: p.metrics\n            }));\n\n            const input: PerformanceChatInput = {\n                userQuestion: chatInput,\n                performanceContext,\n                chatHistory,\n            };\n            const response = await fetch('/api/ai/performance-chat', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(input),\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to get response from AI coach.');\n            }\n\n            const result = await response.json();\n            setChatHistory(prev => [...prev, { role: 'model', content: result.answer }]);\n        } catch (e) {\n            console.error(\"Chat failed\", e);\n            toast({\n                variant: 'destructive',\n                title: \"Chat Error\",\n                description: \"The AI coach could not respond. Please try again.\"\n            });\n            // Remove the user's message if the AI fails\n            setChatHistory(prev => prev.slice(0, -1));\n        }\n    });\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={(isOpen) => {\n      setOpen(isOpen);\n      if (!isOpen) {\n        // Reset state on close\n        setSelectedPeers([]);\n        setChatHistory([]);\n      }\n    }}>\n      <SheetTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\">\n          Compare\n        </Button>\n      </SheetTrigger>\n      <SheetContent className=\"w-full sm:max-w-3xl overflow-y-auto\">\n        <SheetHeader>\n          <SheetTitle className=\"text-2xl\">Compare Your Performance</SheetTitle>\n          <SheetDescription>\n            Select peers from your department to see a side-by-side comparison. This is private and for your development only.\n          </SheetDescription>\n        </SheetHeader>\n        <div className=\"py-6\">\n            <Popover>\n              <PopoverTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"w-full justify-start\"\n                >\n                  <ChevronsUpDown className=\"mr-2 h-4 w-4\" />\n                  {selectedPeers.length > 0\n                    ? `Comparing with ${selectedPeers.length} peer(s)`\n                    : \"Select peers to compare...\"}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-[300px] p-0\" align=\"start\">\n                <Command>\n                    <CommandInput placeholder=\"Search peers...\" />\n                    <CommandList>\n                        <CommandEmpty>No results found.</CommandEmpty>\n                        <CommandGroup>\n                        {mockPeerData.map((peer) => {\n                            const isSelected = selectedPeers.includes(peer.value)\n                            return (\n                            <CommandItem\n                                key={peer.value}\n                                onSelect={() => handleSelect(peer.value)}\n                            >\n                                <div\n                                className={cn(\n                                    \"mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary\",\n                                    isSelected\n                                    ? \"bg-primary text-primary-foreground\"\n                                    : \"opacity-50 [&_svg]:invisible\"\n                                )}\n                                >\n                                <Check className={cn(\"h-4 w-4\")} />\n                                </div>\n                                <span>{peer.label}</span>\n                            </CommandItem>\n                            )\n                        })}\n                        </CommandGroup>\n                    </CommandList>\n                </Command>\n              </PopoverContent>\n            </Popover>\n        </div>\n        \n        {selectedPeers.length > 0 && (\n          <div className=\"space-y-8\">\n            <div className=\"grid gap-4\" style={{ gridTemplateColumns: `repeat(${comparisonData.length}, minmax(0, 1fr))` }}>\n              {comparisonData.map((data, idx) => (\n                <div key={idx} className={cn(\"text-center font-semibold\", data.name === \"You\" && \"text-primary\")}>\n                  {data.name}\n                </div>\n              ))}\n            </div>\n\n            {Object.keys(mockPerformanceData[\"You\"]).map((metricName) => (\n                <div key={metricName}>\n                    <h4 className=\"font-semibold text-muted-foreground mb-3\">{metricName}</h4>\n                    <div className=\"grid gap-4\" style={{ gridTemplateColumns: `repeat(${comparisonData.length}, minmax(0, 1fr))` }}>\n                        {comparisonData.map((data, idx) => {\n                            const metric = data.metrics[metricName];\n                            if (!metric) return <div key={idx}></div>;\n                            \n                            const yourMetric = comparisonData[0].metrics[metricName];\n                            const isHigher = data.name !== \"You\" && yourMetric.value > metric.value;\n                            const isLower = data.name !== \"You\" && yourMetric.value < metric.value;\n\n                            return (\n                                <div key={idx} className=\"flex flex-col items-center text-center space-y-2\">\n                                     <p className=\"text-xl font-bold\">{metric.value}{metricName === \"Project Delivery Rate\" ? \"%\" : \"\"}</p>\n                                     <Progress \n                                        value={metricName === \"Team Collab Rating\" ? metric.value * 10 : metric.value} \n                                        className=\"h-2\"\n                                        indicatorClassName={cn(\n                                            data.name === \"You\" ? \"bg-primary\" : \"bg-muted-foreground/30\",\n                                            isHigher && \"bg-green-500\",\n                                            isLower && \"bg-red-500\",\n                                        )}\n                                    />\n                                </div>\n                            )\n                        })}\n                    </div>\n                </div>\n            ))}\n\n            <div className=\"pt-6\">\n                <div className=\"p-4 rounded-lg bg-primary/10 border border-primary/20\">\n                    <h4 className=\"font-semibold text-primary mb-2 flex items-center gap-2\"><Bot /> AI Summary</h4>\n                    <p className=\"text-sm text-primary/90 italic\">\"{aiInsight}\"</p>\n                </div>\n            </div>\n\n            <div className=\"pt-6\">\n                <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                    <Bot className=\"text-primary\" /> Performance Coach\n                </h3>\n                 <div className=\"border rounded-lg p-4 space-y-4\">\n                    <ScrollArea className=\"h-48 pr-3\">\n                        <div className=\"space-y-4\">\n                            {chatHistory.map((msg, index) => (\n                                <div key={index} className={cn(\"flex items-start gap-2\", msg.role === 'user' ? 'justify-end' : '')}>\n                                    {msg.role === 'model' && <Bot className=\"h-5 w-5 text-primary flex-shrink-0\" />}\n                                    <div className={cn(\"max-w-md rounded-lg px-3 py-2 text-sm\", msg.role === 'user' ? \"bg-primary text-primary-foreground\" : \"bg-muted\")}>\n                                        {msg.content}\n                                    </div>\n                                </div>\n                            ))}\n                            {isPending && (\n                                <div className=\"flex items-start gap-2\">\n                                    <Bot className=\"h-5 w-5 text-primary flex-shrink-0\" />\n                                    <div className=\"bg-muted rounded-lg px-3 py-2\">\n                                        <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </ScrollArea>\n                    <div className=\"flex items-center gap-2 pt-2 border-t\">\n                        <Textarea\n                            placeholder=\"Ask for advice, e.g., 'How can I improve my project delivery score?'\"\n                            value={chatInput}\n                            onChange={(e) => setChatInput(e.target.value)}\n                            onKeyDown={(e) => e.key === 'Enter' && !e.shiftKey && handleSendMessage()}\n                            className=\"flex-1\"\n                            rows={1}\n                            disabled={isPending}\n                        />\n                        <Button onClick={handleSendMessage} disabled={isPending || !chatInput.trim()}>\n                            <Send className=\"h-4 w-4\" />\n                        </Button>\n                    </div>\n                </div>\n            </div>\n\n          </div>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAMA;AACA;AACA;AACA;AACA;AACA;AAjCA;;;;;;;;;;;;;;AAoCA,MAAM,eAAe;IACnB;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAS,OAAO;IAAa;IACtC;QAAE,OAAO;QAAU,OAAO;IAAc;IACxC;QAAE,OAAO;QAAU,OAAO;IAAc;IACxC;QAAE,OAAO;QAAS,OAAO;IAAY;CACtC;AAED,MAAM,sBAA0G;IAC9G,OAAO;QACL,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAK;QAClD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAS;QACnD,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAK;IAClD;IACA,aAAa;QACX,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAS;QACtD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAK;QAC/C,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAO;IACpD;IACA,SAAS;QACP,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAK;QAClD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAO;QACjD,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAK;IAClD;IACA,UAAU;QACR,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAO;QACpD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAS;QACnD,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAS;IACtD;IACA,UAAU;QACR,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAK;QAClD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAK;QAC/C,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAK;IAClD;IACC,SAAS;QACR,yBAAyB;YAAE,OAAO;YAAI,OAAO;QAAS;QACtD,sBAAsB;YAAE,OAAO;YAAI,OAAO;QAAS;QACnD,sBAAsB;YAAE,OAAO;YAAK,OAAO;QAAO;IACpD;AACF;AAEA,MAAM,YAAY;AAEX,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAE;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAY,EAAE;IACrE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,WAAW,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAmB,AAAD;IAEvD,aAAa;IACb,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAiB,EAAE;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAE;IAEjD,MAAM,eAAe,CAAC;QACpB,iBAAiB,CAAA,OACf,KAAK,QAAQ,CAAC,aACV,KAAK,MAAM,CAAC,CAAA,IAAK,MAAM,aACvB;mBAAI;gBAAM;aAAU;IAE5B;IAEA,MAAM,iBAAiB;QAAC;WAAU;KAAc,CAAC,GAAG,CAAC,CAAA,YAAa,CAAC;YACjE,MAAM,cAAc,QAAQ,QAAQ,aAAa,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,YAAY,SAAS;YAC5F,SAAS,mBAAmB,CAAC,cAAc,QAAQ,QAAQ,UAAU,IAAI,CAAC;QAC5E,CAAC;IAED,MAAM,oBAAoB;QACxB,IAAI,CAAC,UAAU,IAAI,IAAI;QAEvB,MAAM,iBAA8B;YAAE,MAAM;YAAQ,SAAS;QAAU;QACvE,eAAe,CAAA,OAAQ;mBAAI;gBAAM;aAAe;QAChD,aAAa;QAEb,gBAAgB;YACZ,IAAI;gBACA,MAAM,qBAAqB,eAAe,GAAG,CAAC,CAAA,IAAK,CAAC;wBAChD,MAAM,EAAE,IAAI;wBACZ,SAAS,EAAE,OAAO;oBACtB,CAAC;gBAED,MAAM,QAA8B;oBAChC,cAAc;oBACd;oBACA;gBACJ;gBACA,MAAM,WAAW,MAAM,MAAM,4BAA4B;oBACrD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACzB;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBACd,MAAM,IAAI,MAAM;gBACpB;gBAEA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,eAAe,CAAA,OAAQ;2BAAI;wBAAM;4BAAE,MAAM;4BAAS,SAAS,OAAO,MAAM;wBAAC;qBAAE;YAC/E,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,eAAe;gBAC7B,MAAM;oBACF,SAAS;oBACT,OAAO;oBACP,aAAa;gBACjB;gBACA,4CAA4C;gBAC5C,eAAe,CAAA,OAAQ,KAAK,KAAK,CAAC,GAAG,CAAC;YAC1C;QACJ;IACF;IAEA,qBACE,8OAAC,6IAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc,CAAC;YAChC,QAAQ;YACR,IAAI,CAAC,QAAQ;gBACX,uBAAuB;gBACvB,iBAAiB,EAAE;gBACnB,eAAe,EAAE;YACnB;QACF;;0BACE,8OAAC,6IAAA,CAAA,eAAY;gBAAC,OAAO;0BACnB,cAAA,8OAAC,8IAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAU,MAAK;8BAAK;;;;;;;;;;;0BAItC,8OAAC,6IAAA,CAAA,eAAY;gBAAC,WAAU;;kCACtB,8OAAC,6IAAA,CAAA,cAAW;;0CACV,8OAAC,6IAAA,CAAA,aAAU;gCAAC,WAAU;0CAAW;;;;;;0CACjC,8OAAC,6IAAA,CAAA,mBAAgB;0CAAC;;;;;;;;;;;;kCAIpB,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,+IAAA,CAAA,UAAO;;8CACN,8OAAC,+IAAA,CAAA,iBAAc;oCAAC,OAAO;8CACrB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;;0DAEV,8OAAC,8NAAA,CAAA,iBAAc;gDAAC,WAAU;;;;;;4CACzB,cAAc,MAAM,GAAG,IACpB,CAAC,eAAe,EAAE,cAAc,MAAM,CAAC,QAAQ,CAAC,GAChD;;;;;;;;;;;;8CAGR,8OAAC,+IAAA,CAAA,iBAAc;oCAAC,WAAU;oCAAgB,OAAM;8CAC9C,cAAA,8OAAC,+IAAA,CAAA,UAAO;;0DACJ,8OAAC,+IAAA,CAAA,eAAY;gDAAC,aAAY;;;;;;0DAC1B,8OAAC,+IAAA,CAAA,cAAW;;kEACR,8OAAC,+IAAA,CAAA,eAAY;kEAAC;;;;;;kEACd,8OAAC,+IAAA,CAAA,eAAY;kEACZ,aAAa,GAAG,CAAC,CAAC;4DACf,MAAM,aAAa,cAAc,QAAQ,CAAC,KAAK,KAAK;4DACpD,qBACA,8OAAC,+IAAA,CAAA,cAAW;gEAER,UAAU,IAAM,aAAa,KAAK,KAAK;;kFAEvC,8OAAC;wEACD,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EACR,kFACA,aACE,uCACA;kFAGN,cAAA,8OAAC,oMAAA,CAAA,QAAK;4EAAC,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE;;;;;;;;;;;kFAErB,8OAAC;kFAAM,KAAK,KAAK;;;;;;;+DAbZ,KAAK,KAAK;;;;;wDAgBvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAQf,cAAc,MAAM,GAAG,mBACtB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;gCAAa,OAAO;oCAAE,qBAAqB,CAAC,OAAO,EAAE,eAAe,MAAM,CAAC,iBAAiB,CAAC;gCAAC;0CAC1G,eAAe,GAAG,CAAC,CAAC,MAAM,oBACzB,8OAAC;wCAAc,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,6BAA6B,KAAK,IAAI,KAAK,SAAS;kDAC9E,KAAK,IAAI;uCADF;;;;;;;;;;4BAMb,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,2BAC1C,8OAAC;;sDACG,8OAAC;4CAAG,WAAU;sDAA4C;;;;;;sDAC1D,8OAAC;4CAAI,WAAU;4CAAa,OAAO;gDAAE,qBAAqB,CAAC,OAAO,EAAE,eAAe,MAAM,CAAC,iBAAiB,CAAC;4CAAC;sDACxG,eAAe,GAAG,CAAC,CAAC,MAAM;gDACvB,MAAM,SAAS,KAAK,OAAO,CAAC,WAAW;gDACvC,IAAI,CAAC,QAAQ,qBAAO,8OAAC,WAAS;;;;;gDAE9B,MAAM,aAAa,cAAc,CAAC,EAAE,CAAC,OAAO,CAAC,WAAW;gDACxD,MAAM,WAAW,KAAK,IAAI,KAAK,SAAS,WAAW,KAAK,GAAG,OAAO,KAAK;gDACvE,MAAM,UAAU,KAAK,IAAI,KAAK,SAAS,WAAW,KAAK,GAAG,OAAO,KAAK;gDAEtE,qBACI,8OAAC;oDAAc,WAAU;;sEACpB,8OAAC;4DAAE,WAAU;;gEAAqB,OAAO,KAAK;gEAAE,eAAe,0BAA0B,MAAM;;;;;;;sEAC/F,8OAAC,gJAAA,CAAA,WAAQ;4DACN,OAAO,eAAe,uBAAuB,OAAO,KAAK,GAAG,KAAK,OAAO,KAAK;4DAC7E,WAAU;4DACV,oBAAoB,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EACjB,KAAK,IAAI,KAAK,QAAQ,eAAe,0BACrC,YAAY,gBACZ,WAAW;;;;;;;mDARb;;;;;4CAalB;;;;;;;mCAzBE;;;;;0CA8Bd,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAG,WAAU;;8DAA0D,8OAAC,gMAAA,CAAA,MAAG;;;;;gDAAG;;;;;;;sDAC/E,8OAAC;4CAAE,WAAU;;gDAAiC;gDAAE;gDAAU;;;;;;;;;;;;;;;;;;0CAIlE,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;;0DACV,8OAAC,gMAAA,CAAA,MAAG;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAEnC,8OAAC;wCAAI,WAAU;;0DACZ,8OAAC,sJAAA,CAAA,aAAU;gDAAC,WAAU;0DAClB,cAAA,8OAAC;oDAAI,WAAU;;wDACV,YAAY,GAAG,CAAC,CAAC,KAAK,sBACnB,8OAAC;gEAAgB,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,0BAA0B,IAAI,IAAI,KAAK,SAAS,gBAAgB;;oEAC1F,IAAI,IAAI,KAAK,yBAAW,8OAAC,gMAAA,CAAA,MAAG;wEAAC,WAAU;;;;;;kFACxC,8OAAC;wEAAI,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC,IAAI,IAAI,KAAK,SAAS,uCAAuC;kFACpH,IAAI,OAAO;;;;;;;+DAHV;;;;;wDAOb,2BACG,8OAAC;4DAAI,WAAU;;8EACX,8OAAC,gMAAA,CAAA,MAAG;oEAAC,WAAU;;;;;;8EACf,8OAAC;oEAAI,WAAU;8EACX,cAAA,8OAAC,iNAAA,CAAA,UAAO;wEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DAMvC,8OAAC;gDAAI,WAAU;;kEACX,8OAAC,gJAAA,CAAA,WAAQ;wDACL,aAAY;wDACZ,OAAO;wDACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wDAC5C,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,IAAI;wDACtD,WAAU;wDACV,MAAM;wDACN,UAAU;;;;;;kEAEd,8OAAC,8IAAA,CAAA,SAAM;wDAAC,SAAS;wDAAmB,UAAU,aAAa,CAAC,UAAU,IAAI;kEACtE,cAAA,8OAAC,kMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW5C","debugId":null}},
    {"offset": {"line": 5723, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/rank-card-widget.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card';\nimport { Award, TrendingUp } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\nimport { ComparePerformanceSheet } from './compare-performance-sheet';\nimport { Button } from '../ui/button';\n\n// Mock data representing the employee's rank\nconst rankData = {\n  rank: 3,\n  total: 25,\n  percentile: 12,\n  methodology: 'Bell Curve'\n};\n\nexport default function RankCardWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Award className=\"text-yellow-500\" />\n          Rank\n        </CardTitle>\n        <ComparePerformanceSheet />\n      </CardHeader>\n      <CardContent className=\"flex flex-col items-center justify-center pt-4\">\n        <div className=\"flex items-baseline text-6xl font-bold\">\n            <span className=\"text-primary\">{rankData.rank}</span>\n            <span className=\"text-2xl text-muted-foreground ml-1\">/ {rankData.total}</span>\n        </div>\n         <Badge variant=\"secondary\" className=\"flex items-center gap-1.5 mt-4\">\n            <TrendingUp className=\"h-3 w-3 text-green-500\"/>\n            Up 2 spots from last quarter\n        </Badge>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAQA,6CAA6C;AAC7C,MAAM,WAAW;IACf,MAAM;IACN,OAAO;IACP,YAAY;IACZ,aAAa;AACf;AAEe,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC,4IAAA,CAAA,YAAS;wBAAC,WAAU;;0CACnB,8OAAC,oMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;4BAAoB;;;;;;;kCAGvC,8OAAC,+KAAA,CAAA,0BAAuB;;;;;;;;;;;0BAE1B,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAgB,SAAS,IAAI;;;;;;0CAC7C,8OAAC;gCAAK,WAAU;;oCAAsC;oCAAG,SAAS,KAAK;;;;;;;;;;;;;kCAE1E,8OAAC,6IAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAY,WAAU;;0CAClC,8OAAC,kNAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;4BAA0B;;;;;;;;;;;;;;;;;;;AAM5D","debugId":null}},
    {"offset": {"line": 5847, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/performance-trend-widget.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { useMemo, useEffect, useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Slider } from \"@/components/ui/slider\"\nimport { ChartContainer, ChartTooltip, ChartTooltipContent, ChartConfig } from \"@/components/ui/chart\"\nimport { LineChart, CartesianGrid, XAxis, YAxis, Line } from \"recharts\"\nimport { TrendingUp, Save } from \"lucide-react\"\nimport { Button } from \"../ui/button\"\nimport { cn } from \"@/lib/utils\"\nimport { format } from \"date-fns\"\nimport { useToast } from \"@/hooks/use-toast\"\n\n// Mock data representing performance over different time periods\nconst generateData = (numPoints: number, period: 'day' | 'week' | 'month') => {\n    let data = [];\n    const baseDate = new Date(2023, 0, 1);\n    for (let i = 0; i < numPoints; i++) {\n        let date;\n        if (period === 'day') {\n            date = new Date(baseDate.getTime());\n            date.setDate(baseDate.getDate() + i);\n        } else if (period === 'week') {\n            date = new Date(baseDate.getTime());\n            date.setDate(baseDate.getDate() + (i * 7));\n        } else { // month\n            date = new Date(baseDate.getTime());\n            date.setMonth(baseDate.getMonth() + i);\n        }\n        \n        const overall = 75 + (i * (period === 'month' ? 1.5 : period === 'week' ? 0.3 : 0.1)) + (Math.random() * 5 - 2.5);\n        const projectDelivery = overall + (Math.random() * 3 - 1.5);\n        const codeQuality = overall - (Math.random() * 3 - 1.5);\n        const collaboration = overall + (Math.random() * 2 - 1);\n        const rank = Math.max(1, 25 - Math.floor(overall / 4));\n        \n        data.push({\n            date,\n            overall: parseFloat(overall.toFixed(1)),\n            projectDelivery: parseFloat(projectDelivery.toFixed(1)),\n            codeQuality: parseFloat(codeQuality.toFixed(1)),\n            collaboration: parseFloat(collaboration.toFixed(1)),\n            rank: rank,\n        });\n    }\n    return data;\n}\n\nconst monthlyData = generateData(12, 'month');\nconst weeklyData = generateData(52, 'week');\nconst dailyData = generateData(365, 'day');\n\nconst allPerformanceData = {\n    M: monthlyData,\n    W: weeklyData,\n    D: dailyData\n};\n\nconst kpis = [\n    { key: 'overall', label: 'Overall' },\n    { key: 'projectDelivery', label: 'Project Delivery' },\n    { key: 'codeQuality', label: 'Code Quality' },\n    { key: 'collaboration', label: 'Collaboration' },\n    { key: 'rank', label: 'Rank' },\n] as const;\n\ntype KpiKey = typeof kpis[number]['key'];\ntype TimePeriod = 'D' | 'W' | 'M';\n\nconst STORAGE_KEY = 'performanceTrendDefaultView';\n\nexport default function PerformanceTrendWidget() {\n  const [timePeriod, setTimePeriod] = useState<TimePeriod>('M');\n  const [range, setRange] = useState<number[]>([0, 11]); \n  const [selectedKpis, setSelectedKpis] = useState<KpiKey[]>(['overall']);\n  const { toast } = useToast();\n\n  // Load saved view from localStorage on initial render\n  useEffect(() => {\n    const savedViewJSON = localStorage.getItem(STORAGE_KEY);\n    if (savedViewJSON) {\n      try {\n        const savedView = JSON.parse(savedViewJSON);\n        // We set timePeriod first, so that the subsequent range update has the correct data length\n        if (savedView.timePeriod) {\n            setTimePeriod(savedView.timePeriod);\n        }\n        if (savedView.selectedKpis) {\n            setSelectedKpis(savedView.selectedKpis);\n        }\n        if (savedView.range) {\n            setRange(savedView.range);\n        }\n      } catch (e) {\n        console.error(\"Failed to parse saved view:\", e);\n      }\n    }\n  }, []);\n\n  const currentData = useMemo(() => allPerformanceData[timePeriod], [timePeriod]);\n\n  // Reset range when time period changes, unless we are initializing from storage\n   useEffect(() => {\n    const savedViewJSON = localStorage.getItem(STORAGE_KEY);\n    if (savedViewJSON) {\n        const savedView = JSON.parse(savedViewJSON);\n        if (savedView.timePeriod === timePeriod) {\n            return; // Don't reset if we are loading the saved period\n        }\n    }\n    \n    // For daily view, show a 3-month (approx 90 days) window by default\n    if (timePeriod === 'D') {\n      setRange([0, 89]);\n    } else {\n      setRange([0, currentData.length - 1]);\n    }\n  }, [timePeriod, currentData]);\n\n  const visibleData = useMemo(() => {\n    return currentData.slice(range[0], range[1] + 1);\n  }, [range, currentData]);\n\n  const handleRangeChange = (newRange: number[]) => {\n    if (newRange[1] - newRange[0] < 1) {\n      if (newRange[0] > 0) {\n        setRange([newRange[0] - 1, newRange[0]]);\n      } else {\n        setRange([newRange[1], newRange[1] + 1]);\n      }\n    } else {\n      setRange(newRange);\n    }\n  };\n\n  const handleKpiToggle = (kpiKey: KpiKey) => {\n    setSelectedKpis(prev => {\n      // If \"Rank\" is clicked, it becomes the only selected KPI.\n      if (kpiKey === 'rank') {\n        return ['rank'];\n      }\n\n      // If another KPI is clicked...\n      const isCurrentlySelected = prev.includes(kpiKey);\n      const isRankSelected = prev.includes('rank');\n\n      // If rank is currently selected, and we click something else, start a new selection.\n      if (isRankSelected) {\n        return [kpiKey];\n      }\n\n      // Standard multi-select logic for other KPIs.\n      if (isCurrentlySelected) {\n        if (prev.length === 1) return prev; // Don't allow deselecting the last one\n        return prev.filter(k => k !== kpiKey);\n      } else {\n        return [...prev, kpiKey];\n      }\n    });\n  };\n\n  const handleSaveView = () => {\n    const viewToSave = {\n      timePeriod,\n      range,\n      selectedKpis,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(viewToSave));\n    toast({\n      title: \"View Saved\",\n      description: \"Your current view has been set as the default.\",\n    });\n  };\n\n  const chartConfig: ChartConfig = {\n    overall: { label: \"Overall\", color: \"hsl(var(--chart-1))\" },\n    projectDelivery: { label: \"Project Delivery\", color: \"hsl(var(--chart-2))\" },\n    codeQuality: { label: \"Code Quality\", color: \"hsl(var(--chart-3))\" },\n    collaboration: { label: \"Collaboration\", color: \"hsl(var(--chart-4))\" },\n    rank: { label: \"Rank\", color: \"hsl(var(--chart-5))\" },\n  };\n\n  const formatLabel = (date: Date) => {\n    if (!(date instanceof Date) || isNaN(date.getTime())) {\n        return ''; // Return empty string for invalid dates\n    }\n    switch (timePeriod) {\n        case 'D': return format(date, 'MMM d');\n        case 'W': return `W${format(date, 'w')}`;\n        case 'M': return format(date, 'MMM');\n    }\n  }\n\n  // Defensive check to prevent accessing out-of-bounds index\n  const isRangeValid = currentData && currentData.length > 0 && range[0] < currentData.length && range[1] < currentData.length;\n\n  const yAxisDomain = useMemo(() => {\n    if (!visibleData || visibleData.length === 0 || selectedKpis.length === 0) {\n      return ['auto', 'auto'];\n    }\n    const allValues = visibleData.flatMap(d => selectedKpis.map(kpi => d[kpi]));\n    const minValue = Math.min(...allValues);\n    const maxValue = Math.max(...allValues);\n    \n    const padding = (maxValue - minValue) * 0.1;\n\n    return [Math.max(0, Math.floor(minValue - padding)), Math.ceil(maxValue + padding)];\n  }, [visibleData, selectedKpis]);\n\n\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardHeader className=\"p-2\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div className=\"space-y-1.5\">\n                <CardTitle className=\"flex items-center gap-2 text-base\">\n                    <TrendingUp className=\"text-primary\" />\n                    Performance Trend\n                </CardTitle>\n            </div>\n            <div className=\"w-full sm:w-64 pt-2 sm:pt-0\">\n                <Slider\n                    value={range}\n                    min={0}\n                    max={currentData.length - 1}\n                    step={1}\n                    onValueChange={handleRangeChange}\n                    aria-label=\"Date Range Slider\"\n                />\n                <div className=\"flex justify-between text-xs text-muted-foreground mt-2\">\n                    {isRangeValid ? (\n                        <>\n                            <span>{formatLabel(currentData[range[0]].date)}</span>\n                            <span>{formatLabel(currentData[range[1]].date)}</span>\n                        </>\n                    ) : (\n                        <>\n                            <span></span>\n                            <span></span>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex flex-wrap items-center justify-between gap-2 mb-4\">\n             <div className=\"flex flex-wrap gap-2\">\n                {kpis.map(kpi => {\n                    const isSelected = selectedKpis.includes(kpi.key);\n                    return (\n                        <Button\n                            key={kpi.key}\n                            variant={isSelected ? 'default' : 'outline'}\n                            size=\"sm\"\n                            onClick={() => handleKpiToggle(kpi.key)}\n                            style={{'--color-indicator': chartConfig[kpi.key].color } as React.CSSProperties}\n                            className=\"flex items-center gap-2\"\n                        >\n                            <span className={cn('h-2 w-2 rounded-full', isSelected ? 'bg-primary-foreground' : 'bg-[var(--color-indicator)]')}></span>\n                            {kpi.label}\n                        </Button>\n                    );\n                })}\n            </div>\n            <div className=\"flex items-center gap-2\">\n                <div className=\"flex items-center gap-1 rounded-md bg-muted p-1\">\n                    {(['D', 'W', 'M'] as TimePeriod[]).map(period => (\n                        <Button\n                            key={period}\n                            variant={timePeriod === period ? 'secondary' : 'ghost'}\n                            size=\"sm\"\n                            className=\"h-7 px-2.5\"\n                            onClick={() => setTimePeriod(period)}\n                        >\n                            {period}\n                        </Button>\n                    ))}\n                </div>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={handleSaveView}>\n                    <Save className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"sr-only\">Save default view</span>\n                </Button>\n            </div>\n        </div>\n        <div className=\"h-[250px] w-full mb-4\">\n            <ChartContainer config={chartConfig} className=\"h-full w-full\">\n              <LineChart\n                data={visibleData}\n                margin={{ top: 5, right: 20, left: 0, bottom: 20 }}\n              >\n                <CartesianGrid vertical={false} />\n                <XAxis \n                    dataKey=\"date\" \n                    tickLine={false} \n                    axisLine={false} \n                    tickMargin={8}\n                    tickFormatter={(value) => formatLabel(new Date(value))}\n                />\n                <YAxis\n                    domain={yAxisDomain}\n                    tickLine={false}\n                    axisLine={false}\n                    tickMargin={8}\n                    reversed={selectedKpis.includes('rank')}\n                    allowDecimals={false}\n                />\n                <ChartTooltip\n                    cursor={false}\n                    content={<ChartTooltipContent indicator=\"dot\" labelFormatter={(value) => formatLabel(new Date(value))} />}\n                />\n                {selectedKpis.map(kpiKey => (\n                    <Line\n                        key={kpiKey}\n                        dataKey={kpiKey}\n                        type=\"monotone\"\n                        stroke={chartConfig[kpiKey]?.color}\n                        strokeWidth={2}\n                        dot={false}\n                        activeDot={{ r: 7 }}\n                        name={chartConfig[kpiKey]?.label}\n                    />\n                ))}\n              </LineChart>\n            </ChartContainer>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\n    \n\n    "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6433, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/employee-dashboard.tsx"],"sourcesContent":["\nimport DevelopmentPlanWidget from \"./development-plan-widget\";\nimport AiInsightFeedWidget from \"./ai-insight-feed-widget\";\nimport NextStepsWidget from \"./next-steps-widget\";\nimport NetsScoreboardWidget from \"./nets-scoreboard-widget\";\nimport TeamPulseWidget from \"./team-pulse-widget\";\nimport CoachingTipWidget from \"./coaching-tip-widget\";\nimport MyGoalsWidget from \"./my-goals-widget\";\nimport RankCardWidget from \"./rank-card-widget\";\nimport PerformanceTrendWidget from \"./performance-trend-widget\";\n\nexport default function EmployeeDashboard() {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <MyGoalsWidget />\n        <RankCardWidget />\n        <AiInsightFeedWidget />\n      </div>\n      <PerformanceTrendWidget />\n      <NextStepsWidget />\n      <DevelopmentPlanWidget />\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <NetsScoreboardWidget />\n          <CoachingTipWidget />\n          <TeamPulseWidget />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,qKAAA,CAAA,UAAa;;;;;kCACd,8OAAC,sKAAA,CAAA,UAAc;;;;;kCACf,8OAAC,+KAAA,CAAA,UAAmB;;;;;;;;;;;0BAEtB,8OAAC,8KAAA,CAAA,UAAsB;;;;;0BACvB,8OAAC,uKAAA,CAAA,UAAe;;;;;0BAChB,8OAAC,6KAAA,CAAA,UAAqB;;;;;0BACtB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,4KAAA,CAAA,UAAoB;;;;;kCACrB,8OAAC,yKAAA,CAAA,UAAiB;;;;;kCAClB,8OAAC,uKAAA,CAAA,UAAe;;;;;;;;;;;;;;;;;AAI1B","debugId":null}},
    {"offset": {"line": 6536, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/leadership-maturity-curve-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\nimport { BarChart } from 'lucide-react';\n\nconst maturityData = [\n  { level: 'Emerging', value: 25, color: 'bg-yellow-400' },\n  { level: 'Developing', value: 45, color: 'bg-blue-400' },\n  { level: 'Mature', value: 20, color: 'bg-green-400' },\n  { level: 'Exemplary', value: 10, color: 'bg-purple-400' },\n];\n\nexport default function LeadershipMaturityCurveWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <BarChart className=\"text-primary\" />\n          Leadership Maturity Curve\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {maturityData.map(item => (\n            <div key={item.level} className=\"space-y-1.5\">\n                <div className=\"flex justify-between items-baseline\">\n                    <p className=\"text-sm font-medium\">{item.level}</p>\n                    <p className=\"text-sm font-bold text-primary\">{item.value}%</p>\n                </div>\n                <Progress value={item.value} className=\"h-2\" indicatorClassName={item.color} />\n            </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,eAAe;IACnB;QAAE,OAAO;QAAY,OAAO;QAAI,OAAO;IAAgB;IACvD;QAAE,OAAO;QAAc,OAAO;QAAI,OAAO;IAAc;IACvD;QAAE,OAAO;QAAU,OAAO;QAAI,OAAO;IAAe;IACpD;QAAE,OAAO;QAAa,OAAO;QAAI,OAAO;IAAgB;CACzD;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,6OAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIzC,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;0BACpB,aAAa,GAAG,CAAC,CAAA,qBACd,8OAAC;wBAAqB,WAAU;;0CAC5B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;kDAAuB,KAAK,KAAK;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;;4CAAkC,KAAK,KAAK;4CAAC;;;;;;;;;;;;;0CAE9D,8OAAC,gJAAA,CAAA,WAAQ;gCAAC,OAAO,KAAK,KAAK;gCAAE,WAAU;gCAAM,oBAAoB,KAAK,KAAK;;;;;;;uBALrE,KAAK,KAAK;;;;;;;;;;;;;;;;AAWhC","debugId":null}},
    {"offset": {"line": 6663, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/early-warning-system-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { AlertOctagon, TrendingDown, Users } from 'lucide-react';\n\nconst warningData = [\n    { team: 'Sales Team B', metric: 'Trust Score', change: -15, description: 'Significant drop following re-org.' },\n    { team: 'Engineering - Platform', metric: 'Feedback Tone', change: -8, description: 'Increased negative sentiment in 1-on-1s.' },\n];\n\nexport default function EarlyWarningSystemWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <AlertOctagon className=\"text-destructive\" />\n          Early Warning System\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {warningData.map(item => (\n          <div key={item.team} className=\"p-3 border rounded-lg bg-destructive/10\">\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <p className=\"font-semibold text-sm text-destructive flex items-center gap-2\">\n                    <Users className=\"h-4 w-4\"/>\n                    {item.team}\n                </p>\n                <p className=\"text-xs text-muted-foreground mt-1\">{item.description}</p>\n              </div>\n              <div className=\"flex items-center gap-1 text-sm font-bold text-destructive\">\n                <TrendingDown className=\"h-4 w-4\" />\n                <span>{item.change}%</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKA,MAAM,cAAc;IAChB;QAAE,MAAM;QAAgB,QAAQ;QAAe,QAAQ,CAAC;QAAI,aAAa;IAAqC;IAC9G;QAAE,MAAM;QAA0B,QAAQ;QAAiB,QAAQ,CAAC;QAAG,aAAa;IAA2C;CAClI;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sNAAA,CAAA,eAAY;4BAAC,WAAU;;;;;;wBAAqB;;;;;;;;;;;;0BAIjD,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;0BACpB,YAAY,GAAG,CAAC,CAAA,qBACf,8OAAC;wBAAoB,WAAU;kCAC7B,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;;8DACT,8OAAC,oMAAA,CAAA,QAAK;oDAAC,WAAU;;;;;;gDAChB,KAAK,IAAI;;;;;;;sDAEd,8OAAC;4CAAE,WAAU;sDAAsC,KAAK,WAAW;;;;;;;;;;;;8CAErE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,sNAAA,CAAA,eAAY;4CAAC,WAAU;;;;;;sDACxB,8OAAC;;gDAAM,KAAK,MAAM;gDAAC;;;;;;;;;;;;;;;;;;;uBAXf,KAAK,IAAI;;;;;;;;;;;;;;;;AAmB7B","debugId":null}},
    {"offset": {"line": 6811, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/program-impact-heatmap-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Flame } from 'lucide-react';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport { cn } from '@/lib/utils';\n\nconst heatmapData = [\n  { program: 'Interviewer Lab', department: 'Engineering', impact: 18 },\n  { program: 'Interviewer Lab', department: 'Sales', impact: 5 },\n  { program: 'Leadership Dev', department: 'Engineering', impact: 12 },\n  { program: 'Leadership Dev', department: 'Sales', impact: 22 },\n];\n\nconst getImpactColor = (impact: number) => {\n  if (impact > 20) return 'bg-green-600';\n  if (impact > 15) return 'bg-green-500';\n  if (impact > 10) return 'bg-green-400';\n  if (impact > 5) return 'bg-yellow-400';\n  return 'bg-yellow-300';\n};\n\nexport default function ProgramImpactHeatmapWidget() {\n  const departments = ['Engineering', 'Sales'];\n  const programs = ['Interviewer Lab', 'Leadership Dev'];\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Flame className=\"text-orange-500\" />\n          Program Impact Heatmap\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <TooltipProvider>\n            <div className=\"flex gap-4\">\n                <div className=\"flex flex-col gap-2 mt-8 text-sm font-medium\">\n                    {programs.map(p => <div key={p} className=\"h-10 flex items-center\">{p}</div>)}\n                </div>\n                <div className=\"flex-1 grid grid-cols-2 gap-2\">\n                    {departments.map(dept => (\n                        <div key={dept} className=\"flex flex-col gap-2\">\n                            <div className=\"text-center font-medium text-sm h-8\">{dept}</div>\n                            {programs.map(prog => {\n                                const entry = heatmapData.find(d => d.department === dept && d.program === prog);\n                                const impact = entry ? entry.impact : 0;\n                                return (\n                                    <Tooltip key={`${dept}-${prog}`}>\n                                        <TooltipTrigger asChild>\n                                            <div className={cn(\n                                                \"h-10 w-full rounded-md flex items-center justify-center text-white font-bold text-xs\",\n                                                getImpactColor(impact)\n                                            )}>\n                                                +{impact}%\n                                            </div>\n                                        </TooltipTrigger>\n                                        <TooltipContent>\n                                            <p>{prog} in {dept}</p>\n                                            <p>Leadership Score Impact: +{impact}%</p>\n                                        </TooltipContent>\n                                    </Tooltip>\n                                );\n                            })}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </TooltipProvider>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,cAAc;IAClB;QAAE,SAAS;QAAmB,YAAY;QAAe,QAAQ;IAAG;IACpE;QAAE,SAAS;QAAmB,YAAY;QAAS,QAAQ;IAAE;IAC7D;QAAE,SAAS;QAAkB,YAAY;QAAe,QAAQ;IAAG;IACnE;QAAE,SAAS;QAAkB,YAAY;QAAS,QAAQ;IAAG;CAC9D;AAED,MAAM,iBAAiB,CAAC;IACtB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,GAAG,OAAO;IACvB,OAAO;AACT;AAEe,SAAS;IACtB,MAAM,cAAc;QAAC;QAAe;KAAQ;IAC5C,MAAM,WAAW;QAAC;QAAmB;KAAiB;IAEtD,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAIzC,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC,+IAAA,CAAA,kBAAe;8BACZ,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACV,SAAS,GAAG,CAAC,CAAA,kBAAK,8OAAC;wCAAY,WAAU;kDAA0B;uCAAvC;;;;;;;;;;0CAEjC,8OAAC;gCAAI,WAAU;0CACV,YAAY,GAAG,CAAC,CAAA,qBACb,8OAAC;wCAAe,WAAU;;0DACtB,8OAAC;gDAAI,WAAU;0DAAuC;;;;;;4CACrD,SAAS,GAAG,CAAC,CAAA;gDACV,MAAM,QAAQ,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,UAAU,KAAK,QAAQ,EAAE,OAAO,KAAK;gDAC3E,MAAM,SAAS,QAAQ,MAAM,MAAM,GAAG;gDACtC,qBACI,8OAAC,+IAAA,CAAA,UAAO;;sEACJ,8OAAC,+IAAA,CAAA,iBAAc;4DAAC,OAAO;sEACnB,cAAA,8OAAC;gEAAI,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EACb,wFACA,eAAe;;oEAChB;oEACG;oEAAO;;;;;;;;;;;;sEAGjB,8OAAC,+IAAA,CAAA,iBAAc;;8EACX,8OAAC;;wEAAG;wEAAK;wEAAK;;;;;;;8EACd,8OAAC;;wEAAE;wEAA2B;wEAAO;;;;;;;;;;;;;;mDAX/B,GAAG,KAAK,CAAC,EAAE,MAAM;;;;;4CAevC;;uCArBM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BlC","debugId":null}},
    {"offset": {"line": 7023, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/di-sentiment-lens-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Eye, Smile, Frown, Users } from 'lucide-react';\n\nconst diData = [\n  { metric: 'Positive Feedback Tone', value: 'Balanced', delta: '+2% vs. org avg' },\n  { metric: 'Critical Insight Escalations', value: 'Slightly High (Sales)', delta: '-5% vs. org avg' },\n  { metric: 'Coaching Plan Adoption', value: 'Balanced', delta: '+0% vs. org avg' },\n];\n\nexport default function DiSentimentLensWidget() {\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Eye className=\"text-teal-500\" />\n          D&I Sentiment Lens\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {diData.map(item => (\n            <div key={item.metric} className=\"p-3 border rounded-lg bg-muted/50\">\n                <p className=\"text-sm font-medium\">{item.metric}</p>\n                <div className=\"flex items-center justify-between mt-1\">\n                    <Badge variant={item.value === 'Balanced' ? 'success' : 'destructive'}>\n                        {item.value}\n                    </Badge>\n                    <p className=\"text-xs font-semibold text-muted-foreground\">{item.delta}</p>\n                </div>\n            </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,SAAS;IACb;QAAE,QAAQ;QAA0B,OAAO;QAAY,OAAO;IAAkB;IAChF;QAAE,QAAQ;QAAgC,OAAO;QAAyB,OAAO;IAAkB;IACnG;QAAE,QAAQ;QAA0B,OAAO;QAAY,OAAO;IAAkB;CACjF;AAEc,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;4BAAC,WAAU;;;;;;wBAAkB;;;;;;;;;;;;0BAIrC,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;0BACpB,OAAO,GAAG,CAAC,CAAA,qBACR,8OAAC;wBAAsB,WAAU;;0CAC7B,8OAAC;gCAAE,WAAU;0CAAuB,KAAK,MAAM;;;;;;0CAC/C,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAS,KAAK,KAAK,KAAK,aAAa,YAAY;kDACnD,KAAK,KAAK;;;;;;kDAEf,8OAAC;wCAAE,WAAU;kDAA+C,KAAK,KAAK;;;;;;;;;;;;;uBANpE,KAAK,MAAM;;;;;;;;;;;;;;;;AAajC","debugId":null}},
    {"offset": {"line": 7141, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/ai-culture-narratives-widget.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Bot, Quote } from 'lucide-react';\n\nconst narrative = \"For Q2, the organization showed a 12% improvement in 'Accountability' and 'Clarity' scores, largely driven by the Engineering department's adoption of structured 1-on-1s. However, 'Empathy' scores saw a slight 3% decline in Sales, suggesting a potential area for targeted coaching intervention. Overall, a positive trend towards a more direct and responsible feedback culture is emerging.\";\n\nexport default function AiCultureNarrativesWidget() {\n  return (\n    <Card className=\"bg-primary/5 border-primary/20\">\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base text-primary\">\n          <Bot />\n          AI Culture Narrative\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"relative\">\n            <Quote className=\"absolute -left-2 -top-1 h-8 w-8 text-primary/10\" />\n            <p className=\"text-foreground/90 italic pl-4 border-l-2 border-primary/20\">\n                {narrative}\n            </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AAKA,MAAM,YAAY;AAEH,SAAS;IACtB,qBACE,8OAAC,4IAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;;;;;wBAAG;;;;;;;;;;;;0BAIX,8OAAC,4IAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;sCACjB,8OAAC;4BAAE,WAAU;sCACR;;;;;;;;;;;;;;;;;;;;;;;AAMjB","debugId":null}},
    {"offset": {"line": 7222, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/hr-head-dashboard.tsx"],"sourcesContent":["\nimport DevelopmentPlanWidget from \"./development-plan-widget\";\nimport LeadershipMaturityCurveWidget from \"./leadership-maturity-curve-widget\";\nimport EarlyWarningSystemWidget from \"./early-warning-system-widget\";\nimport ProgramImpactHeatmapWidget from \"./program-impact-heatmap-widget\";\nimport DiSentimentLensWidget from \"./di-sentiment-lens-widget\";\nimport AiCultureNarrativesWidget from \"./ai-culture-narratives-widget\";\n\nexport default function HRHeadDashboard() {\n  return (\n    <div className=\"space-y-8\">\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2 space-y-6\">\n          <LeadershipMaturityCurveWidget />\n          <ProgramImpactHeatmapWidget />\n        </div>\n        <div className=\"space-y-6\">\n          <EarlyWarningSystemWidget />\n          <DiSentimentLensWidget />\n        </div>\n      </div>\n      \n      <AiCultureNarrativesWidget />\n      \n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,yLAAA,CAAA,UAA6B;;;;;0CAC9B,8OAAC,sLAAA,CAAA,UAA0B;;;;;;;;;;;kCAE7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oLAAA,CAAA,UAAwB;;;;;0CACzB,8OAAC,iLAAA,CAAA,UAAqB;;;;;;;;;;;;;;;;;0BAI1B,8OAAC,qLAAA,CAAA,UAAyB;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 7306, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/manager-development-map-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getManagerDevelopmentMapData, DevelopmentMapNode } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { TooltipProvider, Tooltip, TooltipTrigger, TooltipContent } from '@/components/ui/tooltip';\nimport { Map, TrendingUp, TrendingDown, Minus } from 'lucide-react';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { roleUserMapping } from '@/lib/role-mapping';\n\nexport default function ManagerDevelopmentMapWidget() {\n  const { role } = useRole();\n  const [mapData, setMapData] = useState<DevelopmentMapNode[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchData = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getManagerDevelopmentMapData(role);\n    setMapData(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchData();\n    window.addEventListener('feedbackUpdated', fetchData);\n    return () => window.removeEventListener('feedbackUpdated', fetchData);\n  }, [fetchData]);\n\n  const getTrajectoryIcon = (trajectory: 'positive' | 'negative' | 'stable') => {\n    switch (trajectory) {\n        case 'positive': return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\n        case 'negative': return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\n        case 'stable': return <Minus className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Map className=\"text-primary\" />\n          Manager Development Map\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-24 w-full\" />\n        ) : mapData.length > 0 ? (\n          <div className=\"flex flex-wrap gap-6\">\n            {mapData.map(node => (\n              <TooltipProvider key={node.name}>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <div className=\"flex flex-col items-center gap-2 cursor-pointer\">\n                      <Avatar className=\"h-16 w-16 border-2 border-primary/50\">\n                        <AvatarFallback className=\"text-xl bg-muted\">{roleUserMapping[node.role as keyof typeof roleUserMapping]?.fallback}</AvatarFallback>\n                      </Avatar>\n                      <div className=\"flex items-center gap-1.5\">\n                        <span className=\"text-sm font-medium\">{node.name}</span>\n                        {getTrajectoryIcon(node.trajectory)}\n                      </div>\n                    </div>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>{node.name} ({node.role})</p>\n                    <p>Leadership Score: {node.leadershipScore.toFixed(1)}</p>\n                    <p>Trajectory: {node.trajectory}</p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center text-muted-foreground py-4\">No team lead data to display.</p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAVA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB,EAAE;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,+BAA4B,AAAD,EAAE;QAChD,WAAW;QACX,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAU;IAEd,MAAM,oBAAoB,CAAC;QACzB,OAAQ;YACJ,KAAK;gBAAY,qBAAO,8OAAC,kNAAA,CAAA,aAAU;oBAAC,WAAU;;;;;;YAC9C,KAAK;gBAAY,qBAAO,8OAAC,sNAAA,CAAA,eAAY;oBAAC,WAAU;;;;;;YAChD,KAAK;gBAAU,qBAAO,8OAAC,oMAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;QAC3C;IACF;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,gMAAA,CAAA,MAAG;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIpC,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,QAAQ,MAAM,GAAG,kBACnB,8OAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAA,qBACX,8OAAC,+IAAA,CAAA,kBAAe;sCACd,cAAA,8OAAC,+IAAA,CAAA,UAAO;;kDACN,8OAAC,+IAAA,CAAA,iBAAc;wCAAC,OAAO;kDACrB,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,8IAAA,CAAA,SAAM;oDAAC,WAAU;8DAChB,cAAA,8OAAC,8IAAA,CAAA,iBAAc;wDAAC,WAAU;kEAAoB,yIAAA,CAAA,kBAAe,CAAC,KAAK,IAAI,CAAiC,EAAE;;;;;;;;;;;8DAE5G,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;sEAAuB,KAAK,IAAI;;;;;;wDAC/C,kBAAkB,KAAK,UAAU;;;;;;;;;;;;;;;;;;kDAIxC,8OAAC,+IAAA,CAAA,iBAAc;;0DACb,8OAAC;;oDAAG,KAAK,IAAI;oDAAC;oDAAG,KAAK,IAAI;oDAAC;;;;;;;0DAC3B,8OAAC;;oDAAE;oDAAmB,KAAK,eAAe,CAAC,OAAO,CAAC;;;;;;;0DACnD,8OAAC;;oDAAE;oDAAa,KAAK,UAAU;;;;;;;;;;;;;;;;;;;2BAhBf,KAAK,IAAI;;;;;;;;;yCAuBnC,8OAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 7549, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/ai-intervention-log-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getAiInterventionLog, InterventionLogEntry } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { ShieldAlert, AlertCircle, CheckCircle } from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\n\nexport default function AiInterventionLogWidget() {\n  const { role } = useRole();\n  const [log, setLog] = useState<InterventionLogEntry[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchData = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getAiInterventionLog(role);\n    setLog(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchData();\n    window.addEventListener('feedbackUpdated', fetchData);\n    return () => window.removeEventListener('feedbackUpdated', fetchData);\n  }, [fetchData]);\n\n  const getStatusIcon = (status: 'Timely' | 'Delayed' | 'Unresolved') => {\n    switch(status) {\n        case 'Timely': return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n        case 'Delayed': return <AlertCircle className=\"h-4 w-4 text-yellow-500\" />;\n        case 'Unresolved': return <ShieldAlert className=\"h-4 w-4 text-red-500\" />;\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <ShieldAlert className=\"text-destructive\" />\n          AI Intervention Log\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-40 w-full\" />\n        ) : log.length > 0 ? (\n          <div className=\"space-y-4\">\n            {log.map(entry => (\n              <div key={entry.id} className=\"p-3 border rounded-lg bg-muted/50\">\n                <div className=\"flex justify-between items-start\">\n                    <p className=\"font-semibold text-sm pr-4\">{entry.summary}</p>\n                    <div className=\"flex items-center gap-1.5 text-xs flex-shrink-0\">\n                        {getStatusIcon(entry.responseStatus)}\n                        <span>{entry.responseStatus}</span>\n                    </div>\n                </div>\n                <p className=\"text-xs text-muted-foreground mt-2\">\n                  For {entry.employeeName} ({formatDistanceToNow(new Date(entry.date), { addSuffix: true })})\n                </p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center text-muted-foreground py-4\">No AI interventions recorded for your teams.</p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B,EAAE;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,uBAAoB,AAAD,EAAE;QACxC,OAAO;QACP,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAU;IAEd,MAAM,gBAAgB,CAAC;QACrB,OAAO;YACH,KAAK;gBAAU,qBAAO,8OAAC,2NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAC7C,KAAK;gBAAW,qBAAO,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAC9C,KAAK;gBAAc,qBAAO,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;QACrD;IACF;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,oNAAA,CAAA,cAAW;4BAAC,WAAU;;;;;;wBAAqB;;;;;;;;;;;;0BAIhD,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,IAAI,MAAM,GAAG,kBACf,8OAAC;oBAAI,WAAU;8BACZ,IAAI,GAAG,CAAC,CAAA,sBACP,8OAAC;4BAAmB,WAAU;;8CAC5B,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAE,WAAU;sDAA8B,MAAM,OAAO;;;;;;sDACxD,8OAAC;4CAAI,WAAU;;gDACV,cAAc,MAAM,cAAc;8DACnC,8OAAC;8DAAM,MAAM,cAAc;;;;;;;;;;;;;;;;;;8CAGnC,8OAAC;oCAAE,WAAU;;wCAAqC;wCAC3C,MAAM,YAAY;wCAAC;wCAAG,CAAA,GAAA,mJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,MAAM,IAAI,GAAG;4CAAE,WAAW;wCAAK;wCAAG;;;;;;;;2BATpF,MAAM,EAAE;;;;;;;;;yCAetB,8OAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 7743, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/team-coaching-quality-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getTeamCoachingQualityIndex, TeamCoachingQuality } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Target } from 'lucide-react';\n\nexport default function TeamCoachingQualityWidget() {\n  const { role } = useRole();\n  const [qualityData, setQualityData] = useState<TeamCoachingQuality[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchData = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getTeamCoachingQualityIndex(role);\n    setQualityData(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchData();\n    window.addEventListener('feedbackUpdated', fetchData);\n    return () => window.removeEventListener('feedbackUpdated', fetchData);\n  }, [fetchData]);\n  \n  const getScoreColor = (score: number) => {\n    if (score >= 80) return 'text-green-500';\n    if (score >= 60) return 'text-yellow-500';\n    return 'text-red-500';\n  }\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Target className=\"text-purple-500\" />\n          Team Coaching Quality Index\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-24 w-full\" />\n        ) : qualityData.length > 0 ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            {qualityData.map(item => (\n              <div key={item.teamLeadName} className=\"p-4 border rounded-lg text-center bg-muted/50\">\n                <p className=\"font-semibold\">{item.teamLeadName}</p>\n                <p className={`text-3xl font-bold ${getScoreColor(item.qualityScore)}`}>{item.qualityScore.toFixed(0)}</p>\n                <p className=\"text-xs text-muted-foreground\">{item.totalSessions} sessions</p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center text-muted-foreground py-4\">Not enough data to calculate coaching quality.</p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAyB,EAAE;IACxE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,8BAA2B,AAAD,EAAE;QAC/C,eAAe;QACf,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAU;IAEd,MAAM,gBAAgB,CAAC;QACrB,IAAI,SAAS,IAAI,OAAO;QACxB,IAAI,SAAS,IAAI,OAAO;QACxB,OAAO;IACT;IAEA,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAI1C,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,YAAY,MAAM,GAAG,kBACvB,8OAAC;oBAAI,WAAU;8BACZ,YAAY,GAAG,CAAC,CAAA,qBACf,8OAAC;4BAA4B,WAAU;;8CACrC,8OAAC;oCAAE,WAAU;8CAAiB,KAAK,YAAY;;;;;;8CAC/C,8OAAC;oCAAE,WAAW,CAAC,mBAAmB,EAAE,cAAc,KAAK,YAAY,GAAG;8CAAG,KAAK,YAAY,CAAC,OAAO,CAAC;;;;;;8CACnG,8OAAC;oCAAE,WAAU;;wCAAiC,KAAK,aAAa;wCAAC;;;;;;;;2BAHzD,KAAK,YAAY;;;;;;;;;yCAQ/B,8OAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 7887, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/readiness-pipeline-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getReadinessPipelineData, ReadinessPipelineData } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Rocket, User, Users } from 'lucide-react';\nimport { Progress } from '@/components/ui/progress';\n\nexport default function ReadinessPipelineWidget() {\n  const { role } = useRole();\n  const [pipelineData, setPipelineData] = useState<ReadinessPipelineData | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchData = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getReadinessPipelineData(role);\n    setPipelineData(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchData();\n    window.addEventListener('feedbackUpdated', fetchData);\n    return () => window.removeEventListener('feedbackUpdated', fetchData);\n  }, [fetchData]);\n\n  const renderPipelineStage = (label: string, icon: React.ReactNode, percentage: number) => (\n    <div className=\"space-y-2\">\n        <div className=\"flex items-center gap-2 text-sm font-medium\">\n            {icon}\n            <span>{label}</span>\n        </div>\n        <div className=\"flex items-center gap-3\">\n            <Progress value={percentage} className=\"h-2\"/>\n            <span className=\"font-semibold text-primary\">{percentage.toFixed(0)}%</span>\n        </div>\n    </div>\n  );\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Rocket className=\"text-blue-500\" />\n          Readiness Pipeline\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-32 w-full\" />\n        ) : pipelineData ? (\n          <div className=\"space-y-6\">\n            {renderPipelineStage(\"Employee  Team Lead\", <User className=\"h-4 w-4 text-gray-500\"/>, pipelineData.employeeToLead)}\n            {renderPipelineStage(\"Team Lead  AM\", <Users className=\"h-4 w-4 text-gray-500\"/>, pipelineData.leadToAm)}\n          </div>\n        ) : (\n          <p className=\"text-center text-muted-foreground py-4\">Insufficient data to build readiness pipeline.</p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgC;IAC/E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,2BAAwB,AAAD,EAAE;QAC5C,gBAAgB;QAChB,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAU;IAEd,MAAM,sBAAsB,CAAC,OAAe,MAAuB,2BACjE,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;wBACV;sCACD,8OAAC;sCAAM;;;;;;;;;;;;8BAEX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,gJAAA,CAAA,WAAQ;4BAAC,OAAO;4BAAY,WAAU;;;;;;sCACvC,8OAAC;4BAAK,WAAU;;gCAA8B,WAAW,OAAO,CAAC;gCAAG;;;;;;;;;;;;;;;;;;;IAK9E,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAAkB;;;;;;;;;;;;0BAIxC,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,6BACF,8OAAC;oBAAI,WAAU;;wBACZ,oBAAoB,sCAAwB,8OAAC,kMAAA,CAAA,OAAI;4BAAC,WAAU;;;;;kCAA2B,aAAa,cAAc;wBAClH,oBAAoB,gCAAkB,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;kCAA2B,aAAa,QAAQ;;;;;;yCAG1G,8OAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 8064, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/escalation-insights-widget.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport { getEscalationInsights, EscalationInsight } from '@/services/feedback-service';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { BrainCircuit, Lightbulb } from 'lucide-react';\n\nexport default function EscalationInsightsWidget() {\n  const { role } = useRole();\n  const [insights, setInsights] = useState<EscalationInsight[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchData = useCallback(async () => {\n    if (!role) return;\n    setIsLoading(true);\n    const data = await getEscalationInsights(role);\n    setInsights(data);\n    setIsLoading(false);\n  }, [role]);\n\n  useEffect(() => {\n    fetchData();\n    window.addEventListener('feedbackUpdated', fetchData);\n    return () => window.removeEventListener('feedbackUpdated', fetchData);\n  }, [fetchData]);\n\n  return (\n    <Card>\n      <CardHeader className=\"p-2\">\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <BrainCircuit className=\"text-orange-500\" />\n          Escalation Root Causes\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <Skeleton className=\"h-32 w-full\" />\n        ) : insights.length > 0 ? (\n          <div className=\"space-y-4\">\n            {insights.map(insight => (\n              <div key={insight.theme} className=\"p-3 border rounded-lg bg-orange-500/10 border-orange-500/20\">\n                <div className=\"flex justify-between items-start\">\n                    <p className=\"font-semibold text-sm text-orange-700 dark:text-orange-400\">{insight.theme}</p>\n                    <span className=\"text-xs font-bold text-orange-600 dark:text-orange-300\">{insight.count} cases</span>\n                </div>\n                 <p className=\"text-xs text-muted-foreground mt-2 flex items-start gap-1.5\">\n                    <Lightbulb className=\"h-3 w-3 mt-0.5 flex-shrink-0\" />\n                    <span>{insight.recommendation}</span>\n                </p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center text-muted-foreground py-4\">No escalation patterns identified yet.</p>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB,EAAE;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,MAAM,OAAO,MAAM,CAAA,GAAA,kJAAA,CAAA,wBAAqB,AAAD,EAAE;QACzC,YAAY;QACZ,aAAa;IACf,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO,IAAM,OAAO,mBAAmB,CAAC,mBAAmB;IAC7D,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC,4IAAA,CAAA,OAAI;;0BACH,8OAAC,4IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,4IAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,8OAAC,sNAAA,CAAA,eAAY;4BAAC,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAIhD,8OAAC,4IAAA,CAAA,cAAW;0BACT,0BACC,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;2BAClB,SAAS,MAAM,GAAG,kBACpB,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAA,wBACZ,8OAAC;4BAAwB,WAAU;;8CACjC,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAE,WAAU;sDAA8D,QAAQ,KAAK;;;;;;sDACxF,8OAAC;4CAAK,WAAU;;gDAA0D,QAAQ,KAAK;gDAAC;;;;;;;;;;;;;8CAE3F,8OAAC;oCAAE,WAAU;;sDACV,8OAAC,4MAAA,CAAA,YAAS;4CAAC,WAAU;;;;;;sDACrB,8OAAC;sDAAM,QAAQ,cAAc;;;;;;;;;;;;;2BAPzB,QAAQ,KAAK;;;;;;;;;yCAa3B,8OAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 8228, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/components/dashboards/am-dashboard.tsx"],"sourcesContent":["\nimport DevelopmentPlanWidget from \"./development-plan-widget\";\nimport ManagerDevelopmentMapWidget from \"./manager-development-map-widget\";\nimport AiInterventionLogWidget from \"./ai-intervention-log-widget\";\nimport TeamCoachingQualityWidget from \"./team-coaching-quality-widget\";\nimport ReadinessPipelineWidget from \"./readiness-pipeline-widget\";\nimport EscalationInsightsWidget from \"./escalation-insights-widget\";\n\nexport default function AmDashboard() {\n  return (\n    <div className=\"space-y-8\">\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n        <div className=\"lg:col-span-3 space-y-6\">\n          <ManagerDevelopmentMapWidget />\n          <ReadinessPipelineWidget />\n          <TeamCoachingQualityWidget />\n        </div>\n        <div className=\"lg:col-span-2 space-y-6\">\n          <AiInterventionLogWidget />\n          <EscalationInsightsWidget />\n        </div>\n      </div>\n\n      <DevelopmentPlanWidget />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uLAAA,CAAA,UAA2B;;;;;0CAC5B,8OAAC,+KAAA,CAAA,UAAuB;;;;;0CACxB,8OAAC,qLAAA,CAAA,UAAyB;;;;;;;;;;;kCAE5B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mLAAA,CAAA,UAAuB;;;;;0CACxB,8OAAC,gLAAA,CAAA,UAAwB;;;;;;;;;;;;;;;;;0BAI7B,8OAAC,6KAAA,CAAA,UAAqB;;;;;;;;;;;AAG5B","debugId":null}}]
}