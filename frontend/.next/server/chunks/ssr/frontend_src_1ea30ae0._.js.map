{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/hooks/use-role.ts"],"sourcesContent":["\"use client\"\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useToast } from './use-toast';\nimport { getLatestActiveSurvey } from '@/services/survey-service';\nimport { type Role, availableRoles, availableRolesForAssignment } from '@common/types/role';\n\nconst ROLE_STORAGE_KEY = 'accountability-os-role';\nconst ACTIVE_SURVEY_KEY = 'active_survey_exists';\n\nexport type { Role };\n// This is being removed to prevent confusing re-exports.\n// Components should import these directly from @common/types/role.\n// export { availableRoles, availableRolesForAssignment };\n\nexport const useRole = () => {\n    const [role, setRole] = useState<Role | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [activeSurveyExists, setActiveSurveyExists] = useState(true); // Always show the survey option\n    const router = useRouter();\n    const { toast } = useToast();\n\n    useEffect(() => {\n        const initializeRole = async () => {\n            try {\n                const storedRole = localStorage.getItem(ROLE_STORAGE_KEY) as Role;\n                if (storedRole && [...availableRoles].includes(storedRole)) {\n                    setRole(storedRole);\n                }\n                // The survey button is now always active, so we don't need to check session storage for its visibility.\n            } catch (error) {\n                console.error(\"Could not read from storage\", error);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n        initializeRole();\n    }, []);\n\n    const setCurrentRole = useCallback(async (newRole: Role | null) => {\n        setRole(newRole);\n        \n        try {\n            if (newRole) {\n                localStorage.setItem(ROLE_STORAGE_KEY, newRole);\n            } else {\n                localStorage.removeItem(ROLE_STORAGE_KEY);\n            }\n        } catch (error) {\n            console.error(\"Could not write role to localStorage\", error);\n        }\n    }, []);\n\n    return { role, setRole: setCurrentRole, isLoading, availableRoles, availableRolesForAssignment, activeSurveyExists, toast };\n};\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAEA;AALA;;;;;AAOA,MAAM,mBAAmB;AACzB,MAAM,oBAAoB;AAOnB,MAAM,UAAU;IACnB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,gCAAgC;IACpG,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IAEzB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,iBAAiB;YACnB,IAAI;gBACA,MAAM,aAAa,aAAa,OAAO,CAAC;gBACxC,IAAI,cAAc;uBAAI,uHAAA,CAAA,iBAAc;iBAAC,CAAC,QAAQ,CAAC,aAAa;oBACxD,QAAQ;gBACZ;YACA,wGAAwG;YAC5G,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YACjD,SAAU;gBACN,aAAa;YACjB;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,OAAO;QACtC,QAAQ;QAER,IAAI;YACA,IAAI,SAAS;gBACT,aAAa,OAAO,CAAC,kBAAkB;YAC3C,OAAO;gBACH,aAAa,UAAU,CAAC;YAC5B;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wCAAwC;QAC1D;IACJ,GAAG,EAAE;IAEL,OAAO;QAAE;QAAM,SAAS;QAAgB;QAAW,gBAAA,uHAAA,CAAA,iBAAc;QAAE,6BAAA,uHAAA,CAAA,8BAA2B;QAAE;QAAoB;IAAM;AAC9H","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/hooks/use-mobile.tsx"],"sourcesContent":["import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAuB;IAEpE,CAAA,GAAA,qMAAA,CAAA,YAAe,AAAD,EAAE;QACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;QACvE,MAAM,WAAW;YACf,YAAY,OAAO,UAAU,GAAG;QAClC;QACA,IAAI,gBAAgB,CAAC,UAAU;QAC/B,YAAY,OAAO,UAAU,GAAG;QAChC,OAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;IACjD,GAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/lib/role-mapping.ts"],"sourcesContent":["\nimport type { Role } from '@common/types/role';\n\nexport const roleUserMapping: Record<Role, { name: string; fallback: string; imageHint: string, role: Role }> = {\n  'Manager': { name: 'Alex Smith', fallback: 'AS', imageHint: 'manager', role: 'Manager' },\n  'Team Lead': { name: 'Ben Carter', fallback: 'BC', imageHint: 'leader', role: 'Team Lead' },\n  'AM': { name: 'Ashley Miles', fallback: 'AM', imageHint: 'assistant manager', role: 'AM' },\n  'Employee': { name: 'Casey Day', fallback: 'CD', imageHint: 'employee', role: 'Employee' },\n  'HR Head': { name: 'Dana Evans', fallback: 'DE', imageHint: 'hr head', role: 'HR Head' },\n  'Anonymous': { name: 'Anonymous', fallback: '??', imageHint: 'anonymous person', role: 'Anonymous' }\n};\n\nexport const getRoleByName = (name: string): Role | undefined => {\n    for (const key in roleUserMapping) {\n        if (roleUserMapping[key as Role].name === name) {\n            return key as Role;\n        }\n    }\n    return undefined;\n}\n\nexport const formatActorName = (actor: Role | 'System' | string | undefined): string => {\n    if (!actor) return 'System';\n    if (actor === 'System') return 'System';\n    if (actor === 'Anonymous') return 'Anonymous';\n    \n    // Check if actor is a valid role first\n    if (Object.keys(roleUserMapping).includes(actor as string)) {\n        const user = roleUserMapping[actor as Role];\n        if (user.role === 'Anonymous') return 'Anonymous';\n        return `${user.name} - ${user.role}`;\n    }\n\n    // Check if actor is a name\n    const role = getRoleByName(actor as string);\n    if (role) {\n        return `${actor} - ${role}`;\n    }\n\n    // Fallback for simple strings\n    return actor as string;\n};\n"],"names":[],"mappings":";;;;;AAGO,MAAM,kBAAmG;IAC9G,WAAW;QAAE,MAAM;QAAc,UAAU;QAAM,WAAW;QAAW,MAAM;IAAU;IACvF,aAAa;QAAE,MAAM;QAAc,UAAU;QAAM,WAAW;QAAU,MAAM;IAAY;IAC1F,MAAM;QAAE,MAAM;QAAgB,UAAU;QAAM,WAAW;QAAqB,MAAM;IAAK;IACzF,YAAY;QAAE,MAAM;QAAa,UAAU;QAAM,WAAW;QAAY,MAAM;IAAW;IACzF,WAAW;QAAE,MAAM;QAAc,UAAU;QAAM,WAAW;QAAW,MAAM;IAAU;IACvF,aAAa;QAAE,MAAM;QAAa,UAAU;QAAM,WAAW;QAAoB,MAAM;IAAY;AACrG;AAEO,MAAM,gBAAgB,CAAC;IAC1B,IAAK,MAAM,OAAO,gBAAiB;QAC/B,IAAI,eAAe,CAAC,IAAY,CAAC,IAAI,KAAK,MAAM;YAC5C,OAAO;QACX;IACJ;IACA,OAAO;AACX;AAEO,MAAM,kBAAkB,CAAC;IAC5B,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI,UAAU,UAAU,OAAO;IAC/B,IAAI,UAAU,aAAa,OAAO;IAElC,uCAAuC;IACvC,IAAI,OAAO,IAAI,CAAC,iBAAiB,QAAQ,CAAC,QAAkB;QACxD,MAAM,OAAO,eAAe,CAAC,MAAc;QAC3C,IAAI,KAAK,IAAI,KAAK,aAAa,OAAO;QACtC,OAAO,GAAG,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,IAAI,EAAE;IACxC;IAEA,2BAA2B;IAC3B,MAAM,OAAO,cAAc;IAC3B,IAAI,MAAM;QACN,OAAO,GAAG,MAAM,GAAG,EAAE,MAAM;IAC/B;IAEA,8BAA8B;IAC9B,OAAO;AACX","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/frontend/src/app/nets/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useTransition, useRef, useEffect, useCallback } from 'react';\nimport { useRole } from '@/hooks/use-role';\nimport type { Role } from '@common/types/role';\nimport { availableRoles, availableRolesForAssignment } from '@common/types/role';\nimport DashboardLayout from '@/components/dashboard-layout';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Bot, User, Send, Loader2, ChevronsRight, ArrowLeft, SlidersHorizontal, Briefcase, Users, UserCheck, ShieldCheck, UserCog, Lightbulb, Play, ClipboardEdit, Edit, FileClock, Calendar as CalendarIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport type { NetsConversationInput, NetsMessage, NetsInitialInput, NetsAnalysisOutput, NetsSuggestionOutput } from '../types/ai';\nimport { useToast } from '@/hooks/use-toast';\nimport { MagicWandIcon } from '@/components/ui/magic-wand-icon';\nimport { roleUserMapping, formatActorName } from '@/lib/role-mapping';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { completePracticeScenario, getPracticeScenariosForUser, AssignedPracticeScenario, assignPracticeScenario } from '@/services/feedback-service';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Calendar } from '@/components/ui/calendar';\nimport SimulationArena from '@/components/simulation-arena';\n\n\nconst difficulties = [\n    { value: \"friendly\", label: \"Friendly\" },\n    { value: \"neutral\", label: \"Neutral\" },\n    { value: \"strict\", label: \"Strict / Defensive\" },\n    { value: \"aggressive\", label: \"Aggressive\" },\n];\n\nconst personaIcons: Record<string, React.ElementType> = {\n    'Team Lead': Users,\n    'AM': UserCog,\n    'Manager': Briefcase,\n    'HR Head': ShieldCheck,\n    'Employee': UserCheck,\n    'Candidate': User,\n};\n\n\nfunction AssignPracticeDialog({ onAssign }: { onAssign: () => void }) {\n    const { role } = useRole();\n    const { toast } = useToast();\n    const [selectedUser, setSelectedUser] = useState<Role | null>(null);\n    const [scenario, setScenario] = useState('');\n    const [persona, setPersona] = useState<Role | null>(null);\n    const [dueDate, setDueDate] = useState<Date | undefined>();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n    const [isDatePickerOpen, setIsDatePickerOpen] = useState(false);\n\n    // AMs and above can assign tasks to Team Leads and Employees\n    const assignableUsers = Object.keys(roleUserMapping).filter(r => ['Team Lead', 'Employee'].includes(r)) as Role[];\n\n    const handleSubmit = async () => {\n        if (!role || !selectedUser || !scenario || !persona || !dueDate) {\n            toast({\n                variant: 'destructive',\n                title: \"Missing Information\",\n                description: \"Please fill out all fields.\"\n            });\n            return;\n        }\n\n        setIsSubmitting(true);\n        try {\n            await assignPracticeScenario(role, selectedUser, scenario, persona, dueDate);\n            toast({\n                title: \"Practice Scenario Assigned!\",\n                description: `${roleUserMapping[selectedUser].name} has been assigned a new practice scenario.`\n            });\n            // Reset form and close dialog\n            setSelectedUser(null);\n            setScenario('');\n            setPersona(null);\n            setDueDate(undefined);\n            setIsOpen(false);\n            onAssign(); // Notify parent to re-fetch\n        } catch (error) {\n            console.error(\"Failed to assign practice scenario\", error);\n            toast({ variant: 'destructive', title: \"Assignment Failed\" });\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n    \n    return (\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\n        <DialogTrigger asChild>\n          <Button variant=\"outline\">\n            <Edit className=\"mr-2 h-4 w-4\" />\n            Assign\n          </Button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <ClipboardEdit className=\"text-primary\" />\n              Assign Practice Scenario\n            </DialogTitle>\n            <DialogDescription>\n              Assign a specific conversation scenario to a team member for them to practice.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 space-y-4\">\n              <div className=\"grid grid-cols-4 items-center gap-4\">\n                  <Label htmlFor=\"assign-user\" className=\"text-right\">Assign To</Label>\n                  <div className=\"col-span-3\">\n                    <Select\n                        value={selectedUser ?? ''}\n                        onValueChange={(value) => setSelectedUser(value as Role)}\n                    >\n                        <SelectTrigger id=\"assign-user\">\n                            <SelectValue placeholder=\"Select a team member\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            {assignableUsers.map(memberRole => (\n                                <SelectItem key={memberRole} value={memberRole}>\n                                    {roleUserMapping[memberRole].name} - ({memberRole})\n                                </SelectItem>\n                            ))}\n                        </SelectContent>\n                    </Select>\n                  </div>\n              </div>\n              <div className=\"space-y-2\">\n                  <Label htmlFor=\"assign-scenario\">Scenario to Practice</Label>\n                  <Textarea\n                      id=\"assign-scenario\"\n                      placeholder=\"e.g., Practice delivering the Q3 project update to the leadership team...\"\n                      rows={3}\n                      value={scenario}\n                      onChange={(e) => setScenario(e.target.value)}\n                  />\n              </div>\n              <div className=\"grid grid-cols-4 items-center gap-4\">\n                  <Label htmlFor=\"assign-persona\" className=\"text-right\">Persona</Label>\n                   <div className=\"col-span-3\">\n                    <Select\n                        value={persona ?? ''}\n                        onValueChange={(value) => setPersona(value as Role)}\n                    >\n                        <SelectTrigger id=\"assign-persona\">\n                            <SelectValue placeholder=\"Select the AI persona\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            {Object.keys(personaIcons).map(p => (\n                               <SelectItem key={p} value={p}>{p}</SelectItem>\n                            ))}\n                        </SelectContent>\n                    </Select>\n                  </div>\n              </div>\n              <div className=\"grid grid-cols-4 items-center gap-4\">\n                  <Label htmlFor=\"assign-date\" className=\"text-right\">Complete By</Label>\n                  <div className=\"col-span-3\">\n                    <Popover open={isDatePickerOpen} onOpenChange={setIsDatePickerOpen}>\n                      <PopoverTrigger asChild>\n                        <Button\n                          id=\"assign-date\"\n                          variant={\"outline\"}\n                          className={cn(\n                            \"w-full justify-start text-left font-normal\",\n                            !dueDate && \"text-muted-foreground\"\n                          )}\n                        >\n                          <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                          {dueDate ? format(dueDate, \"PPP\") : <span>Pick a date</span>}\n                        </Button>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-auto p-0\">\n                        <Calendar\n                          mode=\"single\"\n                          selected={dueDate}\n                          onSelect={(date) => {\n                            setDueDate(date);\n                            setIsDatePickerOpen(false);\n                          }}\n                          initialFocus\n                        />\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n              </div>\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button variant=\"ghost\">Cancel</Button>\n            </DialogClose>\n            <Button onClick={handleSubmit} disabled={isSubmitting || !selectedUser || !scenario || !persona || !dueDate}>\n                {isSubmitting ? <Loader2 className=\"mr-2 animate-spin\" /> : <Send className=\"mr-2\" />}\n                Assign Scenario\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    );\n}\n\nfunction SetupView({ onStart, role, assignedScenarios, onAssign }: { onStart: (config: NetsInitialInput, assignedScenarioId?: string) => void, role: Role, assignedScenarios: AssignedPracticeScenario[], onAssign: () => void }) {\n    const [selectedPersona, setSelectedPersona] = useState<Role | null>(null);\n    const [scenario, setScenario] = useState('');\n    const [difficulty, setDifficulty] = useState('neutral');\n    const [isSuggesting, startSuggestion] = useTransition();\n    const { toast } = useToast();\n\n    const handleStart = (assignedScenarioId?: string) => {\n        if (!selectedPersona || !scenario) return;\n        onStart({\n            persona: selectedPersona,\n            scenario: scenario,\n            difficulty: difficulty,\n        }, assignedScenarioId);\n    };\n\n    const handleGetSuggestion = () => {\n        startSuggestion(async () => {\n            try {\n                const response = await fetch('/api/ai/generate-nets-suggestion', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({ forRole: role }),\n                });\n\n                if (!response.ok) {\n                    const errorData = await response.json();\n                    throw new Error(errorData.error || 'Failed to generate Nets suggestion.');\n                }\n\n                const result: NetsSuggestionOutput = await response.json();\n                setScenario(result.suggestedScenario);\n                toast({\n                    title: \"Scenario Suggested!\",\n                    description: \"A practice scenario has been generated for you based on your recent activity.\"\n                });\n            } catch (e) {\n                console.error(\"Failed to get suggestion\", e);\n                toast({\n                    variant: \"destructive\",\n                    title: \"Suggestion Failed\",\n                    description: \"Could not generate a suggestion at this time.\"\n                });\n            }\n        });\n    };\n\n    const handleStartAssigned = (assigned: AssignedPracticeScenario) => {\n        // Pre-fill the setup for the assigned scenario\n        setSelectedPersona(assigned.persona as Role);\n        setScenario(assigned.scenario);\n        // Start simulation immediately\n        onStart({\n            persona: assigned.persona,\n            scenario: assigned.scenario,\n            difficulty: 'neutral', // default difficulty for assigned\n        }, assigned.id);\n    };\n\n    if (!selectedPersona) {\n        return (\n             <div className=\"w-full max-w-4xl mx-auto\">\n                <div className=\"mb-8 flex justify-between items-center\">\n                    <h1 className=\"text-3xl font-bold font-headline\">\n                         Nets â€“ Practice Arena\n                    </h1>\n                     <div className=\"flex items-center gap-2\">\n                         <Button variant=\"outline\" asChild>\n                            <Link href=\"/nets/scorecard\">Scorecard</Link>\n                        </Button>\n                        {availableRolesForAssignment.includes(role) && <AssignPracticeDialog onAssign={onAssign} />}\n                     </div>\n                </div>\n\n                <p className=\"text-lg text-muted-foreground text-center mb-6\">\n                    Choose a persona to practice your conversation with.\n                </p>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    {availableRoles.filter(r => r !== 'Anonymous').map(r => {\n                         const roleDetails = roleUserMapping[r] || { name: r, fallback: r.substring(0,1), imageHint: 'person', role: r };\n                         const Icon = personaIcons[r] || Briefcase;\n                         return (\n                            <button\n                                key={r}\n                                onClick={() => setSelectedPersona(r)}\n                                className=\"group flex flex-col items-center justify-center gap-2 py-4 transition-transform duration-200 ease-in-out hover:scale-110 hover:-translate-y-1\"\n                            >\n                                <Icon className=\"h-10 w-10 text-muted-foreground transition-colors group-hover:text-primary\" />\n                                <span className=\"font-semibold text-foreground\">{r}</span>\n                            </button>\n                         )\n                    })}\n                </div>\n                \n                {assignedScenarios.length > 0 && (\n                    <div className=\"mt-12\">\n                        <h2 className=\"text-xl font-semibold mb-3 flex items-center gap-2\">\n                            <ClipboardEdit className=\"h-5 w-5 text-purple-500\" />\n                            Assigned for Practice\n                        </h2>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            {assignedScenarios.map(s => (\n                                <Card key={s.id} className=\"bg-purple-500/5\">\n                                    <CardHeader className=\"pb-3\">\n                                    </CardHeader>\n                                    <CardContent>\n                                        <p className=\"font-medium text-foreground-primary\">{s.scenario}</p>\n                                        <p className=\"text-sm text-muted-foreground mt-1\">Persona: {s.persona}</p>\n                                    </CardContent>\n                                    <CardFooter>\n                                        <Button className=\"w-full bg-purple-600 hover:bg-purple-700\" onClick={() => handleStartAssigned(s)}>\n                                            <Play className=\"mr-2\" /> Start Practice\n                                        </Button>\n                                    </CardFooter>\n                                </Card>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n    \n    const Icon = personaIcons[selectedPersona] || Briefcase;\n\n    return (\n        <Card className=\"w-full max-w-2xl mx-auto\">\n            <CardHeader>\n                 <div className=\"flex items-start justify-between\">\n                     <div className=\"space-y-1.5\">\n                        <CardTitle className=\"flex items-center gap-2 text-3xl font-bold font-headline\">\n                             Configure Simulation\n                        </CardTitle>\n                        <CardDescription className=\"text-lg flex items-center gap-2\">\n                             Practicing with: <Icon className=\"h-5 w-5 text-primary\" /> <span className=\"font-bold text-primary\">{selectedPersona}</span>\n                        </CardDescription>\n                    </div>\n                    <Button variant=\"ghost\" onClick={() => setSelectedPersona(null)}>\n                        <ArrowLeft className=\"mr-2\" /> Back\n                    </Button>\n                </div>\n            </CardHeader>\n            <CardContent className=\"space-y-6 pt-2\">\n                <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center\">\n                        <Label htmlFor=\"scenario\">Describe the scenario to practice</Label>\n                        <Button variant=\"ghost\" size=\"sm\" onClick={handleGetSuggestion} disabled={isSuggesting}>\n                            {isSuggesting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Lightbulb className=\"h-4 w-4 mr-2 text-yellow-400\" />}\n                            Get Suggestion\n                        </Button>\n                    </div>\n                    <Textarea \n                        id=\"scenario\" \n                        placeholder=\"e.g., Giving tough feedback about missed deadlines to a good performer.\"\n                        rows={4}\n                        value={scenario}\n                        onChange={(e) => setScenario(e.target.value)}\n                    />\n                </div>\n                \n                <div className=\"space-y-2\">\n                    <Label htmlFor=\"difficulty\">Set AI Demeanor</Label>\n                    <Select value={difficulty} onValueChange={setDifficulty}>\n                        <SelectTrigger id=\"difficulty\">\n                            <SelectValue placeholder=\"Select a difficulty\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            {difficulties.map(d => <SelectItem key={d.value} value={d.value}>{d.label}</SelectItem>)}\n                        </SelectContent>\n                    </Select>\n                </div>\n            </CardContent>\n            <CardFooter>\n                <Button className=\"w-full\" size=\"lg\" onClick={() => handleStart()} disabled={!scenario}>\n                    Start Practice <ChevronsRight className=\"ml-2\" />\n                </Button>\n            </CardFooter>\n        </Card>\n    );\n}\n\nexport default function NetsPage() {\n    const { role, setRole, isLoading: isRoleLoading } = useRole();\n    const router = useRouter();\n    const { toast } = useToast();\n    const [config, setConfig] = useState<NetsInitialInput | null>(null);\n    const [assignedScenarioId, setAssignedScenarioId] = useState<string | undefined>();\n    const [assignedScenarios, setAssignedScenarios] = useState<AssignedPracticeScenario[]>([]);\n    const [isAnalyzing, startAnalysis] = useTransition();\n    \n    const fetchAssignedScenarios = useCallback(async () => {\n        if (!role) return;\n        const scenarios = await getPracticeScenariosForUser(role);\n        setAssignedScenarios(scenarios);\n    }, [role]);\n\n    useEffect(() => {\n        fetchAssignedScenarios();\n\n        window.addEventListener('feedbackUpdated', fetchAssignedScenarios);\n        return () => {\n            window.removeEventListener('feedbackUpdated', fetchAssignedScenarios);\n        };\n    }, [fetchAssignedScenarios]);\n\n    const handleStartSimulation = (newConfig: NetsInitialInput, scenarioId?: string) => {\n        setConfig(newConfig);\n        setAssignedScenarioId(scenarioId);\n        toast({ title: \"Simulation Started\", description: \"The AI will begin the conversation.\" });\n    };\n\n    const handleExitSimulation = (messages?: NetsMessage[]) => {\n        if (!messages || messages.length === 0) {\n            setConfig(null); // Just exit if there's no conversation\n            return;\n        }\n\n        startAnalysis(async () => {\n            try {\n                const analysisInput: NetsConversationInput = {\n                    ...config!,\n                    history: messages,\n                };\n                await completePracticeScenario(analysisInput, assignedScenarioId);\n                \n                toast({\n                    title: \"Simulation Complete!\",\n                    description: \"Your scorecard has been updated with the results.\",\n                });\n\n                setConfig(null);\n                setAssignedScenarioId(undefined);\n                fetchAssignedScenarios();\n                router.push('/nets/scorecard');\n\n            } catch(e) {\n                console.error(\"Failed to analyze conversation\", e);\n                toast({ variant: 'destructive', title: \"Analysis Failed\", description: \"Could not generate a scorecard for this session.\" });\n                setConfig(null);\n            }\n        });\n    };\n    \n    if (isRoleLoading || !role) {\n        return <DashboardLayout role=\"Employee\" onSwitchRole={() => {}}><Skeleton className=\"w-full h-screen\" /></DashboardLayout>;\n    }\n\n    return (\n        <DashboardLayout role={role} onSwitchRole={setRole}>\n            <div className=\"p-4 md:p-8 flex items-center justify-center\">\n                 {config ? (\n                    <SimulationArena \n                        initialConfig={config} \n                        onExit={handleExitSimulation} \n                    />\n                ) : (\n                    <SetupView onStart={handleStartSimulation} role={role} assignedScenarios={assignedScenarios} onAssign={fetchAssignedScenarios} />\n                )}\n            </div>\n        </DashboardLayout>\n    );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AAnCA;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,MAAM,eAAe;IACjB;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAW,OAAO;IAAU;IACrC;QAAE,OAAO;QAAU,OAAO;IAAqB;IAC/C;QAAE,OAAO;QAAc,OAAO;IAAa;CAC9C;AAED,MAAM,eAAkD;IACpD,aAAa,oMAAA,CAAA,QAAK;IAClB,MAAM,4MAAA,CAAA,UAAO;IACb,WAAW,4MAAA,CAAA,YAAS;IACpB,WAAW,oNAAA,CAAA,cAAW;IACtB,YAAY,gNAAA,CAAA,YAAS;IACrB,aAAa,kMAAA,CAAA,OAAI;AACrB;AAGA,SAAS,qBAAqB,EAAE,QAAQ,EAA4B;IAChE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,6DAA6D;IAC7D,MAAM,kBAAkB,OAAO,IAAI,CAAC,yIAAA,CAAA,kBAAe,EAAE,MAAM,CAAC,CAAA,IAAK;YAAC;YAAa;SAAW,CAAC,QAAQ,CAAC;IAEpG,MAAM,eAAe;QACjB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS;YAC7D,MAAM;gBACF,SAAS;gBACT,OAAO;gBACP,aAAa;YACjB;YACA;QACJ;QAEA,gBAAgB;QAChB,IAAI;YACA,MAAM,CAAA,GAAA,kJAAA,CAAA,yBAAsB,AAAD,EAAE,MAAM,cAAc,UAAU,SAAS;YACpE,MAAM;gBACF,OAAO;gBACP,aAAa,GAAG,yIAAA,CAAA,kBAAe,CAAC,aAAa,CAAC,IAAI,CAAC,2CAA2C,CAAC;YACnG;YACA,8BAA8B;YAC9B,gBAAgB;YAChB,YAAY;YACZ,WAAW;YACX,WAAW;YACX,UAAU;YACV,YAAY,4BAA4B;QAC5C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,MAAM;gBAAE,SAAS;gBAAe,OAAO;YAAoB;QAC/D,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACE,8OAAC,8IAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;;0BAClC,8OAAC,8IAAA,CAAA,gBAAa;gBAAC,OAAO;0BACpB,cAAA,8OAAC,8IAAA,CAAA,SAAM;oBAAC,SAAQ;;sCACd,8OAAC,2MAAA,CAAA,OAAI;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIrC,8OAAC,8IAAA,CAAA,gBAAa;;kCACZ,8OAAC,8IAAA,CAAA,eAAY;;0CACX,8OAAC,8IAAA,CAAA,cAAW;gCAAC,WAAU;;kDACrB,8OAAC,uNAAA,CAAA,gBAAa;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;0CAG5C,8OAAC,8IAAA,CAAA,oBAAiB;0CAAC;;;;;;;;;;;;kCAIrB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAc,WAAU;kDAAa;;;;;;kDACpD,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,8IAAA,CAAA,SAAM;4CACH,OAAO,gBAAgB;4CACvB,eAAe,CAAC,QAAU,gBAAgB;;8DAE1C,8OAAC,8IAAA,CAAA,gBAAa;oDAAC,IAAG;8DACd,cAAA,8OAAC,8IAAA,CAAA,cAAW;wDAAC,aAAY;;;;;;;;;;;8DAE7B,8OAAC,8IAAA,CAAA,gBAAa;8DACT,gBAAgB,GAAG,CAAC,CAAA,2BACjB,8OAAC,8IAAA,CAAA,aAAU;4DAAkB,OAAO;;gEAC/B,yIAAA,CAAA,kBAAe,CAAC,WAAW,CAAC,IAAI;gEAAC;gEAAK;gEAAW;;2DADrC;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQnC,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAQ;kDAAkB;;;;;;kDACjC,8OAAC,gJAAA,CAAA,WAAQ;wCACL,IAAG;wCACH,aAAY;wCACZ,MAAM;wCACN,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAGnD,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAiB,WAAU;kDAAa;;;;;;kDACtD,8OAAC;wCAAI,WAAU;kDACd,cAAA,8OAAC,8IAAA,CAAA,SAAM;4CACH,OAAO,WAAW;4CAClB,eAAe,CAAC,QAAU,WAAW;;8DAErC,8OAAC,8IAAA,CAAA,gBAAa;oDAAC,IAAG;8DACd,cAAA,8OAAC,8IAAA,CAAA,cAAW;wDAAC,aAAY;;;;;;;;;;;8DAE7B,8OAAC,8IAAA,CAAA,gBAAa;8DACT,OAAO,IAAI,CAAC,cAAc,GAAG,CAAC,CAAA,kBAC5B,8OAAC,8IAAA,CAAA,aAAU;4DAAS,OAAO;sEAAI;2DAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAMlC,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAc,WAAU;kDAAa;;;;;;kDACpD,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,+IAAA,CAAA,UAAO;4CAAC,MAAM;4CAAkB,cAAc;;8DAC7C,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,OAAO;8DACrB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wDACL,IAAG;wDACH,SAAS;wDACT,WAAW,CAAA,GAAA,+HAAA,CAAA,KAAE,AAAD,EACV,8CACA,CAAC,WAAW;;0EAGd,8OAAC,0MAAA,CAAA,WAAY;gEAAC,WAAU;;;;;;4DACvB,UAAU,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,SAAS,uBAAS,8OAAC;0EAAK;;;;;;;;;;;;;;;;;8DAG9C,8OAAC,+IAAA,CAAA,iBAAc;oDAAC,WAAU;8DACxB,cAAA,8OAAC,gJAAA,CAAA,WAAQ;wDACP,MAAK;wDACL,UAAU;wDACV,UAAU,CAAC;4DACT,WAAW;4DACX,oBAAoB;wDACtB;wDACA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAO5B,8OAAC,8IAAA,CAAA,eAAY;;0CACX,8OAAC,8IAAA,CAAA,cAAW;gCAAC,OAAO;0CAClB,cAAA,8OAAC,8IAAA,CAAA,SAAM;oCAAC,SAAQ;8CAAQ;;;;;;;;;;;0CAE1B,8OAAC,8IAAA,CAAA,SAAM;gCAAC,SAAS;gCAAc,UAAU,gBAAgB,CAAC,gBAAgB,CAAC,YAAY,CAAC,WAAW,CAAC;;oCAC/F,6BAAe,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;6DAAyB,8OAAC,kMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;oCAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAOtG;AAEA,SAAS,UAAU,EAAE,OAAO,EAAE,IAAI,EAAE,iBAAiB,EAAE,QAAQ,EAAiK;IAC5N,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;IACpD,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IAEzB,MAAM,cAAc,CAAC;QACjB,IAAI,CAAC,mBAAmB,CAAC,UAAU;QACnC,QAAQ;YACJ,SAAS;YACT,UAAU;YACV,YAAY;QAChB,GAAG;IACP;IAEA,MAAM,sBAAsB;QACxB,gBAAgB;YACZ,IAAI;gBACA,MAAM,WAAW,MAAM,MAAM,oCAAoC;oBAC7D,QAAQ;oBACR,SAAS;wBACL,gBAAgB;oBACpB;oBACA,MAAM,KAAK,SAAS,CAAC;wBAAE,SAAS;oBAAK;gBACzC;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBACd,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;gBACvC;gBAEA,MAAM,SAA+B,MAAM,SAAS,IAAI;gBACxD,YAAY,OAAO,iBAAiB;gBACpC,MAAM;oBACF,OAAO;oBACP,aAAa;gBACjB;YACJ,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,MAAM;oBACF,SAAS;oBACT,OAAO;oBACP,aAAa;gBACjB;YACJ;QACJ;IACJ;IAEA,MAAM,sBAAsB,CAAC;QACzB,+CAA+C;QAC/C,mBAAmB,SAAS,OAAO;QACnC,YAAY,SAAS,QAAQ;QAC7B,+BAA+B;QAC/B,QAAQ;YACJ,SAAS,SAAS,OAAO;YACzB,UAAU,SAAS,QAAQ;YAC3B,YAAY;QAChB,GAAG,SAAS,EAAE;IAClB;IAEA,IAAI,CAAC,iBAAiB;QAClB,qBACK,8OAAC;YAAI,WAAU;;8BACZ,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCAGhD,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,8IAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,OAAO;8CAC9B,cAAA,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;kDAAkB;;;;;;;;;;;gCAEhC,uHAAA,CAAA,8BAA2B,CAAC,QAAQ,CAAC,uBAAS,8OAAC;oCAAqB,UAAU;;;;;;;;;;;;;;;;;;8BAIvF,8OAAC;oBAAE,WAAU;8BAAiD;;;;;;8BAG9D,8OAAC;oBAAI,WAAU;8BACV,uHAAA,CAAA,iBAAc,CAAC,MAAM,CAAC,CAAA,IAAK,MAAM,aAAa,GAAG,CAAC,CAAA;wBAC9C,MAAM,cAAc,yIAAA,CAAA,kBAAe,CAAC,EAAE,IAAI;4BAAE,MAAM;4BAAG,UAAU,EAAE,SAAS,CAAC,GAAE;4BAAI,WAAW;4BAAU,MAAM;wBAAE;wBAC9G,MAAM,OAAO,YAAY,CAAC,EAAE,IAAI,4MAAA,CAAA,YAAS;wBACzC,qBACG,8OAAC;4BAEG,SAAS,IAAM,mBAAmB;4BAClC,WAAU;;8CAEV,8OAAC;oCAAK,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAAiC;;;;;;;2BAL5C;;;;;oBAQjB;;;;;;gBAGH,kBAAkB,MAAM,GAAG,mBACxB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;;8CACV,8OAAC,uNAAA,CAAA,gBAAa;oCAAC,WAAU;;;;;;gCAA4B;;;;;;;sCAGzD,8OAAC;4BAAI,WAAU;sCACV,kBAAkB,GAAG,CAAC,CAAA,kBACnB,8OAAC,4IAAA,CAAA,OAAI;oCAAY,WAAU;;sDACvB,8OAAC,4IAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;sDAEtB,8OAAC,4IAAA,CAAA,cAAW;;8DACR,8OAAC;oDAAE,WAAU;8DAAuC,EAAE,QAAQ;;;;;;8DAC9D,8OAAC;oDAAE,WAAU;;wDAAqC;wDAAU,EAAE,OAAO;;;;;;;;;;;;;sDAEzE,8OAAC,4IAAA,CAAA,aAAU;sDACP,cAAA,8OAAC,8IAAA,CAAA,SAAM;gDAAC,WAAU;gDAA2C,SAAS,IAAM,oBAAoB;;kEAC5F,8OAAC,kMAAA,CAAA,OAAI;wDAAC,WAAU;;;;;;oDAAS;;;;;;;;;;;;;mCAT1B,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;IAmB3C;IAEA,MAAM,OAAO,YAAY,CAAC,gBAAgB,IAAI,4MAAA,CAAA,YAAS;IAEvD,qBACI,8OAAC,4IAAA,CAAA,OAAI;QAAC,WAAU;;0BACZ,8OAAC,4IAAA,CAAA,aAAU;0BACN,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC,4IAAA,CAAA,YAAS;oCAAC,WAAU;8CAA2D;;;;;;8CAGhF,8OAAC,4IAAA,CAAA,kBAAe;oCAAC,WAAU;;wCAAkC;sDACvC,8OAAC;4CAAK,WAAU;;;;;;wCAAyB;sDAAC,8OAAC;4CAAK,WAAU;sDAA0B;;;;;;;;;;;;;;;;;;sCAG9G,8OAAC,8IAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAQ,SAAS,IAAM,mBAAmB;;8CACtD,8OAAC,gNAAA,CAAA,YAAS;oCAAC,WAAU;;;;;;gCAAS;;;;;;;;;;;;;;;;;;0BAI1C,8OAAC,4IAAA,CAAA,cAAW;gBAAC,WAAU;;kCACnB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,6IAAA,CAAA,QAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,8OAAC,8IAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAK,SAAS;wCAAqB,UAAU;;4CACrE,6BAAe,8OAAC,iNAAA,CAAA,UAAO;gDAAC,WAAU;;;;;qEAA4B,8OAAC,4MAAA,CAAA,YAAS;gDAAC,WAAU;;;;;;4CAAkC;;;;;;;;;;;;;0CAI9H,8OAAC,gJAAA,CAAA,WAAQ;gCACL,IAAG;gCACH,aAAY;gCACZ,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;kCAInD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,6IAAA,CAAA,QAAK;gCAAC,SAAQ;0CAAa;;;;;;0CAC5B,8OAAC,8IAAA,CAAA,SAAM;gCAAC,OAAO;gCAAY,eAAe;;kDACtC,8OAAC,8IAAA,CAAA,gBAAa;wCAAC,IAAG;kDACd,cAAA,8OAAC,8IAAA,CAAA,cAAW;4CAAC,aAAY;;;;;;;;;;;kDAE7B,8OAAC,8IAAA,CAAA,gBAAa;kDACT,aAAa,GAAG,CAAC,CAAA,kBAAK,8OAAC,8IAAA,CAAA,aAAU;gDAAe,OAAO,EAAE,KAAK;0DAAG,EAAE,KAAK;+CAAjC,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAK/D,8OAAC,4IAAA,CAAA,aAAU;0BACP,cAAA,8OAAC,8IAAA,CAAA,SAAM;oBAAC,WAAU;oBAAS,MAAK;oBAAK,SAAS,IAAM;oBAAe,UAAU,CAAC;;wBAAU;sCACrE,8OAAC,wNAAA,CAAA,gBAAa;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAK5D;AAEe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,aAAa,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IAC1D,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA2B;IAC9D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA8B,EAAE;IACzF,MAAM,CAAC,aAAa,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;IAEjD,MAAM,yBAAyB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACvC,IAAI,CAAC,MAAM;QACX,MAAM,YAAY,MAAM,CAAA,GAAA,kJAAA,CAAA,8BAA2B,AAAD,EAAE;QACpD,qBAAqB;IACzB,GAAG;QAAC;KAAK;IAET,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;QAEA,OAAO,gBAAgB,CAAC,mBAAmB;QAC3C,OAAO;YACH,OAAO,mBAAmB,CAAC,mBAAmB;QAClD;IACJ,GAAG;QAAC;KAAuB;IAE3B,MAAM,wBAAwB,CAAC,WAA6B;QACxD,UAAU;QACV,sBAAsB;QACtB,MAAM;YAAE,OAAO;YAAsB,aAAa;QAAsC;IAC5F;IAEA,MAAM,uBAAuB,CAAC;QAC1B,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;YACpC,UAAU,OAAO,uCAAuC;YACxD;QACJ;QAEA,cAAc;YACV,IAAI;gBACA,MAAM,gBAAuC;oBACzC,GAAG,MAAM;oBACT,SAAS;gBACb;gBACA,MAAM,CAAA,GAAA,kJAAA,CAAA,2BAAwB,AAAD,EAAE,eAAe;gBAE9C,MAAM;oBACF,OAAO;oBACP,aAAa;gBACjB;gBAEA,UAAU;gBACV,sBAAsB;gBACtB;gBACA,OAAO,IAAI,CAAC;YAEhB,EAAE,OAAM,GAAG;gBACP,QAAQ,KAAK,CAAC,kCAAkC;gBAChD,MAAM;oBAAE,SAAS;oBAAe,OAAO;oBAAmB,aAAa;gBAAmD;gBAC1H,UAAU;YACd;QACJ;IACJ;IAEA,IAAI,iBAAiB,CAAC,MAAM;QACxB,qBAAO,8OAAC,qJAAA,CAAA,UAAe;YAAC,MAAK;YAAW,cAAc,KAAO;sBAAG,cAAA,8OAAC,gJAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;;;;;;IACxF;IAEA,qBACI,8OAAC,qJAAA,CAAA,UAAe;QAAC,MAAM;QAAM,cAAc;kBACvC,cAAA,8OAAC;YAAI,WAAU;sBACT,uBACE,8OAAC,qJAAA,CAAA,UAAe;gBACZ,eAAe;gBACf,QAAQ;;;;;qCAGZ,8OAAC;gBAAU,SAAS;gBAAuB,MAAM;gBAAM,mBAAmB;gBAAmB,UAAU;;;;;;;;;;;;;;;;AAK3H","debugId":null}}]
}